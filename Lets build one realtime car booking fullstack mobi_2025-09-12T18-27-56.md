# Let's build one real-time car booking full-stack mobile app by using Expo React Native

**üé• Channel:** Becodemy
**‚è±Ô∏è Duration:** 9:45:25
**üåê Language:** EN
**üìÖ Generated:** 9/12/2025, 7:27:56 PM
**üé¨ Video ID:** 4aS7g8OYHbg

---

## üìù Transcript

Have you ever wondered how on Carbooking app really work behind the scene?

Introducing a ride web.

On really time, Carbooking app for drivers and passengers.

By using this app, you can book your any ride and driver can accept that and then you can

communicate with each other as like over.

So this project is going to be super interesting.

Let's see a short demo of what we're going to be today.

Alright, so right now you are watching the passenger or user app onboarding screen.

I am working using my personal phone because for testing this mobile app, we must need to use our personal phone.

Otherwise, we cannot track the exact location in simulators or emulators.

So that's why I am using my personal phone here.

So here it's on beautiful onboarding screen, like some swiper, with service we are providing in our app, it's something like that.

Then we can press this error button and then it's taking us to the login screen.

So here we need to type our phone number and from here you can definitely choose any

country like from which country you are.

Then let's type the phone number and right now let's press this gate otp and after pressing

gate otp it's taking me to this otp verification screen and right now notice this is the otp.

So it's 4359.

Now we need to hit this verify button.

And then here you go.

I am creating account for the first time.

That's why it's taking me to this screen that create your account, enter your name and

enter your email address.

And the phone number is fixed.

We cannot update it right now because that's verified.

So here I'm just writing my name and email address.

Then I'm pressing this next button.

And here you go.

Right now it's telling me email verification.

So let me show you the email.

So here you go.

This is the email 7450.

This is the OTP.

So 74507450.

Now we can hit this verify button.

And here you go.

This is directly taking us to the home screen of the mobile app.

And here the recent writes you're going to be right history yet.

so it's telling like this. So right now if we press this where to, so inside this plan your

right screen first this will show us our exact location while we are currently. And then from here

we can like search on locations where we want to go. For example, I am suppose typing like this.

So I'm choosing like my country capital city and I'm pressing here and in here it's not giving me

any vehicle list, but why? Because in this location currently, no vehicle is available.

Why it's not available? Because we have to right now log into our driver app and we need

to turn one driver app. Then we can get access to the driver app and we will get the driver

vehicle in here. So how actually this logic is working? First, we are making on circle

from the user current location, we are making on 5 kilometers circle from the user current location.

And in these 5 kilometers, how many drivers are there? We are searching all of them and we're

giving that inside these options, these gathering options. But right now, no driver is available,

so that's why it's giving empty. But usually, if we use Uber or like other services,

they have a lot of drivers. That's why when we choose any location, that time we see a lot of

drivers. But this is right now our app and we're just testing it that's

right showing MG. But don't worry, let's go to right now to our driver app.

Before we go to the driver app, I want to introduce you to our two

years we use sponsor NILUS. NILUS is on API for email,

calendar and context. NILUS saves engineering games time so they can build

SQL and engaging communication experience there, customers love. So by using

Nailass API, we can build our own email app, our own calendar and contacts app. It means we can

connect our email in our personal app, or we can send email by using Nailass email API,

or we can fetch our calendar's data by using this Nailass API and contacts. They are actually

providing all services very easily, so which will save a lot of development time. And if you

If you notice that a lot of popular companies like Wix, Transpage, Compass, Cradion, Gertner,

Kelly, and old Republic title and many more using their services.

So this is like how they are working, like their email API.

We can explore their email API, the calendar API and the contacts API.

And this is like speed up your development with easy to use APIs.

API and this is like speed up your development with easy to use APIs,

they support Node.js, Ruby and Rails, Python, Java, Curl, anything. And like

they're powering the world-based product scheme and securing building to

foundation of our platform. So it's already a very popular platform and I'm

really happy that they're sponsoring this video and one good news for you and

that is if you are using all of my coupon code and from here which service you

are purchasing for that service, you don't need to pay any money for the next one month.

And this offers value for the last of this 24.

So I will show that inside that video because today in this video, we are also using

NileS email API for sending email OTP.

For the coupon code and other things, you can definitely check my video description box.

So right now, let's go to our driver app.

And here you go.

Currently you are watching the another app that driver app.

And this is inside the Android phone.

The previous one was inside iPhone and right now this is inside Android phone.

So let me right now press this sign up because I don't have any driver account.

And from here simply type our name.

So I am just typing my name here.

And then this is like country list.

So we can choose any country.

So which country you're from just choose that country.

Then right now enter your phone number without the country code.

like this. Right now we need to again write our email and then right now we can

press this next button and this time this is our vacal type so which vacal you

are own so we need to just choose that so for here I'm just choosing car this

is our vacal registration number meaning car registration number so here I'm

just adding something like dummy vacal registration date so something like

this then on driving license number vehicle color we can say white color and this

is very important rate per kilometer. Suppose the passenger is choosing on

location which is 10 kilometers from the user current location then this driver

how much rate giving here for example I am supposed typing and giving here like

50 so it means I want to church 50 my local currency per kilometer so

if the total distance is 10 kilometers, then I will charge 500 from the user.

So this is like how we are giving the estimated price for the distance. So then let's hit submit.

Right now we need to verify our phone number, which phone number we added.

So the OTP is right now. 3538. Now hit verify and right now we need to verify our email.

So let's go to our email and the email otp is 3257.

So 3257 and hit V5 button and here you go.

So this is the driver home screen or home page.

Here this is the driver total earning, the driver total complete write, the painting

write or cancel write and the recent all writes here.

But the most important thing is this top button.

If you turn one this, then on the your available for right now, it means you will take right

that time.

When you are pressing this one, it means you are off right now.

You are not taking any new right.

So let me turn one this again.

And right now let's go back to our user app again and let's right now give on right request.

So let's type the same location again.

this one and right now notice this is giving us on curve so why because on

curve is available here that's why now when we will press this confirm

booking now look at the Android app right now this is giving on new

notification that new ride request received so the driver is definitely

get on notification when on user is requesting for on a ride so the notification

will be something like this. When the driver will get a notification, the app will show on model

something like this. Then this is like from where to where the user want to go, how much

that distance, how much the amount and do you want to decline it or accept it. So if the driver

want to accept it, then the driver will press accept button. And here you go. When the driver is

praising accept, this is the driver interface. And let me show you the user one. This is the user

one interface. So this is in the user one notice, this is showing the driver name, the driver phone

number. If I press here, then I can directly call to the driver the driver car color and the

payable amount and just like on note, like pay to your driver after reaching your destination.

Now let's go to the drive

and just like on note, like pay to your driver after reaching your destination.

Now let's go to the driver one.

So the driver one is something like this.

This is showing the passenger name, the passenger phone number,

the passenger payable amount.

And right now the driver will go to the user current location.

And when the driver will pick up the passenger,

the driver will just press this button, pick up passenger.

And then we will just show on masses something like this.

Let's have a safe journey.

And right now the driver will start this journey and the driver will go to the location and drop of the passenger.

So for now, for as you're testing this app, so we can simply right now press this drop of passenger.

And then here you go. We'll learn Shahri Aishwajib, white's killing me Shahri Aishwajib because that's my name here.

And this is the complete right. This is the total earning and this is the recent rights.

And this is the user app.

So notice in the user one, right now,

this is showing the recent writes, the user took.

Yep, so right now the user can again take another write.

It's possible for the user.

So this is our application short demo.

It's not possible to showing all the demo here.

And we also have like the login logout feature here.

This is the like write history.

Everything is available here.

The thing is that in this tutorial,

you're going to learn the all advanced things

about Google map APIs.

You will learn how can you play with Google map APIs

because everything we are doing here,

it's just Google map API word.

And also, I'll show you how can we implement

push notification system on app.

How can we make on real time connection

between driver and passenger?

Like how actually the over or car booking app really work?

So you will learn from this tutorial.

So this project is going to be super interesting.

So I don't know what's going to be in a single time here.

Let's start the coding part.

All right.

So right now what you have to do,

you have to go to my video description box

and you'll find out on starting setup GitHub link there.

And you have to just click that link

and then that you'll redirect you to this GitHub URL.

So this is our starting setup GitHub repo.

Just copy this URL, this URL.

Now come back to our terminal, okay, because we have to clone this.

So I am doing this clone inside this desktop folder.

And while you want to do the clone, just go to that directory.

And then open that and then do this git clone.

So I am doing clone in this desktop so that it will appear here in this home screen.

something like this. Great. Now we can close this terminal, we don't need this anymore

and I am opening this project inside our Visual Studio code and let me make

something like this so that I can open the iOS simulator easily here. All right

so iOS simulator here you go and if you are using Windows laptop or computer

Then what you have to do you have to just open your personal phone

Okay, and then you can scan the QR code for running xpro project, okay?

But if your computer have a very good configuration

Then you can run Android Studio and then you can run on emulator inside that okay

But like most of the people don't have that much good configurations computer. So they actually

the like you know, run the app inside their mobile. Okay. And also you can do one thing

and that is you can run the mobile app inside your Windows computer too. How possible?

Let me show you. So you have to just search this one. Vise or okay. So this is actually

on software here window to your phone. It means you have to connect the phone with your

computer by using on cable and then you will be able to see your phone inside your computer.

Okay. Then what will happen? You can make your phone as a emulator. Okay. As an emulator. Just

like connecting with your phone, connect your computer with your phone by using on cable.

Then simply download and install this software and then you will be able to get something like

this notice. This is giving like the preview of our phone. Yeah. So you can also

install or download this software if you want to see the preview in your

computer then. Great. So now come back here and let me explain you a little

bit about the folder structure. So we have here three folder driver,

Satellite, Satellite and User.

So for the driver app, this is the folder for

and user. So for the driver app, this is the folder for the server, this is the server,

which is totally empty right now. Just we have on package.json, but still it's fully empty.

We will work here later. And in user and driver, we have some pre-made code for just like, you know,

saving time. Okay. And the most important thing is if you notice this package.json is full here.

So actually if you think about React Native or Expo, we use here a lot of libraries or dependencies.

So that's why I actually like added up all packages inside this package.sson.

So right now we will just run on NPM.

I so we don't need to install like the other packages.

Okay, because everything will be installed right now.

And we don't need to install any other packages inside that tutorial.

Okay, if need, then we will do that.

But most of the packages already here.

Just look at here a lot of dependencies and packages already here.

Okay, a very good find.

And this is also some setup.

But right now we have to open our terminal.

We have to go to the user and we have run in BMI.

Same thing, we have to run for the

the driver tool, so npm i.

Great.

So user node modules installation is perfectly done.

Still, TSCONfig is giving on weird error, just close it.

Open another file and I think after some time it will be done. Yeah.

Okay, this is giving on very, very weird fun error. Okay, no problem.

But notice in the driver, it's not giving an error. But the code is totally similar.

So it's really funny. The same code is not giving an error inside the driver.

But inside user, it's giving error. So it's really very funny.

funny it's just type scripter so we can do one thing we can close this file then we can

press common shift and B for Mac and for windows I think control shift and B okay and

then click this reload window if it's not coming inside your VS code then just type like

it is reload window. Then click it. This will refresh our full VS code. Now notice no

error right now. So if we open underscore layer.tsx notice it's fully perfect. Oh by the way,

it's initializing still. But yeah, after initialization is still notice we don't have any error

right now great. So yeah it's fixed. So now we can go to our user directory and we can run

right now npm run iOS because I am running this app inside iOS. If you're running it inside

Android, then npm run Android, you can write or you can write npm run start. Okay. So yeah,

Then if you are using your personal phone, then you can scan this keyword code.

Then this will run the project inside your phone. Great.

Now, yeah, this is a very simple screen like our app name, which is right with.

And let me explain here a little bit what is this about this folder structure at first,

because if you are not familiar with folder-based navigations, then it might be a little bit

hard for you because if you are familiar with React Navigation, then this is actually not similar

as like a React Navigation, okay? And if you don't know React Navigation, then also no problem,

then you are lucky because if you know React Navigation, then you will be like, what is this? Why

we are not using that same thing here? So you will feel it's more complex than the React Navigation,

but if you don't know react navigation then very good. You don't have to worry for anything.

Okay. So here this is actually a folder, the main folder and in React Native, this underscore layout.usx is the root file. Okay.

And here notice this is like first we are importing everything as a splash screen from expose splash screen library. Okay.

Then we are also importing React Native for reanimated, then stack from export router, then

Ghost provider from React Native Ghost Notifiki.

expo router then ghost provider from react native ghost notifications and log

box from react native and use fonts from expo font and these few things from

expo router okay fine here we are first loading our fonts okay and here we are

ignoring the all logs okay if we comment it then it will don't ignore the logs

and here if the loaded or error is if the loaded state is true or it is giving any error then

the splash screen will hide okay if it's not loaded or not error then return then this will

return on null otherwise this will return this root layout nav okay great that's why when we are

giving on reload notice first splashes screen then it's coming okay great and

toast provider this is like our this is for our this react native toast

notifications okay this is something like react hot toast if your family are

with react on next case then I think you know this library name react hot toast

so something like that so we definitely need to add on a wrapper for that so

that so we are adding this toast provider here okay and stack this is coming

from expo router. Okay. Screen options here. We're adding some screen options like header

shown will be false. If we remove it, then you will be able to notice that this is giving

us an header. Okay. So we don't want any header. That's why we're writing header shown false

and stack dot screen. So we are actually giving on screen name here, which name is index

meanings this one. So we are actually calling this file index now. If we copy this and if

we write another one like roots, then actually slash roots, then inside here, if we create

any folder like notice, we have on index.tsx. So we can call the index right now. Okay.

And if we save it, then notice this index will appear here.

I think here.

No, I think we need to give 100 load.

Actually, it's calling is index.tsx the first.

In this layout, we are writing our layout, our stack layout.

This is actually calling this index.tsx first.

Great.

find no problem but we need to define or we need to write the all screens inside here okay we have

screens and tabs if here for time then it can be a little bit complex to you okay but don't worry

when you will see the full code step by step then you will also slowly start to understand it okay

because like you know it's not a website it's mobile app and we don't have any URL here so

It's a little bit different than the web site.

Okay, great.

Now here, this is our like index screen.

And so first of all, we need to start our onboarding screens.

Right. So yeah, for onboarding screens, let's go to this roots folder.

Okay, these organizations roots routes folder then create here on onboarding folder as a root route or as a screen

We can also say and here just create on index.tsx and rn if

React Native functional component

For now, we can make it something like this and here definitely we need to add the onboarding slash

index and first this will be a roots. So we are telling that go to the roots folder

then we have an on-roading then index. Great. So now here actually we need to do

few things here. First of all in this index.tsex in this app folder and this

index.tsx okay. Here we need to remove this everything and we need to import here

use state and we need to make here and state like is logged in. So by default this

will be false and after like implementing our authentication system we will

handle it dynamically. The user is logged in or not if logged in then this will

Re-direct

will redirect.

So here we can say if is logged in is false, it means right now

state. So then we can send our user to the routes then on

body. Okay. And you can skip the index also, we don't need.

I mean, we don't need to write the index, okay?

Our expo will automatically understand it.

Yep.

Then, otherwise we can move to on tabs, okay?

What we will make later, which is not available yet,

but no problem.

So, for now, notice, right now it's showing an index.

So why it's showing index?

Because right now it's redirecting to this on-boarding, okay?

On-boarding meaning, this one, on-boarding index.

So inside our onboarding index, we need to call here our onboarding screen.

So come back here inside this screens folder.

Oops, where's the screens folder?

All right.

I probably mistakenly deleted the screens folder.

No problem.

Let's create a new folder by giving them screens.

And inside here, let's create our onboarding.screen.chasing.

.jsx, great. And r and f and onboarding screen. Now let's import it. Then we don't need

this tool and also great. So we can close that file to right now. So yeah, onboarding screen.

But notice it's not in safe area view, right? So in iOS, if we use safe area view, this

will do some problem. Okay, safe area view is something like this view. Okay, fine. So

So that's why we have to do a few things here like style.

Flix will be one and background color.

We will use here color dot white color, okay?

Great.

So we can save it right now and here we can add on swiper.

So swiper is actually coming from React Native Swiper Library.

And here we need to write active.style.

We need to define some style, which will be styles.activestyle.

So we need to create these styles.

So we can create a new styles file also.

So import styles from dot slash styles dot GSX.

So let's click it and create it here.

Great.

And inside here I am just copying the CSS just for saving a little bit time.

But still it's giving some errors.

I know and this is because of the path error.

So we will look about it what's the issue.

You can also do this copy paste.

Don't worry, I'll explain about everything.

So common styles, window height, then external, imported font sizes.

and color then window width, fonts and yep for now it's fine and we can remove

this gsl also then we can save it the noise here great so now let me explain

little bit it's giving on smaller it cannot convert undefined web of object

Okay, I got it, I got it, I got it.

So this is actually coming from the Swiper library.

Okay, if we comment it, notice no error.

So this is actually coming because we need to provide here some other, some other properties

too.

Okay.

So that's why it's giving, it was giving some error.

No problem.

So here remove clips of views, which will be true.

Okay.

pagination style where we need to add on

Okay, and pageination style where we need to add on style so styles dot pageination style great

Now here we need our slides

data so slides data actually I already made it I mean I already

added it inside this constants.js x okay for saving our time and this is here

You can definitely update this by coming this constants file, okay like this

So here and slides.map slide let me see one thing okay this is not we don't have any

type here so then we can add here any no problem and index which type actually number.

And here we can return it, we can add on view, we can add on style, then style start

slide container and key will be this index.

Then here we need to add image.

So let's import image from react native and image style will be styles.

image background source will be slide dot image great and so right now if we

save it then let's see yep this is coming on image and right now we can even

like swipe it, great. Yeah, fine. So then after this image, let's add another view where

style will be style.imageBGView. And here let's add our image background, which is coming

from React Native and inside here resize mode will be straight.

stretch great then style will be styles dot image i m g okay and search will be

images dot bg onboarding and we can save it then inside here takes to will be let's

add some style in here like styles dot title great and value will be slide dot text great

and actually bg sorry bg on boarding okay I did here in small mistake that's why I'm

What's wrong here?

Okay, okay, okay, okay, let me see one thing be G on boarding

Okay, unfortunately it's missing here, but no don't worry. We have this image inside the assets folder

Okay, so just add something like this what I'm doing then you will also get this value no problem. So

So BG onboarding just add here like this and here then let's add this BG onboarding

great.

Now it's looking fully perfect.

Great.

So after this text, let's add another text where style will be style.description.

and value will be simple slide dot description. Great. Then after this we can add on

touchable opacity, input it from React Native. Here style will be styles.beckero

and one press will be router.push input router from

push import router from expo router okay and push here we will send our user to

the login page okay when so let's add here on icon back arrow icon okay input it

from our icons folder you will see icons here we need to define some color so

we can say color dot white color.

With will be 21 height will be 21.

And let's save it right now.

So

you might be thinking what's up gate.

Yeah, notice this is the upgrade great.

So this is actually sending to an unmet route because this

login is not still available.

That's why fine.

No problem.

So then after this, our this one-boarding screen is for now.

Down, let me show you notice.

For now it's done.

It's a very simple onboarding screen.

You can definitely customize it as per your wish.

The images and everything.

Okay, great.

So yeah, our onboarding screen is done.

So right now we need to start working for the login screen.

So let's start it. Let's create a new folder here by giving them login

Create on index dot ch6 here

R&F now if we save it now if we click the notice this will don't give any error

Okay, still it's giving on error

Hmm very weird to see okay, let's see why it's giving error

So it was giving error from here

right so Roots and Login it's really really weird to see just keep on reload now

click okay now it's not giving it a fine so it was actually just on like

render issue of expo not our code issue fine now we have to start working for

the login screen. So let's make the login screen. Log in screen copy this name import login

screen from screens then I did here in small mistake here I should create a folder by giving

name on boarding and then these two files we should move it inside this on

boarding. Here definitely this will give some error so save it right now and I

think that it will be gone on boarding. Okay yeah the error is gone so login

screen is giving right now no problem just come back here then screens and login login screen

dot usx rnf login screen now come back here screens login login screen now if we save it

error is gone great. So inside here this is our logins screen fine. So first of all

here we will use on helper which name is auth container. So what we have to

create right now. So for now we can simply make it on simple fragment and let's

come back inside this utils folder and create a new folder by giving name

container. Great. And inside this container, our container nerds, we can say our container

is okay, container is fine. And here let's create a odd container, not TSX, we can say

great. And also on style dot TSX, great. So in here, first we need to import few things

from React Native something like this then also few thing then import our external

so we'll use some different OS3 images vil

We have then styles.

So what we need to create actually, okay, we will create that later.

No problem.

Create here on type like props where container type will be react node top space, which will

will be any an image show which will be on Boolean. Great. Now, constant auth container.

This will receive container, top space and image show, which type will be this props.

And then let's return on view where style will be external dot fx1, meaning flex1, okay.

Notice fx1 means flex1, okay.

save it right now and then if image show is available then we need to add here on

text where style will be font family will be our TT or 2 squares medium okay

Font size will be our window width and we can say 25.

And inside here let's add our logo name like right with and we can give on

space because this is the like our lowest style and great.

fine now after this after this logic let's add an image for example

styles and uh

and let's add here some styles so uh we need to actually create here another style

files. Okay, so you already created here is style file, but we need to write here the CSS right now.

Great. So I am actually again copying it for just saving time. So this is the CSS. What we have here,

like here we are like spreading the common styles to shadow container. So then we don't need to

write this everything here, okay, like this thing, okay. This is as like CSS. If you know CSS,

then I think you know meaning sus okay so yeah something like that we're

spreading here the common styles dot shadow container so that we don't need to

write that again okay this shadow container CSS find that's it nothing else

okay and this is like color dot white color so we're using here on variable

and window height window window height is actually let me show you what is this

if you come to this app constant then you'll understand how this window height

and Windows with is working.

So first of all, the screen height is coming from dimension

which is very normal thing.

Then we have everyone on the node this thing,

this screen height with, but window height is actually

here we are doing some calculation.

Like screen height multiply, height.2 strings,

then dividing by 667.

So this is actually the device size, okay?

but the screen size is it Android? Is it iPad or is it iOS? Is it have NOS like like 14

Pro Max and 15 Pro Max iPhone? We have NOS but otherwise we don't have NOS. It's something

like you know I also didn't make this completely. I also copied it from some sources. Like

how can I make a perfect responsive like height and width? Okay, window height width. So

it's something like that. You don't need to worry for anything. You can just also copy

paste this okay that's it now come back here now here we can uncomment this

style and here we can write style start background image and then still we

need some merging top where we can say we did here in small mistake yeah here

it will finish here perfect.

we did here in a small mistake. Yeah, here it will finish here. Perfect.

Margin top will be actually the top space. Great. Now source will be images.

dot.bg. Perfect. Then after this, let's add another view and inside this view. Right now

we need to add the children, okay, because this is actually on container we are making and we will use it everywhere.

So right now styles.contain container. Then here let's add another view and where style will be

styles.container and inside here we can add on scroll view and we can call our container or the

children or something like that. Great. Now let's come back to a login screen because our container

work is done. We can use it right now. It's ready to use. Fine. So import here our auth container.

Oops. It's weird that we had to see. Okay, sorry, because we forgot to export it at last.

So let's export it at last. Now save it. Now come back here and container and

definitely we need to send here a lot of things. So first of all the top space for

now we can say window height and 150 okay and image show yeah show our

image so true and container inside here we can add one view for now so save it

right now then notice it's coming something like this but still we have some

issue here because the logo is not in the correct position so we can say padding

window height like 50 and we can increase the font size to 30 we can say

text align will be centered great now it's looking perfect it's a logo I know

it's not like a very professional logo you can definitely update this font

familiar you can add any type of custom logo if you want you can add here on

completely new image 2 okay fine now inside this view this is like this is the

view where we need to work right now so let's add here another view and from

here let's add another view okay yeah and then add here on image imported from

React native where style will be styles. Okay styles. So we need to create actually another

styles file. So here we can create it styles.jsx.jsx. So let's update this quote. I mean the

find name and here it's also a lot of CSS so we will just copy paste it something like this

great. And here let's uncomment this and styles dot transform line yeah source will be

images.line. Great. So let's save it right now. And after this image, let's add on sign

in text. So this is actually uncomponent. What we already have. So if you right now save

the notice this is already giving us some text like like join to take you right

internal phone number get an OTP and let's go so we don't need to make it it's

already pre-made and in view here let's add some styles like external CSS external

.mt and discord 25 then external dot pb changing spedging bottom window height

ten ya and here

spedging bottom window height 10.

Yeah.

And here we need our phone number input component, which is also done.

Something like this.

Great.

Then after this view, sorry, after this phone number input, let's add another view where

Style will be external.mergintop25 and external.pb15ling.spatching bottom 15th window height.

and here we need unbutton which is also done as a component.

So here we can then send some title here like gate OTP

and we can send here on on-press where it will take our user.

So it will take actually router.poosh.

It's import router from exportouter.push.

It will redirect our user to the routes

and OTP verification screen, okay?

What we need to make definitely, yeah, save it right now.

Then yeah, get OTP button, great.

Then after this we don't need anything here.

Yeah, for user this is fully perfect.

Like, join to take your right, just enter your phone number, get on OTP and that's it.

Let's go.

So here actually you need to type your country code.

Like for me my country code is 888.

I mean double 8 zero, it's my country code.

So if you are like from US, then I think your country code is one.

If you are from India, then I think it's nine, nine.

I'm not sure by the.

So yeah, what is your country code?

Just enter that then start typing your phone number.

Okay, then click this gate.

This will take you to the OTP screen.

What we need to make yet.

Great.

Fine.

So right now, let's start our OTP verification screens.

the way we will don't make any sign up screen here because we don't need any sign up screen

for user okay we will just like verify the user and after verifying the user we will ask

the user name and email and then when the user will like very in feel that then we will

let the user to enter the app okay and after this like from the next time user don't

need to write any password the user will just write the phone number just give the OTP

And then let's go login done.

And we'll definitely like, you know, keep our user login for a very long time.

So they don't need to do login like after short time.

Okay.

So don't worry for this thing.

Now we need to make our next screen.

Next roots also, which name is verification.

I think oops verification sorry it's OTP verification so OTP verification great and

on index dot gs x so R and F great.

Now if we click this gate or TP notice it's coming as index, I think this is screen,

it's rendering.

Great, so let's start to working here.

Here we need to make on screen what we are always doing.

So OTP verification screen, something like this.

And we can delete it and we can write import OTP verification screen from go to our screens

folder, do it a new folder by giving them verification.

Finally, we will be otp verification.scree.cs.

Okay, so let's create it actually.

So inside this screen folder, let's create a new folder by giving name verifications.

Verification.

and inside this folder let's create our OTP verification.screen.

or otp verification.screen.tsx file.

And let's type R and if and type the component name.

Yeah, otp verification.screen. Great.

Still it's not working, just type.tsx and remove it.

And here we go.

So it was like a little bit VS code issue.

So VS code, it's take like some time

for refatching this gate, okay?

This is actually also software VS code.

So that's why it was like some issue, no problem.

But right now it's working, notice no error.

We can close the index file then,

and let's click getotp,

then this is coming theotp verification screen, great.

And inside this screen, again,

we have to import our auth container.

So inside this odd container, here we need to define some cop space, which will be window

height and we can add 240 cop space.

An image show, this will be true.

Container, this will be first let's add one view.

here we can again call our sign in Kixt component and now this time we need to

see in here some props for example title will be OTP verification and subtitle

will be check your phone number for the OTP. Great. So if you're right now save it

then notice here you go, OTP verification check your phone number for the OTP. Perfect.

Now in here we have to use OTP text input which is actually coming from a

library and the library name is react native OTP text input let me show you so

input OTP text input from react native OTP text input now here let's use our

or audit be text in bold.

And here we need to send some props.

First of all, handle takes change.

This will return on code or something like this.

We can console up the code for now.

Input count.

So this input count will be 4.

takes import style will be style dot OTP takes input.

So we have to actually create this style file.

Let's come back here again.

import styles from dot slash styles dot GSX.

It will be actually style, I think not styles.

Yeah, then here we can change this name styles.

We can give any name no problem, but like here this is style that's why.

Okay, great.

So this is the few CSS.

CSS you can definitely also copy paste it because this is like the basic CSS and I

hope you know about basic CSS. Alright so now we can close this file and we can

come back here now remove this CSS. Now here it's done. Now after this text

import style we need to define King color so which will be also color yeah color

import color from theme-sepcolor color dot subtitle.

Yeah, and auto-focus, this will be false.

This will be going to auto-focus.

Yeah, great.

Now if we save it, then notice this is our OTP verification.

Yeah.

So for, for, for when I'm typing, check the terminal,

as the value inside here great. So after this, on tpx.input, let's create a new view and where style will be

external.mchi and discord 30, meaning smergin top 30, window height. Now inside here, let's use our

button

button, where title will be verified.

And one phrase, this will actually send our user to import router from export router,

dot dot push and this will take our user to the caps. So caps slash home for now. Okay.

Definitely we will make a dynamic right now, but verify great. Now after this button and this view,

Let's create another view and here style will be

external dot mb and discord 15.

Now inside here let's create another view where style will be external dot pt and

Discord chain, external.pb and Discord chain,

meaning spadging top, and padding bottom,

OK, window height definitely.

Yeah.

So then here we need to also define some external,

I mean some inline CSS here, here, yeah.

like flex direction will be row, gap will be 5 and justify content will be center.

Now inside this we can write on text where we can also define some style like

like command styles.rgla.txt and a value will be not received yet.

And I'm question mark, Jolly.

Yeah, something like this.

Then after this takes, we need on touchable opposite.

So, touchable opacity, put from React Native. Inside this we need on text where style will be.

Style.

got sign in sign up text yeah and color will be

black okay and here we send it

so not received yet then we send it okay something like this great

So now we have to actually make our back end screen so that we can actually make it dynamic.

So first of all, let's go back to our previous screens like this.

And from here when we will enter our phone number and here actually we need on select options.

options right? I'm feeling like input is not okay in here and by the way also one thing I

noticed that is our button color is not actually fully perfect. So we have to actually change this

button color. For example this color dot button beji will be not this one. So then which color it

will be. So this will be actually the color code. Okay. This is our brand color. That's why.

So yep, you don't need to do anything. I think you'll get update code. If you don't get

update code, then just change this button VG value from this app dot colors dot K6 inside

the theme folder. Great. All right. Fine. And in here, in this phone number select option,

we need to add on select feature.

So let's come back here in this login screen.

This phone number import, this is the phone number

and on text input.

Okay, so here I added two text input,

but instead of text input, here it should be on select option.

Like for selecting that country code,

Otherwise, it can do some problem in the verification process.

Okay, if anyone is writing...

otherwise it can do some problem in the verification process.

Okay, if anyone is writing wrong country code,

then this will don't send OTP to the number

because it's not possible.

If the number is not available,

then it will be don't W to send OTP.

And for sending OTP to the phone number,

we're going to use 3.0 API, okay,

for sending OTP to the phone number.

All right, so now just change it.

So first change it.

We can also do one thing.

can also create on another component for like some shortcut and I think we have this

component already inside our drive web.

Let me see.

No, it's not ever there.

Well, okay, fine.

Great.

Then we can create here.

Then we can also copy it in the drive web tool.

Great.

So let me create it.

This is Slackinfoad.tsex.

Yup.

And RNF.

C-Late.

Infoad.

Great.

And this component will actually receive some props like title.

holder items then value warning one value change and show awarning so here we

need to define on types like in both props. So let's create here on interface. So

interface input props and inside here title which type will be on screen.

this holder which will be also screen i-cam where we will add level which will be

string and value which will be string 2 and this will be an array okay and value this is an

optional but type will be string our name same this is optional but type will be string on value change

very important thing. This type will be value will be string and void because

this is on callback. Great and show our name. This will be definitely on Boolean.

Perfect. So now we can come back inside this view. First of all, we can import here colors.

We can distract here colors from use team. I don't know why it's not coming. Okay, because

we took call here. Yeah. Great. Now inside this view, first let's add on takes. So this

is already on takes and here style will be styles.title. So styles we can for this component,

we can create in here. Okay. So let's create it in here. I mean copy paste it in here.

Okay, you can also do this.

Just few lines of style here.

You can also check it, but be sure that we're importing everything correctly.

It's very important.

Color dot red is not available very weird.

Like me see.

Okay, secondary font is also not available.

Okay, and the rate.

So I'm adding this two new color.

Okay, we make sure that you're adding this as like me.

Type will be string and rate.

Type will be string.

Perfect.

So then here style.title and

dot title and color will be colored dot text. Great. And inside here we can add the title

perfect. Then here we can call our RN

picker

select which is actually

coming from a library

which name is ReactNative

picker select okay like this. So import

RN picker select from ReactNative picker

select. Now come back here because we need to

back here because we need to see here some props. So first of all, the envelope chains,

which will be the envelope chains, which is coming from the props. I came from the props.

coming from the props. Sorry. I didn't hear. After I came

placeholder where level will be the placeholder and value will be now for now.

Okay, and we need to add here some style like input iOS.

You can check the documentation of these libraries

for knowing more about these styling,

okay, because I am also like checking it

from the documentation.

So styles start input and background color will be color dot light gray and

and border color will be color dot border color and colors okay not similar this one and this one is not similar

then after this we need to define some CSS for the input and write okay this is for the Android device especially

And again, add the input default styles.

So we are spreading the output styles.

Then after it, we need to add here again on background color.

So we can copy this and border color,

which will be also similar like this one.

Great. Then after this,

after this our CSS is also done.

also here now add the value which will be value.

Now here if it's showing any warning, then only show on text where style will be style

start warning.

Where send our warning.

Something like this.

Great.

can save it still it's giving on error let me see from where it's giving the error

cannot be used to the j6 components okay this is on simply type script warning let me

see by giving on the reload so we'll develop our window and give on the reload what we do

enter first time like control shift and P and then enter. Okay, so this is actually

on TypeScript only. We will check about it later. These types return for your render

and you can be able between these types. Okay, we will check about it later. No problem,

but for now we can use it. It's ready to use. So come back in the OTP verification

screen not here. Sorry, in login screen. All right, so now here is the sake of this phone number

input login screens. Yeah, we can go inside this phone number input company. And here we can

and update it in this text input.

So let's remove it and let's add here

slick input. Here title will be

like you know we can say plus 8 8

like you know we can say plus 8 8 plus 8 0 this is my country code yeah and

and place holder will be select your country.

Value will be so let's do one thing.

Let's create a state which name will be Country, Code and State Country Code where initial

value will be on string like this one.

This is my country code, that's why okay.

And inside this value, this will be country code.

Great.

Then, after this, on value change, here this will return on tricks or something like this.

Where we can call our state country code.

we can add this text. Great. We can send this text. Then after this show warning,

for now this will be false. Okay. And then warning, this will be

please choose a please choose your country

and at last the Icamp so which is some main important things and here we need

the all country name with its country code right so right now it's not available in the source code

also I mean in the pre-made code also in the scatter file so you have to just go to the source

code okay then you will find out on file which name is countrylist.jsx okay which I will create right

now but you have to just copy it because I will also copy it. It's a lot of countries. I mean

the all countries name here actually. So let me create a new file in this config folder country

least dot gsx and here I'm pasting the all countries something like this gray.

and then here I can add the country items. If we save it right now, okay so this is telling me that

React Native Peacars Select could not be found within the project so it means I forgot to install it.

So let's install it. This is like sometime happens. I forgot to install it actually previously too.

So write it npm i and react native pickers.

Then this will be also gone.

Just wait a while for installing this.

Yep, it's done now.

Now we can press R and still.

Oh, sorry.

Where did I install them?

We have to go to the user period already.

Then we have to install it like this.

Now give on reload still 8 giving another error that is react negative

picker is not available, okay? So NPMI added a react netive picker slash picker

here, is tolic and done. Now if we give reload, I think it will be done. Yep, now it is

done. So it's not actually looking good, I know, but select is coming perfectly great.

So now we can delete this terminal, we can close this one and let's fix these issues

right now.

So first of all, the country code is...

the country code is this one. So come here. This is untaste. Value is the country code.

Okay, so here will be actually value.

For example, I am choosing my concrete.

Okay, so this is this was the place folder.

So where we can also add for now country code value will be country code.

At least I found the issue where else that problem.

First of all, let's go to this styles dot country code container.

And comment this everything or you can also delete it.

Just add here with which will be 69.

number input okay then this is fine here fine and then after this let's open this select

input and by the way I updated this country items a little bit the country items is right now

like this you'll find out you can set the source code okay like this then here if we go to the

the select input then we don't need this text anymore so we can like commentate for now fine

and here we're adding on height which is window height 39 let's add it here to value

and yeah everything is perfect for now

yeah and also inside here the place folder is just a level which is value

great all right perfect so for right now let me choose another country

suppose in India and India can recall this plus 999 sorry it's plus 91 not

plus 999 so plus 91 great now let me write here on number like 9 5 4

4791, 4972. Okay, this is my Indian number by the I traveled India. Then I purchased

this one and currently actually I am in India right now. I'm traveling in India. Okay,

fine. So then if I click get to be nothing will work because we need to right now start

working in the back end part. So let's start working in the back end part. If we click

this gate.oTP everything is still same. So let's start working in that

bagad right now. So first of all let's create here a new file by giving

name app.ts and server.js come back inside this package.json and here the main

will be actually build slash server.js and here we need to define type which will be actually

common.js and inside this script we need to add on script like gif so for this one we're

going to using TypeScript, NodeGive compiler, something like this. Okay. And after this,

for the start comment, this will simply run the NodeBuildServer.js. Great. And now we need to install

some dependencies here. For example, npm i

brisma dash client, then

copy parser, gs node, daif, and doilio. Okay. Then just press enter

oops it will doesn't work because we need to go to the city server then write this comment

perfect so we need to wait a little bit for finishing the installation and inside this server

folder right now create our

inside this server folder right now create our types folder then our controllers then

then middleware, then our routes, routes, then also eukules, like the utilities, then

definitely on .nz file.

Great.

And now we can clear it and also an important file that is our T is

country.

Dot jacer.

And for now simply copy this code by going to the source code,

something like this. Great. And we can close this file now. Come back inside this app.ts.

First inside dot ENV, let's write our port which is 8000, then node ENV which is for

now devoloment database URL and I hope guys I don't need to show you like how to create

a MongoDB.

It has a cluster.

This is a very basic thing so that's why I'm simply copying one of my cluster.

If you don't know how to create it then you can check my previous video.

I'll show you later because this is a very very very basic thing. Yeah, so for now is done. Now what we have to do we have to write this comment in px

Please ma in it. Yep. And here you go. This is our new prisma folder with our

prisma

Everything and now we can like you like that

comments all comments

inside our ENV, it's perfect.

And this is our Prisma folder, great.

So for now, simply come back here and write Rekore.

Our dot in the dot can

think something like this.

Now we can import express.

And the next function, the request and response from express.

And by the way, I forgot to import the express.

Yeah, NPMI types of express and also the express.

So I think I forgot to install it.

Yeah, notice, express is not available.

So NPMI express, very important.

Yeah.

Now import cookie perser.

So when it to install that type 1 for the cookie perser this is giving a leader.

Yeah now it's I think it will be done.

Yeah, error gun.

And here as we always do that same thing we will go here like some shortcuts.

for body person and cookie person and app is missing. So export const and app equal to

call the express and great. And we can add something for testing on testing the API,

something like this app.git slash test, the equals response nix and response status response

status 200 or JSON, success will be true,

masses will be APIs breaking.

Great. Now come back inside this server.js and first of all,

import here HTTP from HTTP.

You don't need to install it.

This is a certain video description to adjust the distance between the cross section and the

HTTP you don't need to install it this is on begin module and import app from dot slash app

now constant server equal to HTTP dot create server method and add here the app great

Now we can create the server. So simply server.listen and process.inv.port.

simply add here on console log like server is connected with port

code.fossays.end.port. Great. Now we can save it. Now we can run here npmran.if. So it was

giving an error let me see.

Cannot find module type script. Okay so in PMI

type script.

Now let's write this command again. Yeah now server is connected with port 8000.

it. Great. So now let's start working in our Prisma model. So here provider is actually

MongoDB.

And let's start to create model one by one. So first we need to create model for

user. Well, ID will be string, added ID and default will be auto and then to map here

underscore id then gv.

Then gv.type object id and O will be capital.

Great.

We can hide the sidebar.

Yeah.

Now we need name for our user which will be optional screen.

My optional because first time is that you will just enter the phone number.

Yeah, phone number, lot and it must need to be unique.

Email, this will be string, but optional and it's also must need to be unique.

User ratings which will be actually on float and by default this will be 0.

Total writes this will be on float, default will be 0.

Now create it at which will be get time and default will be now updated.

Add date time updated at great.

Now let's create a model by giving them rights where ID will be similar like this for

rights.

We must make it on user ID which will be spring and which will be give it odd object ID.

Then we must knit on driver for down the rights which will also be screen and give you

dot object ID.

We need how much the user attribute the driver charged from this user so that you'll

get a lot value.

We need to write the make on a relation with the user so let's make on a relation.

can give name user rights fields will be user ID references will be ID and now we need to

add this right here.

we need to add these rights here which will be this rights and array and make

here on the relation with user rights. Great now what is not it or is here

perfect and for the driver for now we can comment it because we don't have any

driver model it we will create it later so created it and I'm created it or we

can create the driver model tool so for the driver model this will be a little

bit big but before the driver model we need an NM which will be like our

vehicle type so for now we are allowing just this tail type of vehicle car

motorcycle and CNC if you want to add another vehicle then you can definitely do

that. So model driver actually this you will be not capital this is a best practice.

So like this and this yeah. So driver model first this ID will be always similar like this.

Then driver name, country and phone number must need to be unique.

Then email and vicar type.

Then we need the driver registration number, meaning card registration number, then registration

date and the driving license number of the driver with vigil color then driver rate as per kilometer

okay then driver total earnings total rights and cancel rights okay something

like this then driver status the driver is taking any new right or not and

they that last you did it updated and then this right so let's uncomment this

right now add the driver model now make it on relation for example driver

rights fields will be the driver ID the reference will be ID so yep for now our

database design is done if needed in modification we will do that later great

So as the database design is done so we can again come back here in this server.

Let's split it and run this command in px.prisma.gb push and yep,

generic Prisma client. Great. So it's done.

So now let's come back inside our controller.

create the user controller.ts

first require.nv then require express

now simply create a function for

register new user

So export consttand register user equal to go on passing function where

Request type will be request, response, response and next, next function.

Here we can add on try catch statement.

Yep.

Now here, constant something from request dot body.

side catch for now console log.error and we will receive the phone number from our front

date.

So now actually we need to use on message verification provider.

So far our this project we're going to using 3 Leo for sending OTP to that phone number.

So let's go to that tweed.

for sending OTP to the phone number.

So let's go to the Twilio official website.

Twilio.

Click this first website.

So this is a communication APIs for SMS.

And like a lot of popular, popular company,

already using their services.

For example, ERVNB notice.

notice, Toyota, I'm very concentrated across IBM.

Okay, fine.

So just click this, it's right for free.

If you have don't have any account in.

So first name, I'm writing my name here for email address.

I'm typing on of my email address password will be also something like that.

It must need 16 characters password.

Okay, 16 characters.

Great. Now click continue.

So check they made.

Alright guys, I gave here a wrong email information.

So I'm giving right now the correct one.

Now let me continue.

And here you go.

This is the.

OTP.

So simply add it in here and click this verify.

So your email address has been verified.

Now it's redirecting us to another screen another page great now from here

We need to add a phone number as I told you currently I am in India right now

So that's why it's giving me India and let me

Give the phone number

So 9 5 now say code VISMAs

So this will send on otp

the OTP is 1,200, 795. Now click this verify. So this is on Harika very code but I'm not

copying. Then continue. Then this will take you to the TWillio console account. Okay. TWillio

dashboard console. Now what do you plan to build with Twilio? So we can choose anything.

For now we can click we can choose like you know identity and verification which Twilio

product you are here to use. So verify what which describes you and your organization.

So you can like choose this one student. How do you want to build with Twilio with code

customize exactly what you want. According language JavaScript. Will you like to

Twilio to host your code? No, okay fine. Now click it start with Twilio. Great. So,

right now this is inside consulartwilio.com and this is on this is my account s i t and

and auth token, don't copy my account sid and auth token because I will delete it and

I will re-create it again after creating this video.

So we make sure that you are creating your own Twilio account and you are copying your

credentials.

Fine.

So account sid, copy this and come back here inside this .nv.

So first let's add here Twilio account sid which will be this one for now.

Then we need our Twilio Autotoken and last fun is Twilio Services ID.

So now let's come back here again.

is the auth token. So let's copy, copy and done. Great. Now we need is ID. So how to get this is I just

simply click this verify, click this other view. If you're not taking this verify here, then click

this explore product, this plus icons and search verify. Okay. Or it will be able to find the inside

here okay authentication and identity great okay it's coming here so let's click

this service as actually now click this create new and friendly name we can give

our platform name like ride with then we want SMS white sub we don't need any

and you want to support now just sms great now click continue yes then service successfully

created and just copy this service as id.

like this, great.

then from here

like this grid. Then from here everything is fine. So this will send message something

like this. Okay. So now we can actually come back here. This is fine. Now let's implement

Twilio. So inside this user controller we can close the sidebar right now. So first of

Let's add at the top our account is ID, our account is ID,

auth token and client.

So just copy it from the, I'm copying it from the documentation

actually.

And we need to import Twilio.

So import Twilio from Twilio.

Yeah, then we can save it for now.

Here actually let's add on trycat statement.

And inside here, let's add every client.verify.

and discord.services then process.env.ourtulio.

service is id. Great. Then dot verification then dot create.

Our channel will be actually our SMS channel.

And two will be the phone number.

Now, before the phone number, we must need to add on plus or we will take it from the

front end.

And catch if it's catch any error, then console love it.

Great.

For now it's perfect.

otherwise at last raise dots status 201 json

sexes will be true yeah done so now actually let's come back inside this

roots folder create a new file like giving them user dot root dot ts and import

Express and import something from our

Controllers and user controller and import the registered user

So user

router

Constant user router

Equal group

Express dot

Now user router dot post slash registration and call this registration user.

Now export the for user router.

Great.

Now we can come back inside this app.ts and we can add the roots.

So app.use slash API slash V1 meaning separation one and user router.

So input user router from routes and user router route.

OK, fine.

So it's done.

Right now, we need to implement gate from the front gate.

So from here when we're typing,

when we're clicking this gate OTP,

this will actually send on request to this API.

Okay, so from this OTP verification screen actually,

we need to actually open this login screen.

Yeah, here you go.

and phone number input from here.

When someone is clicking this gate.otp

So let's create here on state like phone number and

from number and say phone number, initial value VMT string and constant handle

Submic and in here let's go to the user and NPM I agios because I think it's not available yet. So NPM I agios great. Now here handle Submic.

When someone will click this, I mean press this gate OTP, this will call this handle submit.

Yep, something like this.

And in here we need to say this phone number and say phone number.

Also that country code we need to actually receive from here.

So, country code, send it and set country code.

So just copy these all types, come back here and add it.

Sorry, it's not like this.

Simply phone number.

Then we can remove this any type because this type is not any.

country code, country code. Now here type we can write here props and we can

create a new interface, interface props, which will be on number, phone number,

which is actually on string phone number which type will be phone number string and void

then the country code which will be string as well then the last one say country code which will

be something like this.

Yep, so great.

Now here, inside this text input,

the value will be

phone number.

on change text will be state code number.

All right.

Now if we come back here, add here async is our phone number equal to like this or our

country code equal to like this then return on toast dot so import toast from sorry

I keep toast notifications great now toast dot all right so add here actually use toast

and make tools like this. Right now we can use tools.show. Like please feel the fees.

And here we can add some placement like bottom for now it's fine. Great. So now from here I am choosing

that India Country Code and I am entering the phone number like 954791. Now get OTP.

Okay so it's not going in this logic otherwise. Consul log the phone number and the

country code. It's important for us right now. So get OTP and yeah here we go. So

So first of all we need to make right now on simple phone number.

simple phone number.

Okay, how?

So, simply add here country code.

Before this add on plus, then after this again add the phone number.

Oh, yeah, perfect.

Now I will read agios.post importagios from agios. Great. And from here in this user folder,

Let's create a new file by giving name

.nz. Here will be we need to add server urri

which will be HTTP dash dash dash and slash slash local host 8000 slash API slash

should be one. So copy the server UI and here process.inv.server UI then slash registration.

Here we need to send phone number like this.

So which will be this for number?

Yep.

And then this will give us a response.

So simply console logta response.

If it's catch any error, then console logta error.

So now we can save it.

Now let's click this get.

OTP so it uses giving an error.

Let's see what's the error network error.

Interesting.

All right, so let me do one thing.

Let me console up the.

Who says dot in the dot.

Whatever.

You are I hope it's undefined,

but how possible it should not be undefined.

server-y word. Okay, I think we need to use next public, like me see, sorry, expo environment variables.

Let's see the docs. Okay, so we have to use this one.

As like next is what we do always. So expo public server-y word, I

and here this will be similar. Now when I am clicking this gate OTP okay let me

give on reload and now here you go notice this is right now giving us

response very good now come back in this user controller and let me check

the verification code if I'm getting any verification code or not okay so it's

not sending many verification code let me come here let's click this verify

and settings and this geo permission which is very important yeah so notice

some traffic here are not elevate I'm showing you for example my country this

is showing not available so all the traffic from this video website okay just change it let me check

in gear notice this is actually monitoring not allowing all the time so change these few things now

click this save Geographic permission and then it's updated right now. Great. So let's click this

gate otp again. Let me console log this phone number, send it. Okay, it's coming. All right, so after

changing this to v2 not underscore v2 right now I am receiving code I cannot

show this to you but I am right now receiving code and I can I'll try to my

best for any my screenshots if I if I cannot but the message body is your

sample test verification code is 8 7 1150 if you right now come back here then

and you will also find out that

If you come back here, you will also find out that they sent on OTP.

I'm showing you notice on verification items from India.

This is the verification ID.

This is the phone number sent to this one.

And item verified sent to one.

It's actually sending OTP right now.

What did I change?

Let me show you again.

Be sure that you're adding V2 not underscore V2 okay and we don't need that console lock

then from here also

We don't need this console lock

Now let's modify it a little bit first of all add this response inside here

When we are getting on error

the status will be 400. Success will be false that time. Okay. And here same thing we will do for this error.

Great. Fine. Now what we need to do? The next is the verification screen. So here when we are getting on response, then we will redirect our user

to the next screen which is actually routes grid. Otherwise if we catch any error then

tools.show something went wrong please

this, re-check your phone number. And here we will show the type will be danger. And placement

will be done. So right now this will actually send us to the verification screen. Great.

So let me go to the verification screen, here we go.

And here we are getting the verified button.

Here is the verify button.

Let's create a new function here.

Something like this one.

handle submit and here let's add a new state here so you state OTP and set OTP initial

value of the empty string. There we can say 40p is empty then do this and for that

toast add it here use toast yeah import exos and here will be for now yeah for now like

this but let's come back here copy this OTP I mean say OTP and send this code great so we are

getting this OTP right now here this will be the OTP and we don't need to send New

you will simply cancel this OTP

and handle submit when we are clicking this verify button

Done.

Now from here, let's console like this OTP numbers.

Alright, so login screen is done.

After chess, we don't need it right now.

So let's come back in this user controller and let's create a new function.

verify or GP we can write this function name too.

create a synchronous function and these same things.

on a function and these same things.

Then, after this run on trycat statement,

similar like this one for the error.

For the try, here we will receive the phone number

and the OTP. So we're receiving it from request.body then let's add another

tricast statement where inside that try we will verify right now the services.

Verification. Sorry services inside here we need to provide the process dot ENV dot Twilio

service this ID and then dot verification shakes dot create to this phone number and code

is the OTP which one we are receiving break. So then if it's validate then simply

response, send on response 200 response like message, OTP-Hellified,

successfully. If it is giving us an error, definitely first console log the error

and then...

Raleast data status 400, success will be false and message will be something went wrong.

Great! Now phone number and OTP, so we need actually phone number when we are going from the login screen.

So what we can do in here?

We have here few options. First of all, we can send it directly from here.

So simply we can do one thing and that is here.

We can write path name.

We'll be actually this one.

Then we can send here some Params.

So for example here, we can send in this phone number.

Okay, so not actually phone number, we need to say in this one, the joint value. Yep, great.

Now come back here and constant, phone number equal to the use local search

perhaps. Yep, I'm calling great. Now if we cancel up these phone numbers and OTP numbers,

we will get both I think so. Yeah, so let's click this gate OTP right now.

Now this is coming here because the OTP came to my phone. Yeah, this is the OTP.

and let me check the console. So I'm noticing the console phone number is here. Oh

sorry we need to type something yeah. Don't click verify. Yeah we are

taking the phone number we're also taking the OTP numbers too. So phone

number is actually on object. So if we add something like this, then I think we will

do it screen. Yeah, right now we're getting the screen. Perfect. So yeah, it's perfectly coming. So

right now we can uncomment these and we can come back here. We can come back in this route,

these are root root cases inside backend and verify OTP. You can call this once and two.

Great. Come back here, change it to verify OTP. We need to send here this phone number and OTP.

So phone number and 4GP phone number will be the phone number

phone number and 4TP, phone number will be the phone number.

4TP will be the 4TP.

4TP numbers actually.

Now that you have the console log, then when you're getting response for now, just show

on tools.success like agon verified yeah for now it's fine

otherwise something went wrong okay so now let me try with it wrong OTB so what

is a correct OTP, let me see. It's 0925 and 3,2, okay, 6 characters. All right, so we are receiving

the 6 characters OTP fine. So here we can then then put count as 6. So 0925 and 3,2. Now I'm

clicking this verify. Oh my goodness, then this will work actually. Notice account verified,

because it's correct, that's why. So right now come back here again and just keep on reload

from this clear dashboard and here we go, app proofed. So the second one is right now, app proofed.

It means it's done. So when it's app proofed, then what we have to do?

We have to send our user to the next screen where the user need to enter the name, user name,

then user email address and yeah, these few things, okay. Because this is for the first time,

because we still don't know the user name and anything. And by the way, here right now,

after actually verifying the account, we need to create the user account with the phone number.

Okay, and then we need to actually filter other information. So, okay, so we will do it. No problem.

Let's go to the another screen right now. So, let's create a new folder right now. Just come back

in this user folder, a folder, organizations roots folder and create here a new folder by giving name.

we can send registration because it's something like that. So registration and on index.tsx

on rn if and we can save it right now and here we can in this screen folder we can create

a new folder by giving name registration or sign up or something like that similar thing.

registration dot screen dot sx. So registration screen. So we can save it right now. Just come back here.

Remove this everything and call the registration screen.

Now for now let's do one thing come back in this index dot t6 inside here inside this

app folder and instead of on-boarding make it registrations why so that this redirect

us to the registration screen. We don't need to go by clicking, okay, by praising. So for the

testing time, right now we're developing it so we need to go this screen. That's why I've

dedicated it to registration, okay, that's it. Now, first of all, we need here a few states. Let me just

add quickly like email format warning show oning and form data okay for now it's yep and

we need on function which name will be and they'll change because we're going to make in here farm yeah

and we need colors from use team. So import use team from react navigation slash

native. Yeah, great. Then right now, instead of view, let's add here on scroll view.

So import scroll view from react native.

Now here we need on logo.

So let's add on new view.

We can give you an comment like logo.

now.

view we can give you an comment like logo let's add on text inside text style

we need like similar style something like this and so let's import window height

and here our platform name right with here you go perfect so after this

takes let's add another view where style will be padding will be window width

important window width and 20 yeah now inside here we can create a new view and

inside this view here style will be something like this and we need

styles so just few styles so that's why I'm creating that inside here okay

something like this so import style sheet from React Native style sheet.create

and this few styles yeah great now come back here let's create another view

and style will be styles dot space grid. Now we need on component which name will

be title view which we already have in here. So in this title view we need to

send few things we need to send title which will be like this create your account

and on subtitle. So we can say explore your life by joining right with great. So

let me show you this component title of the component here you go. This is the

title view component inside our component folder. Sign up folder and title.view.ksx.

Yeah, very simple component. Great. So after this title view, we need input. So we need

to actually create this component. So let's do it. Just come back in this components folder

and commons folder, then create this input.jsx file.

Then Rnf input.

And here first let's make our input props interface like this.

So this is the input props interface and here let me add input props so that title then

and placeholder, keyboard type, value, awning and on change, text, show awning, email

format, warning and disabled.

Great.

We need this few things.

Yeah.

In this company.

Now let's use here colors from use, not use colors, this will be use team.

Let's import use team from react navigation slash native something like this.

right now come back here delete this text sorry we don't need to delete it

just add here some style so style and let me do one thing let me copy some

stylings for this components just for saving time here you go we need just

just few things. Fonts window width height color yeah here you go done so now we can

start to working in here styles dot title and text color will be colors dot

text. Let's receive here title.

Let's receive here title.

Great.

Then after this, let's add here

text input input from react netives.

Word style will be

styles.input.

And after this,

background color will be color dot light gray and border color will be colors dot

border gray. Placeholder will be placeholder. Placeholder takes color will be color dot

dot secondary found keyboard type will be props keyboard type yeah value will be value

area disabled if available then on change takes on change takes great so for now it's

fine and then one more thing like if it's showing any warning then on text where style will be

styles dot warning inside here we can call the warning so now we can save it great

So then come back here, let's use the input.

So input from components and then title will be name.

Place will be something like this, enter your name.

value will be form data.name on change text will be let's call the handle change

just remove this space yeah handle change and name and this text great shows

If shows awning is available then for data.name if it's empty then yeah awning will be like

please enter your name yeah great so here you go name and phone number we can

copy this we can write here phone number enter your phone number here will be

phone number here will be phone number and here here it's fine but phone number

one thing we need to go here we don't need any warning any onchains takes just

here will be for the phone number only because this will be actually

disable okay this will be verified from number 8583 so here just I'm adding

yeah something like this and disabled will be grow here yeah then the last

one will be email address. So enter your email address. Here we need to send

on the keyboard type like email address. Velo will be form data. email. Here will

be email and we need here on more logic if email formatting warning is

yeah something like this and please enter your email so here in this

warning if email formatting warning is like this then please enter your email

other wise please enter a valid it email great and email formatting

nameswim PCIezh

shrimp

and email formatting warning this one.

Cool.

So notice this one is visible.

We cannot do anything here and here we can type here its name, great.

So then after this let's add another view.

Style will be style.merging and we need button.

button title will be we can say next background color will be color dot button

bg so input color dot button bg yeah text color will be color dot white color

done. So yeah here we go next button. After doing one praise this we call handle submit function.

So, handle submit. Let's create it here.

Yeah. For now, it's done. So, this is our

After the account verification, when the user will enter the phone number and verify the phone number then

then for the first time when the user don't have any account, it will redirect to this screen for entering the other

informations. For example, the user name and the user email address. Then after this, the user still need to verify the email address.

So we will again send to user to the another like screen for verifying the email. Okay. Something like that. Great. So yeah, and

right now what we have to do we have to actually right now come back here and

we can change it to again the onboarding because our this registration screen is

done for now so let's make it right now dynamically so before starting the

registration screen work I want to do a little bit modification in our

first of all go inside this OTP verification. Yep, this one. And OTP verification screen. Wait, wait, wait, not.

We need to work work in both screens. So first of all, come in this login screen. And here we need to make another state, which name will be.

Actually loading and set loading initial value will be always false and when someone is actually

clicking in this handle submit the set loading will be true.

Not from here actually when the phone number is empty or country code is empty then host

us show okay.

not empty then set loading will be true then here we are sending request to exgeos then

here this will be actually false yeah then if receive any error that will be also false great

Now in this button we can go one thing we can say disabled let's receive

disabled here to button props add here disabled which is optional but

Boolean. Yeah. So, disarbled, disarbled, yeah. Sorry, not in style. So, we will say that

disarble will be that loading state one. So, when it's true, then this will be disarbled,

actually. We cannot click here. Right now, we can press. Okay. But after actually

when it will go to the login state loading state then we cannot press it.

loading state then we cannot press it.

Disabled or disabled.

Let me see.

Disabled.

Yeah,

disabled is correct.

Yeah.

So now

for now this is fine.

Let me add here and console lock for few things.

Response.

Responses is perfect.

Yeah.

So right now,

Let's give on the reload in

Everywhere even restart the backend server

Yep, now let me type here my balance this number currently. I'm in balance. So that's why I'm typing one of my number like this one

I'm clicking get otp

Notice something went wrong. Please recheck your phone number. So why it's telling me that something went wrong

please recheck your phone number. This is telling me because if I show you my

discount I add it this phone number in this account. Let me show you 016 014661

wait wait. 016 okay so we're gonna need a 05 4 yeah now we can click this

This gate otp, now if it ligate otp nothing will happen but right now it's coming to the

otp verification it meanings the otp verification.

I mean otp successfully came to my phone so let me check it.

Yep, I see it.

So it's still 123456 characters so I actually don't need any six characters.

I need four characters.

Can we update it?

we can update the length of the OTP.

Just go to the message verify service and then open it.

Then from here, this is the code configuration.

Notice six digits.

If we click 10 digits, this will say 10 digits OTP.

But we need only four digits OTP.

So just click that.

And click this save icon, save button.

Now click confirm.

are some errors in a service settings please correct them.

Okay, so be sure that what service off from here, okay, it's disabled.

So yeah, then right now if we click this save button, this will save notice service successfully

updated.

So code configurations for digits right now.

So what will happen right now if we click this account dashboard again, then this will

go back to our dashboard.

Yeah, great.

So let's come back here again, go back to our previous screen, let's click this gate

or TP and right now when I'm clicking notice, right now when I'm going to my phone, I

am actually right now receiving on 4 digits or TP.

actually it's still six digits because the phone number this one if I show you

it's still the same OTP okay because the previous session is not expired yet that's why it's sending

same if I show you this wait let me show you one thing if we click this overview from here

then notice this is pinging so we can click here and notice it's sent code this time

all right so if we come here right now for now add here six characters but after this from

the next time it will definitely send four characters okay but for now we need to add

here six characters. So you have nothing to do right now. But from the next time, this

will definitely send four characters because as we updated from the settings, that's why.

Fine. So right now if we come in this onboarding OTP verification screens, not onboarding

screens, still here we need to do some modification. And what's that? That is our loader. So

huge state snippet, loader, set, loader initially will be false but when someone

will click in this verify then here this will be actually true. Here will be

false and here will be false to great.

And here will be false to great and in this verify actually this button we will

send disabled when the lawyer is true that time fine and the OTP is gone let me

type the OTP again 7 to 3 3 4 1 now let me click this verify button

account verified. So here when this will show account verified we have to do

few things in this packet. First of all when the account is verified after

this we have to create on account with the phone number okay. So create

account now we need our Prisma service so let's do one thing let's go inside

this utils and create our Prisma.js and import here Prisma client from Prisma

Now constant prisma equal to global dot prisma, gibi or our new prisma client.

And if our process dot ENV dot our node environment, if it's equal to production, then only do

this global dot. Prisma TV equal to Prisma great and at last export default. Prisma very

simple but you might be thinking why it's still giving warning right error. Type script

very normal when it is just come back in this types folder and here you need to create a new file by giving them global D dot T s.

Okay, and inside here not here, let's do one thing, let's create another file by giving them Prisma dot D dot T s.

And let's just add this few codes.

Okay, import Prisma client from Prisma-client.

And declare global namespace, global this variable Prisma TV

and call this one.

Okay, then this error will be actually gone.

Great.

Now we need to create the user account.

So create user await.

Rizma.user.create where data will be the phone number will be phone number something

like this and success true message is this one and user will be this one I think we need

to send this user right? If we come back here, this is just with phone number

information. So I think we don't need to send it. And by the way, one thing is

very important here. First of all, we will check that this user is available or

not user exist.

Search user exist.

So constant is user exist.

Sorry not does this will be easier.

is a exist then a week.

raisema.user.findunicware for number equal to phone number.

What is this saying that object later, maybe not a system property, but phone number does

not exist in user where input, did you mean phone number?

Oh shit damn. This is phone number. So I did here wrongs,

Paling that's why so let's do one thing let's push it

wrong spelling that's why. So let's do one thing let's push it again in px

Prisma DB push like this and yep press Y done. Now notice that it is gone. So let's

save it right now that's why I was thinking what's happening. So if our ease

user is exist, bin, one thing, otherwise this one, phone number, yeah, otherwise

this response fine and when it's exist, then it's also fine, we can send

on response like yeah true, what do we verify successfully and we can send

then this user. Yeah. So for now you might be thinking what the hell is happening here.

I'll explain later a little bit later again. Okay. What is happening here? So after

verifying the OTP, when the user is verifying the OTP and I think here we need to send

the user then why let me explain to you user will be actually then this one

oh sorry sorry sorry I mean here not in this please market your user yeah why we need to

saying it. I did hear some wrong thing. Yeah, this will be user. This user, what the hell is happening here?

Cut it and add it in here. Yeah, so this is the if logic, wait, wait, wait, wait, what is this? Why two times?

My brain is not working.

What the hell is this?

Response will be inside here.

Why that outside of this if?

So is either exist.

If the user is exist, then just send response with the existing user.

If user does not exist, then create on user and send the new user.

is the logic okay so right now we can console log in the response so let's restart

again and come back here let me type the phone number again now get otp here we go now guys it's

full characters so yep I was talking about this one and then we don't need these six characters

Yeah, so right now it's 999

93 so let me type it wrong right now 9995 so when I'm clicking verify

Something went wrong. Please reject your phone number. Okay, not phone number. So let me check this message. Please reject your

OTP

Okay, yeah

Great. Then this will change the message, no problem. So right now let's type the correct one.

I mean in the OTP, not in the code. So 9993, this is the correct one. Now click verify and wait a while.

Something went wrong. Please check your OTP again. Seriously. Okay, because the server crashed,

that's why our backend server. Now I think this will work. Let's just click verify.

Very weird to see. Let me see what's happening here.

This request resource says not found. Interesting. Let's see from here. Let me do one thing. Let me

resend out IP again like this and restart the backend server great now let me

type the phone number again so 1601 636154

yeah get OTP now let me type the correct one so this is actually 1932

Now let me hit verify.

It's really weird to see that it's not working.

phone number in fact

Hmm

Phone number in Vedic provided expected flood provided string where

Okay, I got it. I got it. So this is coming actually from the

Begined, okay, this is not our problem or code issue. I mean yeah, it's a code issue coming from Pisma

This phone number is not

plot this is on string alright so the problem is actually in this phone number

I forget that we are using on plus icon right on plus symbol before the phone

number because that's the country code but for that reason it's not kicking

perfectly flat or perfectly flat type so that's why it's stringing on problem

So what if we update it to string, we don't have any problem here, right?

If you make it string.

So that's why we need to just make this phone number type to string, not only in

user, but also in driver.

So driver is already string.

That's funny.

And that's very good.

So, uh, legs do one thing.

Just push our code.

I mean, NpXP is my give you push.

push the code to the Prisma again because you updated it that's why and then npm

run Dave so we don't need any this as any yeah great so right now if we give on

on a retry it will work.

So let's try.

Let's get otp.

It's 8932.

Now it verify.

Account verified.

Great.

And we are getting here.

Notice what we actually need.

that is this, let's come back in this verification screen or

to the verification screen.

So this is giving us the response.

Success is true and this is the user created at this one.

Email null ID.

This one name is null for number is this one.

But why double plus I don't know really.

No problem.

We'll check out it later, but ratings zero total right zero updated at this one.

So we can write here on logic.

very important logic. That is if our response.data.user.email is not null. That time we need to

sync. Sorry if null not if it's null that time we need to send the user to this

multiply verification what does this mean when it's null email is null it

means to user new user so that time we will send our this user to the

registration screen but not like this we need to sync with some

informations. The information is our programs we need to sync the user which

which will be the response.keta.user.

Yep.

And if catch any error, that's different.

Otherwise else, and this one will be also then here.

Otherwise else we need to send this user to our tabs and index I think I'm not sure

about it.

So yeah for now I'm typing this or let me check actually.

So tabs and Home not Ingex.

Home but slash tabs and Home.

From here,

this is the tabs Home. Great. Great.

For now it's enough.

So now actually then we are sending the user to the registration screen.

when it's verified.

the user to the registration screen when it's verified that time then from this

registration screen what will happen let me see one thing right now in the database and here you

go this is the phone number notice this is in the database right now okay fine so we can then do

one thing that is inside this user controller. Let's actually create a new function. So this

is actually not a register user. This was actually a login user, but we did mistake no problem.

So let's create here a new function by giving them sign up new user.

So export constant sign up new user.

So async, request, response, next, crycatch.

And here we will check the name, first of all the user ID, email and name from request.body

then what we will do, we will check the user is existing or not so is user or user we

We can write no problem.

I will use.

Rizma dot user dot find unique.

Where ID is user ID.

And if user is available, then wait with user ID.

So suppose you are typing something like another user ID.

Okay.

Then the user is adding the phone number, like in this API.

Okay, so we need to check one thing here.

First of all, the user ID with user ID, we are searching the user, okay.

So if the user.email equal to null, then only we will create that user, okay.

I mean update the user. So then

Eric,

Prisma dot user dot

update

where phone number will be the phone number.

Name will be the name sorry phone number will be not phone number.

Name email yeah just update this two thing.

Not the phone number.

So name will be name.

Email will be email. Oh, sorry.

ID mistake. Where? ID will be the user ID.

Data will be this one. Yeah.

Name and email. Update the name and email. Great.

then at last constant updated user.

So then response dot status 201 dot json success crew user will be this updated user.

success, grow.

User will be this updated user.

Okay, add here and comma, yep done.

So if user.email is null then send this response.

Otherwise send here 400, success falls.

send one message that user already existing. Okay, so it's important because this is not

protected. This route is not protected. If you notice, this is open route. So that's why

we must need to check the user already provided the email or not. Suppose it can happen that

you are entering my email address, okay?

Sorry, my user ID and email and another name.

My user ID and your email and your name, okay?

You are probably like sending request to this API.

Then what will happen?

Previously it was like update my account for you.

It's actually not possible.

and previously it was like update my account for you. It's actually not possible. So that's

why I'm just we are just checking this logic like if the user email is not when it's not when

the user is new that time it's now then actually update otherwise don't update otherwise

send this error that a user already existing you you cannot update this user. Okay, so something

like that. Fine. So now what can we do? We can test this. Not test before testing.

Let's add it inside the roots. So then we can test it and user router dot put sign

user sign up new user. I know you might be thinking what the hell is this

registration is not doing registration just doing on login here. So we can also

change this name to login if you want, but right now if we change it we need to

change from a lot of places that will be very big message. If you want

definitely let's practice yeah so sign up user let's come back in here not

here let's go to actually the sign up screen so registration screen here

go add here async await exgeos.putprocess.e and v dot something for now okay then

then slash this one user here we need to send what we need to send we need to send user

ID email and name okay fine great so we will send these few things from here user ID will

be and a very important thing we are sending with params so this is the params name so

stand user from a use local search barrums. Great. So this user ID will be user.id and user type.

So let's add it any for now.

Email will be not user.email.

This will be actually our form data.email.

Yeah, name will be our form data.

Name great.

Yeah, then this will give us on response.

We can console out the response.

if it's catch any error we can console log the error 2 error is giving error because for

the type also not for the type for the wrong spelling yeah and if it's given the error

then toast let me see one thing toast dot show the response dot data dot message yeah I mean

and erode.data.message.

Yep.

Otherwise, response and toast.show.

And here one thing we need to say, type will be danger.

Here will be also.

We are sending any message here.

Let me see.

No, we're just sending the user.

you find then we can write it manually no problem that account.

No, no, no, wait, wait, wait, we need to verify the email to so we need to send

this user this time another screen and the screen will be actually the email

verification screen. So we can do one thing you might be thinking what the

hell is doing it's weird but not weird like when you are like you know going to

over for the first time yeah over it's not like this but like any good platform

will do this first verify your phone number then write your name write your

email then verify your email and then you're good to go okay this is the

process like how it happened.

verify your email and then you're good to go.

Okay, this is the process like how it happens.

So route.put, slash, we can say routes,

then slash email verification.

That will be very simple as like the OTB verification.

Okay, it's something like this one, okay.

So then email verification check your email for dot HP.

We can say something like that. Great.

So we can come back here inside this roots.

We can create a new screens like email verification new roots actually.

And on index dot TSX Rnf.

Very good.

Wait, wait, wait. Actually, guys, we are doing here some wrong thing as per me. Why wrong thing? Let me explain.

So this is actually we're not validating the email still. So we cannot actually save the data right now. When we will save that data, when everything is verified like the phone number and email address.

address. So that time we will redirect our user, I mean, sorry, we will create our user account

that time right now. We will don't update the email name because it's not verified yet.

So what can then we do here? We can for now cut this code very good. From here, we will

simply router.push path name will be slash roots slash email verification and in

Params what we have to do in Params we have to send our current user okay so

So user actually we can make here on variable an object where we will send name which will

be our form data dot name.

We can send email which will be the form data dot email for the phone number this will

be phone number not like this actually phone number phone number will be this user dot phone number

okay and wait wait wait user is actually coming from we can say user data bin

And first one is ID, which is actually user.id.

And here we can send the user data.

So because this was like, this was an issue, that's why.

So right now if we save it, this will not give an error.

And we can easily access the user tool.

But still I am confusing somewhere.

So let me console log the user to here.

This is like how we debug on project in development time.

You are learning this.

Now come back here and still one more thing I forget it.

On very important thing that is here the value will be this one.

User.phone number actually.

So then let's type 16 now get otp and here we go the otp is 0 9 9 0 so 0 9 9 0

and verify so here I count verified this is an object for number is not

coming perfectly. So that problem is here actually we need to string, we need to make it string. So

JSON.Stringify then right now this response.datar.user is readable. So right now when we are coming here

we can read this and one thing guys in this form data country code is not needed. We don't need

and therefore, LIG is also.

Yeah. So right now in this user, we will definitely get the value.

So sorry to say you, but we have to again, enter the number and we have to

send the verification code because that's expired here.

So get...

we have to send the verification code because that's expired here. So get your TP and this time it's

9 3 4 0 and verify and here you go the phone number is here okay so again I'm sorry for this

issue but I found the problem. We need to first this user right now. So first user and then json.pers.

Add this user. Copy this first user and instead of user make it first user. And here instead of

user data. Here we will also first user.id actually. And here JSON.stringify and user data, okay,

inside Params. Fine. Now let's try and right now I hope it will work. So get OTP 50 and 21,

verify yeah it's coming here great very good and from here when we are writing

the informations for example name like Shaharir my name email address for example

this one. Yep, so right now when we will click this next, this will send us to this

email verification screen. So let's create this screen tool. This screen's

email verification screen and on our an f email verification screen

Then we can delete it.

Come back here, constant user from use local search forums.

user equal to our json.stringify the user sorry not a stringify now it's

parts yeah done user okay I don't type really we can if you

console log this first user this will give us our first user great but this is

not enough for us because we need something like this one so copy this

add it in here again first auth container import it window height sign in text

instead of OTP verification this will be email verification please check your email at grace

for the OTP, OTP text in port we have to import this everything one by one so

common styles, external, touchable upper city, button, then style. We need to make it.

We will do it.

Or we can import the styles from the OTP verification one. Yeah, we can use it. No problem.

So style from our verification, color, now these few things.

So use state and use toast.

So simply this OTP text input coming from a library like this and a submit.

Yep, done.

But now what we have to do, our email verification is done.

So sorry, OTP verification done, email verification for email

verification, which service we're going to use.

So come back in this server, controllers.

find email address sorry sending otp to the email

sending otp to email

So we did right now implement NILAS in our website.

So let's go to NILAS website.

NILAS powerful communications API.

this registration now or built for free and we can click that continue with Google.

I'm choosing on of my Google account. So simply I'm choosing this one,

nilus.bcademy.adagemail.com and then this will redirect us to the Nilus

registration page and just click this continue and here we go.

it's taking us to our dashboard. So from here we have to choose that who are you

creating this account for. So we can choose like for myself or from an organization. So you can choose

which one you're creating for. So here I'm choosing myself. Here on organization name you can

definitely update it. And your role, so my role is like you know I'm a developer, some simply

choosing the full upper organization size we can choose one to 10. What would you like to build

with NILAS? So we can choose here like this contextual email client in application okay.

KELASMOR which is optional so we can skip it for now and we can click this create account.

And here you go. As right now we are making the mobile app so we can easily use this sandbox mode.

it's easy to use the sandbox mode. So simply from here I am then clicking this add a test grant

and here we need to write our email with which email we created the account. So something like

this one. And then continue with Google we have to press here. Then we have to choose the account

Google account then continue.

And from here, select all and continue like we're giving access to the NILAs.

So that's it. And this is our Crest Grant added and this is the grant ID. So we have to just

copy this grant ID. Then come back to our VS Code. And here we have to add our user grant

underscore ID, which value will be something like this. Then right now we need our NILAs API

So we can click this next step and generate API key and here you go.

We can right now copy this API key and we can store it inside this Nileless API and

underscore key variable.

So yep, that's it.

Very simple.

It's done.

So right now we can start to working with Nileless.

It will start to work.

It will send email.

It's as simple as like this.

So let's start to work right now and go to NILUS NPM library.

So we need this must just copy this, come back here now and NPMI NILUS done.

Then go to our app.ts file right now.

And if you check this docs, then this is the docs.

So first import NILAs from NILAs, then just this one.

Like constant NILAs, new NILAs, API key.

So here Nilacepi key is actually process.env.this1.

Very simple, great.

Inside this usercontroller.ts file and first of all we need to take our email, name and

user iG from request.body then let's

request dot body then let's make your RTP so math dot floor let's make on 4

digit of OTP plus math dot random you can multiply it with 9000 and dot 2

string. Now constant user equal to user ID name and email. Great. Then constant token.

right now we need to install another new library which name is json whip token so npm ijson

whip token very important and also npm i added it types then slash json whip token done.

here first let's import our JWT so JWT import not from Twilio actually this will be JWT yeah

So JWT.SignWit.

Yeah, import like this.

So then JWT.Sign inside here,

we want to sign our user and OTP.

Let's add here our process.inv.email activation secret.

We need to make this dot in V variable actually.

We will do no problem.

But eulger, not eulger, see ya.

And here this will actually expire in within 5 minutes.

Great.

Then right now we need to send on email. We have run all this so simply

arrayed nilus dot messages dot send. Here we need the identifier. Okay, so which

will be process dot ENV dot user underscore grant and this score ID and

request body to name will be name. Email will be email. Subject will be the

message. I mean email subject so we can say verify your email address. Yeah

something like this. Then message body. So here we can add something like this. So on paragraph

tag like high and name, dynamic name, then on paragraph tag you write a verification code

is this OTP. If you didn't request for this OTP please ignore this email and then thanks

right-grifting. Great. So a very simple HTML text here. Great. And if it's

catch any error, then let us know about the error. Then right now at last, we need to send this

response and token and definitely the OTP. Yeah. Oh, no, no, we don't need to send the OTP. Sorry,

We just need to send a response success and that token.

Yep.

The OTP user will enter the OTP.

Yep.

For now, it's fine.

OK.

So then come to our this Roots folder.

User Root.

Copy the previous one.

Add here on post request.

Email verification.

We can say or email OTP.

request we can see okay then here you can call our sending

what you've been made function fine now for now it's done but wait

words are app simply enter our phone number right now wait wait before

enter in the phone number let me go back again to the app roots and yeah OTP verification

after verifying the OTP

OTP verification after verifying the OTP, we're directing to the register here.

So we need to go to this registration screen actually.

Yeah.

So then email verification.

We are sending this user data.

One thing I did mistake.

Here will be user.

I mean, first user data.

Yeah.

So why is this registration dot screen dot T6 inside registration folder?

screen folder registration folder. We make sure that in this line there were 37 you are changing it to

first user. I did not small mistake here and then we don't need this anything.

Then come back to our email verification screen.

Alright, so this is the first user and we can say await.geos.postprocess.env.expo

public server ur i slash our this email oTP request here we need to send

treating again let's see we need to send these three things like email name and

user ID email will be the first user dot email name will be first user dot name

user will be same first user dot ID I think if I'm not wrong let's console log

this right now and then on response in the response this will actually let us

No, wait, what we are doing here?

I did small mistake guys. I am doing opposite. I don't know what is happened with me.

So not in email verification. We can comment it. Don't delete it. We need this. Okay, but not right now.

Go to this registration screen because we need to send from here actually.

Again, import exgeos.

Guard this everything.

When we are getting the response, then only send it.

And not only this field thing.

are data for numbers like this, name it like this and another one is activation code I think

right or sorry token not activation code token which is important if we come back here

notice wait wait we are sending token yeah

token so token will be raised dot data dot token okay otherwise

otherwise console log the error yeah so here we are sending our email

first user.email. Wait, first user.email is undefined actually. So this will be our

form.data.name, form.data.email and for the user ID, it's important. Yeah, then

first user.id then this is fine. Okay now here now we can try so let's try with

the phone number so 1 6 and get otp

OTP is 8.1 and 0.3 and verify this right now.

Then I can verify it fine.

From here we can write name.

So something like this.

Phone number is fine, email address.

So let me add here an email address like this one, then I'm clicking this next right

right now let's see

And then I'm clicking this next.

Right now, let's see what's happening.

So this is giving on error.

OK, I got it.

I got it.

Why this error is coming?

Because we totally forgot to create this email activation

secret inside our backend.e and v. So come here.

Notice it's missing.

So let's create it.

This will be simply on like JWLT generator.

We can use.

So we can go this website,

JWT Secret Key Generator,

and just click this, create a data putty.

And here you go, copy this.

Add it in here.

I know it's a very big,

but my problem copy and paste done.

Then now it will work,

but still one thing I forget that is our loading and set loading one.

So we can make another state then use state loading and set loading.

Initially falls but when someone is submitting here first it will be true.

getting response again false or getting error again false and in here disabled loading great now

again write the name and everything so let me write here my name and it's that email so now I'm

again clicking this next and wait let me see the backend server and front end server okay

all is fine now click next and here you go it's right now coming to this screen it

it means it sent OTP to the email perfectly let's check it right now so simply from here if we

check this send also then you will all all all the time to understand what is

germinets ago hello shahir your shahjip your right way verification code is this one if you

you didn't request for this OTP please ignore this email thanks right

with team which mail to this email which one we entered from our form great so

it means we are perfectly sending the everything I mean getting the OTP right

now let's check our this console this is our all the account information like

email ID name phone number and this is that token so yeah we need to actually

send it and we are sending it now come here and inside this first user we are

getting our this information so right now what we have to do we have to verify

this account right so very simple that is here we can create our last function

for the authentication that is a verifying email oTP. So export, constant, verifying email.

You can see verifying email, yeah fine. And a sync and one try catch statement.

And from the our end, we will receive the OTP and the token from where from the request

dot body.

Then constant user, we can see new user.

Okay.

Yeah.

Like JWT.

Now we need to verify it.

So JWT dot verify method.

our that token verify it with our process dot ENV dot our activation secret sorry not

activation secret this is our email activation secret yep.

Then after this we can say if our new user dot token is not matching with that token,

Then we can return, raise.status400JSON.

success will be false and on message that is OTP is not correct.

OTP is not correct or expired. Yeah. So, the user is giving error because Skype, we can

write now, we'll give you any type, no problem. Otherwise, constank the name, email, we are

getting from a new user.usr.

Yeah.

Now constant user equal to a rate,

Risma, this thing actually.

What is sign up new user?

We don't need actually this one.

So we can simply copy this logic now.

Yeah.

And we can then delete this one.

This sign up new user.

don't need this one anymore. We can simply add it here something like this. So user ID, what we are

from here I think. Here will be ID not user-ready then user-trotting-mail.

And then right now, OTP.

Sorry guys, here will be new user.

OTP and here will be the OTP.

So if the OTP is not matching, then this one.

I did on small mistake.

Otherwise, user, we have to actually

console log this new user.user.

Yeah, so we can save it right now.

And for now, let's make our another route.

You may OTP verify we can say.

verify email great. So from here we can then uncomment it right now. This will be main

put request we need to send just token which will be our first user dot token and

OTP. Which one will be actually over something like this like OTP numbers and

here will be the OTP. Numbers. Okay fine. And then console.log response and if

cationator then check that. Yeah so here actually this is giving us the updated

user which is also not fully correct because we need to send on broken right now like the access

key by using that access key user will be logged into the account okay because after this this is

right now the finish the motive this escape is finished so we can in this utils folder we can create

a new file by giving them sent token.gsl sorry not gsl ts yeah so send token export constant

send token where we need to receive user parameter type will be user okay I don't know why type solution

I mean solution is not coming okay we will check later but from here what we need to do we can say

access token equal to jwt.notfromtweeleo this will be from jsonwebtoken and not as an object

Yep. So, here Wt.Sign method where ID will be actually our user.id then

will be actually our user.id then process.env. our access token secret okay which one we need to create

and then expires in will be we can give here like seven days. Yep or we can give 30 day fine

that's also good. And user type we can write in the Nenov problem. So access token we are creating it

then raise.status201.json success true and this access token and also the user and response

like any. Yeah. So for now we can save it. So then we can come back here.

Instead of sending this one we can call this send token and we can send this user.

Which user this updated user. And this is also expect a response. Yep. So we can save it right now.

All right, so right now we can then write the OTP.

This is 2564.

As you know, 2564, then hit verify.

So JW actually expired.

So how can then we understand about this error, right?

We need to tell our user that, hey, this is not,

like it's not right right now.

It's not correct.

So for that reason, this is email verification screen.

Yeah.

Simply add here raise dot status 400 dot json.

Success false and message will be the

your activation, sorry your ODP is expired.

Yeah, so right now when we will click this verify notice and still okay, it's giving

as an error from our actually.

Prisma, okay, it's normal.

So yeah, because I have confused somewhere, first of all,

in this user console log, not just new user.

User here, we're getting user ID.

Okay.

So this is actually user ID, not ID.

Great.

Then we can actually remove it and

come back here. This will be user-ready then.

And definitely this access token secret, we make sure that we are creating it.

Otherwise this will give us on another error.

So we can go to that generator.

Yep. Now if it looks like this verify,

I believe this will go in giving error right now.

Secret Gear Private key must have a value.

Hmm, very weird to see this.

Okay, again he glorified.

Now no error, but let's see one thing.

Okay, notice the data is right now updated.

Fine.

But we are getting the response or not, let me see in the front end.

The data is getting updated, it means there is a right now created perfectly.

But we need this token, this access token for giving this user to log into our app.

So for the last time, again, give on Recry and one thing guys, let me just see from here.

add here on array and from here let's add on async. Yeah. So yeah, for the last

time let's do one thing, delete our this user and fix that plus plus issue

also. So from here if you come here notice phone number. Okay so phone number from

where it's coming. It's coming from this login screen. So we don't need this

plus anymore. Yeah great. Now come here and let's create it. So 1,6 and get OTP

and our TP is 6738, so 6738 hit verify.

This one right now notice we have just on the on plus which is fully correct.

Then hitting next and let's go to email.

Here you go.

what is 3.875.

Now it verify and here you go.

We are getting our response.

Cool. This is the access token.

Fine. So yeah, it's really working fully perfectly.

So what we have to do right now, we have to use session storage and we have to store

this token. I mean, Assing Storage, not session storage. So again, go to this screen.

From here, use await, I mean, Assing Storage. Okay, I think this is also library in React Native.

So we can search, Expo Assing Storage. Yeah, this one. So this is a library actually.

we need to copy this comment for installing this one. So, open the new terminal and paste it.

So, here we go. It's done now. Now, let's use it. So, how to use it? So, add this one,

import async storage from React Native async storage slash async storage. Now, here,

asings.ritch.setitm name will be access token.

value will be the race.data.exe token. I think what was that? Let me see again.

Yeah. Great. So when we are adding to Singshowrage, then we can send our user to the main tab at

Last, we are sending our user to the depths and home.

Yeah, if any error, then toast.show.error.message.

And here, placement will be bottom.

type will be danger.

Now you can hit verify.

Let's do one thing.

Come back here and check it.

But for the last time right now, we are going to test it.

Then this will let us redirect to our account.

So just to give on reload.

I know you everyone is very tired. I mean I am tired too. 636154 because it's been a very like long journey for us for making this full authentication system fully craic because this authentication system is also not very simple. This is also I think a little bit complex.

It's really complex because we're using here phone number verification and email verification and everything like not in a like you know

known with how we use to verify applications. It's not like that. Okay, so the

known where how we use to verify applications. It's not like that. Okay, so the OTP is 8889

and hit verify. Then now it next. Check email OTP, it's 5804. So 5804, verify and here you go.

Right now it's in email OTP Verify screen.

Great.

And the loader we can add it for the last time, no problem.

Copy this.

And here.

Okay.

Okay, already the loader is here. Yeah, fine.

So yeah, at last it's done.

Right now we can simply come this taps and this index.js.

Okay, sorry, not taps index. This is the main index inside app folder, the index.js.x file. Great.

And in here right now we can make it dynamically.

So how? Let me show you simply add on another use state.

we can add here is loading and setting is loading state and initial value will be true

then we can use here on use effect hook and we don't need anything written like this so we can remove it

and let's add here on try catch statement inside this try constant access token

I read asyncstorage.getit and that access

broken yeah so one thing I did mistake so cut the line I'm not deleting I'm just

cutting the line here I'm adding wait wait here let me add on function like

get data make it on a sync function then add like this then we can paste it in

here right now the notice then it's not giving us any error for the await yeah

because it's a sync here now if access token is available then only set is log

actually set is loggin will be true yeah otherwise very simple this is

actually not logged in the user is not logged in so then false and then in this

sketch we can add on console log like fail to retrieve access token from

passing storage and then we can add this error and at last we can also use

here another one which is finally this is also like a statement then finally

set is loading will be false yeah great so then at last we can call this

gatedca function. Now here if is loading is true meaning when it's unloading

state that time if you want we can add on scaled on or like on spinner but

here I'm just returning now because this will load very fast that's why. So here

this is fine right now. Notice this is coming in here. So right now let's do one

Let's do on log out. So how? Let me show you very simple. Just

comment out this few lines. Yeah. And here instead of gate I came, right, remove item.

Now save it. Given reload notice this will be out. Right. This is not here.

here even if we like uncomment these few lines then still it's outside but why

because we removed our access token from the async storage that's where I

know it's locked out great so I did log out for another reason tool and that is

I actually found something in the offline that I did some mistake very very

a big mistake that is.

Just go to our server utils and send token.js.

And here, this will be user.id, not user.user.id.

So why, again, let me explain a little bit.

If you notice from here, verifying email.otp,

we are calling this send token.

We are sending this updated user,

Check this updated user type.

this same token. We are sending this updated user. Check this updated user type. Notice,

it's ID, not user ID. This is user ID, but we are actually sending this full updated

user. Okay. Which one we are updating from the database. So that's one we're sending

here. So that's why definitely right now this is ID, not user ID. This will be ID. So

make sure that you are updating this from here. This is in St token function. St token file

line number six. Yeah. So we can then close this file right now. And right now still one

thing I want to check very important. This is inside the front end. Go to this screens.

Then, verifications, OTP verifications, mobile number one.

So, when we are verifying OTP, what is the user email is null, then this one.

Otherwise, we are simply redirecting the user to the home apps.

But we cannot just do this.

This time, this is actually for new users.

So, right now, we are not new users because we have right now account.

This is our account. So we are right now going to login. So when we are doing login, we will

don't like pass the all the steps like entering name, email, then verify the email, everything.

No, this is very simple as like our Uber or something like that. So here actually what

we have to do, very simple, go to this email verification, copy this just, okay. Then

come here and paste it in here. Yeah, this will give us some error. First, make here a sync,

import this as a storage. And now, very important thing, and that is, when we are

verifying our user, ODB verification, the form number, then still we need to send this access token.

right. So let's check the server, we're sending it perfectly or not. So this route actually,

wait, first let me copy this one because I think we're not sending it. So sending

OTP to email, no, did not this one, this one verify OTP, this is the mobile one. Yeah. So we are

checking, is there is a exist and find, otherwise we're creating an account, we're just sending

user which is totally wrong. We cannot do this. We need to send this, I mean, we need to call

this same token function, utils function and we need to send this user and this response

then what will happen. This will sign the token with the user ID and send the user, okay,

Okay, yes, and the user and this access token fine. Yeah, we're getting everything perfectly. Great.

Wait, let me recheck it again because if you're doing a small mistake,

then this will do problem. Okay, fine, because this word notice, wait, sorry, I did small mistake,

guys again copy here copy here this was perfect this was perfect but why

because this is for new user so right now we're not new user this one if

user exists in this block then we're simply sending this this one but this is

wrong we need to send this token with token okay and instead of user right

now this will be this easy user exists yeah perfect so yep our work is

gone. So right now we have then this raised our data. It's access token. Now

simply come here and give on reload to our app. Now from here let's type the

phone number, our account phone number which is this one. Then I'm hitting this

gate OTP button. Yeah, here you go. So TP verification. The OTP is let me

check it's 8884 so triple 8 and 4 now when I will hit verify this will go and

redirect to the email verification screen what is right now it's in the layout

why in the layout because we're right now going this tab start home okay so

yeah right now it's here even if we give right now reload from here then

and still, notice it's here because we have right now token.

Very good. Perfect.

But still we need one thing.

Very important because we're not finished.

Still one important logic we need to make and that is get this logged in user.

We are just adding on access token.

We're not adding the full user.

So right now we need to retrieve the

on access token. You are not adding the full user. So right now we need to

retrieve the user which one we signed with this access token. Okay. So how can

we do that? Very simple. In this user folder let's create a widget. We don't

need to create it. Oh yeah, we need to create it. We need to create a new folder

by giving them hooks. Yeah. And inside here we can create use.git.user.data.tsx. Yep.

And here we can say array if, meaning CRECT Arrow Functional Component.

And here this is perfect. We don't need to return anything like this.

So we can remove it. We can remove this React tool.

First import here our Assync storage. Then import exgeos.

Then our use effect and use state. Yeah, fine.

So here let's add on user state snippet user and say user.

Where initial value will be empty string, like empty, not empty string.

And here if we can add on type that will be definitely very good.

So let me try to do that.

Yeah, we can add here type user type.

So what is the user type?

Let's do one thing.

Both over this Prisma schema and copy this.

And I know this is not the correct thing, but like short, we can say string.

and string and string we don't need any unique then string so here you can

say number, number date and last one is also date. So okay, string, string. So ID is

This is a menu, name is optional sometime, so we can add like this.

Actually not optional because when the user will do a create account and do login, definitely

the user have like that information.

So we can remove this but ratings, we can say something like this, total rights, created

at, updated at like we have this all the time.

So our pipe is ready.

we can define this type. Yeah. Then you state snippet and loading and state loading. Initial

value will be true. Initially loading will be true. Now let's use our use effect snippet.

it leads you things yeah. Now constant get logged in user data function which

you can assign function, constant access token, await assign storage dot gate item and

access token.

Now await.exeos.get.

I know we need to make it.

So process.env.expo.

public server.i then slash me.

Yeah.

And inside here in these headers, we can sync authorization token.

something like beier and our access token great and then response console lock the response

for now sit user raise.teta.user and sit loading false yeah other wise catch

and console log the arrow and set loading false.

Great. At last, all our disengage login user data.

Great. At last, all our disengage loading user data function. And then what we have to do,

we have to return this loading and user state. Great. So yeah, our hooks is ready. Now we can

come back inside here in this steps layout because we are notice this is

rendering the layout means this one so if we call this hooks right now nothing

will happen we will get error because this root is missing in our back end

that's why so let's go let's do it I mean let's create it so inside this

server inside this middleware first create on middleware which name will be

is authenticated.ts okay or like all.ts something like that you can give anything

whatever you want and export constant is authenticated here definitely we will

receive some props like a request for request only you need to give any response

type will be response import from express and next function. Yeah. On trackets statement,

first we need to extract that token from the authorization header. Okay, something like this.

Then inside this auditor we have our token. If it's missing, then authorizations header missing.

or place log in we can say to access this content.

Yeah. Then after this we can create a very variable like token then auth header.split.

plate we can use here is plate method split the first one yeah something like this if the

token is missing then we can return on it or something like this now at this moment we need

to verify our token because if the token is available then we need to verify it so how

very simple just jwt.verify we are sending the token and the access token secret

now we can run here on function, a sync function like something like this so

decoded yeah we have on type but fine for this small thing we can skip it if

If error, then we can return like this.

The token is actually invalid.

So user data,

I read prisma.user.findunic.

user.findunic where ID will be our

decoded.id. Remember we signed our ID. So right now we are searching our user

with that ID. We signed our user ID with our

digital beauty token. Right. So right now we are retrieving that. So at last we

need to attach the decoded token to the

request object, okay, something like this. And at last,

definitely need to end it. So how? After this line, I don't

first bracket. Yeah. No, don't format. Yeah. So request.user

user data. And then returning this next function. Great. So J

Wt is giving error because J Wt was missing. So import J Wt

from just a web token like this. Great. Our middleware is done. Now our work 90% is done. Simply create

here on function get user data we can say logged in user data so export constant get logged

in user data and async request yeah we need request and response we don't need any

next or anything like that. So try catch. For now we'll don't receive any error actually

here so that's why I'm just writing the console look fine and here

actually here. So that's why I'm just writing the console look fine. And here constant user equal to

request dot user. And then very simply we can send on response from here. So that's it. This is

very simple function. Get logged in user data. Why decays dot user. We are seeking that you can start

user from here. Did you notice here attaching that decoded token to the request object not decoded

token attached the user data to the request object. Very simple. Okay. Yeah. So that's it.

Actually guys. Now the last step is we need to add the root. So we can copy this in here. We can say

they get, we can update it to me.

And we can say then get logged in user.

Yeah, get logged in user data can call that.

And most importantly,

we need to call the each authenticated middleware tool

before this function.

So first this we'll call this middleware.

Then after passing the middleware,

this will return here.

So inside the middleware, when it's passing,

when we are getting the data then,

otherwise it's returning error from here, okay?

And otherwise, console log error,

and you're just going to get it too.

Yep.

So now our work is done.

We can close this all files.

We can come here,

we can call here our use gate user data hooks.

data hooks. Here we can load, I mean we can extract our loading and user. So first I'm showing you loading

then user. An interesting thing. Notice true undefined. Falls and data. So when loading is true that

time definitely the data will be undefined. It's like a very normal things. But otherwise notice

false then data. So right now we have our actually data. So let me show you, let me add here

Flakes1, justify content center, allowing item center, just layout, but suppose I want to show

here our user name. So here you go. This is our user name. If you check the database,

this is the name. Great. So we are actually getting that everything, the logged in user data.

So very good. This is on the testing thing. We don't need our user data here. We will delete it

right now and we'll start to work in our main app right now. The previous one was not inside

like the main app, but right now we're going to play with Google map APIs, Google

placeholder APIs and a lot of other APIs. So this perk is going to be super interesting. So let's

start it. So first actually this is our apps layout. Okay. So this will be also similar as like

the roots layout. So here we can simply then call apps from our expo router.

Yeah. And here then we can add some screen options. So screen options where we

will receive on root object and then from here we can return. Here header shown

will be false then tabbar show level will be false you can check this everything

by like doing comment and uncomment like what does this meaning hit a shown

false what does this meanings like tabbar show level false if you don't add it

what will happen if you like do that comment then you can check everything okay

This is like your task.

Then here,

focused. So focused.

Sorry.

Yeah.

Then we can

create a simple variable like icon name.

If our root dot name equal to

home.

And if it's focused then we can call the icon name and we can add here Home icon.

Okay, just imported from your kill slash icon and colors will be the

imported from Util slash icon and colors will be the color dot button bg yeah

width will be 24 height will be 24 when it's focused that time otherwise

icon name will be the home light icon so the simple one

Yep, without color and else if if the root dot name equal to services slash index that time

icon name will be like category icon where colors will be if focused is true then

color dot button bg otherwise this type of like darkish color yeah and here again

else if what we're always doing declaration statement let me see one team all

Alright guys, just do one thing, guard this everything and paste it in here.

Okay.

From here we need to write this.

So root.name if it's history slash index then if it's like we were focusing it icon

name will be this one car primary icon.

another icon like car icon with this colors.

Again else if.

So else if the root dot name equal to this is the last one profile slash index.

And if focused then this one otherwise this one, yeah, so now we can actually save it.

And this will give us some error.

I know because we didn't actually finish it here.

So then after here we need to return the icon name.

Great.

Now notice no error because we write now returned here.

So if you save it right now still just on home here because other thing is still missing.

That's why so add here tap dot screen our home then like let me do it for four times and

let me like object one by one.

Second one is services dot index.

Third one is history dot index.

Fourth one is profile dot index.

So if you right now save it still one.

So why?

Just call up everything by clicking this one

and come back here.

These steps start to creating one by one.

So services index.tsx we should add here.

So RNF, we can say services.

What is services here?

Great.

Then after services, we need a history.

So historyindex.gslrnf.

History.

Fine.

Last one is profile.

And same thing again, profile.

So we can like close everything right now.

I mean the other things, yeah.

and collapse and now when we're clicking here services,

history and profile, great.

So let's start to working in the home one right now.

In here, even right now when we will give actually reload,

you will see that it's loading our home.

So which one is home? Home is this one home.tsex. Yeah, let me give on the reload again and notice.

It's loading the home because we edit like this in here. The default screen will be the home screen tab tab

but tap screen. Yep. So our tap sprick is also done so we can close and close that.

And from here we can start working for the home apps are inside home.

So here we can call our home screen.

We can call our home screen, but we will create right now.

So import home screen from screens folder,

create any folder by giving them home and home.screen.jsx.

Now inside this screen create new folder by giving them home home.screen.tsx

or an f and home screen. We can add on txx and you can remove that then done.

Now we can come here.

So first we need to create another file here, our CSS file.

So import styles from styles.js.

right so dots slash styles.jsx click it and create file and here this is a

very simple so we can add something like this we can save it we can remove

this.jsx then now great and for the first view CSS will be like this first

let's import the common styles then flex kindling our background color will

be white. Then now we need on safe area view here import from react native style will

be something like this. Then after this we need another view and in this view style will

be something like this. And import external, then save it. Now here actually we need the logo.

So we can also guys do one thing that we can make another component for logo to but fine.

This is done here already. Yeah. Then after this takes, we need to make a component which

will be our location search bird. So which is already done. So it's something like this. So location

search bird. I told you that I like added some simple component here. So this is one of them.

So on icon here and just on traceable and this will just take to the right plan roots. What we

we need to create actually then on simple view and then like something like this.

Yeah.

So then after this here work is almost done.

After this view, we can add another view and we can like add here some you know like some sessions.

So we will do that later because right now we don't have any locations like any right sessions so that we can add that in here.

So for now we just need to create a new screen, new roots.

Yeah, so in here we can create a new root by giving them right plan.

And here we can create on index.tsxrnf.

So

So yep, right plan.

Perfect.

From here, let's call our right plan screen and copy this then import right plan screen

from go to screens then create new folder by giving them right plan.

writeplan.screen. Yeah now let's come here. Writeplan. Writeplan.screen.jsx.rnf and

the right plan screen. Then if we add here.jsx and remove it, then fine. Here we go. So now

when we actually press here, notice it's nothing happening. Right. But why? Let's check it.

nothing happening location searchable

Why nothing happening location search bar, onPraySRouter.Push, routes and

right plan. It's correct so give on the real world actually. Now click here.

So yeah this is our right plan screen and now this is the main screen or the

main thing in our app, what we are actually building. So we have to do here a lot of things.

So start one by one. First, finish the CSS one so that we don't like need to again create

some CSS right. So we can simply finish it at first. We don't want to think about it.

Like when we'll start the main thing then. So the CSS here, yeah, it's here. It's a

a little bit bigger like this, container background image, content container image, something

like this.

Okay, so then we can save it and we don't need this.

GSX now.

Now from here, first we need to install on library here, which name is, I think we already

install it let me see.

Yeah, here you go.

React Native Google places are to complete here.

And React Native maps directions we need these few things.

So React Native map directions, yeah.

Here it is.

So we don't need to install.

Yep, we saved a lot of times here.

Great.

So at first, let's import UState

and places and set places,

which will be on empty array.

For now, we can type any, give the type to any.

Okay, this will be like our places type.

Then we need another state,

which will be query and set query.

Initial value will be empty, string.

Yeah, then we need on a region state, which will be a little bit bigger something like this. So we need a latitude longitude latitude delta and longitude delta.

Okay, this is for our Google map. We need this. But don't worry. I also didn't like write it by my own. I just copied it from a docs. So simply copy this is the by default. Say,

okay yeah then we need actually on thing that is marker we also need our current

location then we need like this stains and then the location selected state and

our selected vital yeah then also last thing is traveled times so this will

actually tell us how much time do we need for traveling.

Then keyboard avoiding hide and on stake, yeah.

Like from your stake, yeah.

Done.

So now we need to go to our Google Cloud Platform again.

So let's go to Google.

So for why?

Because we want to write to implement Google services.

That's why Google Maps services.

So simply go to the Google Cloud Console again.

So we can actually click this like a project.

We can choose our right web project from here.

Then from this left side, we can click this APIs.

And from here, we can click this credentials.

Now we can create new credentials,

but this will be actually API key.

Actually, this is our Google API key.

And simply it's creating.

So it will take some time,

it depends on your incarnate speed.

And here we go.

So this is our API key.

What we need to add inside our discord ENV.

OK?

So we can say export public for now.

We need to make it public here.

Our Google API key, OK?

Google Cloud API key we can say.

Yep, great.

Then come back here and then close.

And this is giving on online this API is unrestricted to prevent

the unauthorized restricted your key limit.

OK, so click this edit settings.

Now from here set an application restrictions.

So...

Now from here, set an application restrictions.

So we can say a restrict app.

Oh, wait, wait, don't restrict API. But like IP addresses, we can say, and interestingly,

we can add here 0.0, 0.0 slash 0, which means like, this is like on a wide list of IP address

for everyone. So then I think right now this will don't give any error for like us.

So this is like this was just suggesting us like for adding on security something like that.

Yeah fine. So now we can come here. Then first what we need to do. First time we want to load here

on map. Right. At first add here our keyboard avoiding view. Okay. Import it from react native.

So we need this for some reason. I will explain later. And style will be external.fx1

settings, like one. And now, important things, be a high

fear. So if platform, import from React Native, so

platform.OS is iOS, if this is iOS device, then the

behavior will be padding. Oops, here, yeah. Otherwise, the

We have here will be hide as per height.

OK, great.

Then here we can add one view.

And we can add another view for some reason.

Then here style will be like we need on height.

So window height we can say if our keyboard avoiding height

is true, then 500 otherwise 300.

This is on like important thing.

I'll explain later, very important thing.

Like we're playing with the map by writing this logic.

So then right now we need to import this map view.

So import map view from come here.

The automatic import is not working.

import map view from our react native maps direction. Yep. So in this map view we

need to say some props. We need to say some props. So first of all, a style will be definitely

the flex one,

region will be our region,

meaning this one, okay, by default one,

on region change,

one thing is actually not correct here,

I think that is this map view.

So because I imported it from wrong one,

this will be reactiv and maps, okay,

imported from reactiv and maps this map view.

Then on Regions change, complete.

Here we can receive like range.

So, Regions, set Regions and we can set this one,

this parameter here.

Then if we save it, here you go, this is our map view.

So this is the full map.

Without doing any hard work, right?

This is our full map.

Now let's start to working in the main thing.

So first of all, on marker.

So we have to write logic like this.

If marker is available,

then marker, import marker from reactive maps.

And we have to set here the code in red,

which will be this marker.

Okay, our marker, state, which is null for now.

So save it, nothing will happen because marker is right now.

Now that's way.

Otherwise, current location, if it's available,

then marker and coordinate and current location.

Yep, save it right now.

Then, last one is our current location and marker if available both when available then

we can call our

both when available then we can call our map view directions.

What we need to import from reactive map directions where origin will be the current location,

destination will be the marker location and here we need to actually enter our API key,

what we will do then stroke width. So for marking we can add here 4 and

stroke color. So for now I'm writing blue then we can definitely change it later

if we want to change it. And for the API key, this will be process.env.

Yeah something like this. So now we can save it. Still you're watching nothing is

here. This is very simple. So I want to tell you one thing and I think you already

know this that we cannot actually case this app totally perfectly by using this

simulator. Okay, because the simulator will don't give us the exact locations

while we are from. So then what we have to do, we have to check this with our phone.

So I will actually show you my phone also no problem. Don't worry. But for right now

development purpose, let's continue this. Yeah. So then after this view, let's do one thing right now.

After this view, after this view, let's add another view.

Where style will be like this, styles.contentcontainer.

and styles.container something like this. Then inside here view style something like

FlixDrikshan rule we're working like in Lensius is a very long time right.

a Langitem center and inside here we can add unpatible upper city.

So touchable upper city input from React Native.

Here add one place.

This will actually go back.

So router dot back we can see.

Then here we can call the lift arrow.

Very simple.

So something like this.

Then after this we can add on text.

And text style will be something like this, merging auto.

Font size will be window height 25.

and element will be plan your right. So save it right now and here you go

plan your right. After this view this is actually for right now we're making

the peeking up time. Okay. Yeah. So then let's add another view where style will

be something like this. I know we're writing a lot of inline CSS, but it can happen sometime

because I am like not doing this all designing its tops like multiple the whole upwards working here.

So you know like some developers work in a very organized style and some developers don't work in

an organization style. So it can happen that sometime you need to work in like different

conditions. So here, a lot of inline CSS I know, but we have to do this. So yeah, import

clock. So what is this actually? Let me show you. It's like something like this. Yeah.

And after this clock we can add on text, the text style is this one, then element will

be this one, pick up now, okay, so like the time.

Yeah, and after this we can add on down arrow.

So yep.

And then after this two view, we can add another comment like picking up location and another

view with style like this.

Then again another view.

in your peak location.

Save it right now.

here, pick location, save it right now and here you go.

Then another view style will be something like this.

So, yep.

Import dimensions from React Native.

And then on text, like current location.

Yeah, and here we can create our next view

with some small style.

And let's import here, place holder.

By the way, one thing I am thinking here.

Okay, yeah.

So this view will be actually in here.

And card this view.

Add it in here.

Oh, it's actually perfect.

I was looking for this one.

Yeah.

That's why I was thinking, yeah, something is wrong.

Yep.

Fine.

new view with style like this. So then right now the most important things

that is we need to import Google places autocomplete from react native

Google places autocomplete.

And inside here, we need to send a lot of props,

not only one or two props.

So first of all, place holder,

we can write where to, like where you want to go.

Then one place, data and details,

and details. By default this will be null. And inside here set keyboard avoid height will

be true and set places will be like destinations, descriptions and place ID.

Something like this.

And after this, we need to add the query where we need key, where key will be actually

process dot env dot yep and language.

So language will be actually English language.

Yep.

Because we need English language.

If you need another language, definitely you cannot add that.

to check these props like commonly language they have here.

So, a text input container where we need to add 100% width.

And don't think this is our custom CSS.

Yeah, we are updating that this Google PlaySolder like Google

Places are a complex CSS.

So we cannot use your our CSS directly.

Yeah.

So text input, we wanted something like this.

Then the predefined places, descriptions color will be black.

And then right now,

text input props.

And one change text.

Okay, let's cut it and edit actually in here.

Yeah.

And one change text.

Call the handle input change function.

Which one we will make right now and send this text.

Yeah.

value will be the query one and one focus

the set keyword height will be true again.

Yeah. And if it's failing for any reason, then please show us that.

that so console lock the error.

then fetch details will be.

then fetch details will be true and debounce it like the time 200.

So handle input change.

Let's check this.

I'm incurred this function.

It's a very simple thing.

Not a big thing.

So constant handle input change.

We are receiving here text.

where we can say any no problem and set query and add this text here.

We can save it right now.

Then what is going to happen now?

Let's see.

So suppose here we are, I'm simply searching.

Nothing is coming right?

But why? Because that's coming inside our places, inside this places stage, okay?

We did some modification, that's why. I was like the other car booking app, like over there,

adding it outside of the box. So that's why I was updated the UI a little bit here.

So then after this three view, we can right now add our alterations.

So simply places.map.lays will be any index will be number.

I don't know the type of the Google data.

If we like go research, then we'll definitely, we'll know about it, but this will take

time.

Yeah.

but here, he will be nix and some style like flex direction the role margin

button we can say window height and 20 yeah then call here pick up location

icon and the text with the place.description. Yeah. And here we also need to add

the style like very simple, padding left 15 and font size 18. Great. Now when

And we are typing something.

Okay, the provided API key is invalid.

My goodness, why?

Let's see.

Actually, guys, I logged into this Bikotemi account one,

because this was a new email I told you,

and like Google was like asking for a lot of things.

So that's why I just came into this Bikotemi one,

because this is like, I know, very verified one.

So Google, they don't, Google, they don't tell me anything.

So this is places API notice this is enabled and we also need to enable like some other

other APIs I'm showing you

For example

Like this one JavaScript map JavaScript API. Let me see. Okay. Yeah, it's also enabled and

This roads APIs

This also enabled I also didn't know that when did I enable it? Okay, and this map is dk4n right

also enabled so we make sure that you are also like enabling this and this map is

gf or ios yeah just this few things notice i added a lot of things here i mean i

enabled because this is like our primary one so we work with this cloud console

account that's why okay fine so right now then if I add the correct one because

So this is another account, so we need to check.

I mean, I need to check the credentials for this API.

Yep, I'm updating it.

Now if I type here again, I believe I will get data right now.

So I just want to give on reload first, because we updated

from God in the display.

Yep.

So suppose I am searching like we can search a no.

What is this is happening?

Let me see.

You must enable billing on Google Cloud Project.

So OK, let's open this link and let me enable the billing.

OK, so let me show you how to do this, actually.

If Google is telling the same thing for you,

Then you have cannabled the billing.

If Google is telling the same thing for you, then you have to enable the billing.

So select project.

Not this one, wait.

Yeah.

So this one right way.

Now this is enabling the billing.

I think yeah this this one I forget to add a

current one the billing yep

But no problem right now this will work give on reload again. I

Don't know you're facing this problem or not, but I am right now facing this problem and that is notice this app is

totally not working

So

Usually it happens for one thing and that is one really under the show, okay?

It's really very complex to finding out the reader in the problem like from where it's coming or from where it's happening.

But actually I can understand it like from where it's coming because I am writing this code.

So that's why I know like from where it can cause the problem.

So actually come back inside this index.ps app index.ps and the problem is doing this use effect hope.

Okay, it's like repeatedly calling this same

Thing again and again, okay, so what we can do we can do on safe thing in here

That is is

mounted

Initially this will be actually true, okay, and then from here

after this gate data

Let's call our

use a vector return and is mounted false okay then is loading is null fine then

yeah we are actually clean up in this function and one more thing and that is

here we need to write like this if is mounted then only set loading set is

loading will be false, okay. Then we can save this. Yeah. So our work is done for now. Yeah.

Now if we give on reload, then notice this will don't do any problem right now. And just

click here. Great. Notice now it's perfectly working. And right now, if we even type our

like location still it's not working and that's a normal thing.

Why it's not working?

Let's fix it.

Handlet me show you how it will work.

So first of all, actually in here after this state,

you state, we need to create another use effect hope.

Okay.

And inside here,

Unit write like some logic if our query dot length is more than tool then we need to call

on variable.

So let's make it here constant devounced face places we can call here use callback we

can import it from react then let's call here devounds.

Let's call the face places on function, what we will make.

And this is the number, like we are sending in this function.

No, not in this function.

We are like sending this like debounds it for a hundred times.

Yeah.

And then here we can call this debounds face places.

places and we can save this query inside here.

Else the shape places will be empty area.

And here we can add the query and

nerdy bounds to face places. Great.

Now let's actually make this face places function.

So constant face places

on a sync function, which will receive input as a props.

And this one is giving on warning.

So let's import it from load-s library.

Yeah.

Then let's add here on try catch statement.

Yeah.

And in this try catch, in this try, let's add response.

I read Geos.get call here our maps

call here our maps.googleapi.com slash maps slash API slash place then auto-complete slash

and JSON. Okay, so this is the API URL. We need to save some

params for example, input. We need to send that key, which will be

process, start, and V, and this one, export public, cloudy pay key.

Google Cloud API here.

Then language again, which will be English.

Great.

Then after this response,

when we are getting this response,

then set places, response.data.radication.

predictions. Okay, so they are actually giving us some predictions data. Yeah. Otherwise, if

cons, uh, receiving error, then consul of the error. Great. Then, uh, after this, uh, we can try,

so right now, let me search something like Hanh Noi. Yeah. Here you go. It's breaking. It's

So like, heavily Vietnam, I don't know the pronunciation.

It's not your handler.

I don't know this.

So it's actually working if we type like Hawaii Beach.

Notice it's working.

So even if I write like my seek name,

I mean, or a country capital secure, anything.

Okay, it's coming.

It's working.

If you write like Indian locations, it's working.

So you can type here any location,

any location. For example, I am writing my current location.

You might be thinking, what is this? My current location.

So yeah, this is my location. It's coming.

So we can actually choose on location. So where we want to go.

If I like search here, I mean, if I type here like my airport.

So then yeah, here you go. This is the airport. If we click here, then we need to start working for that. If we click here, then this will actually choose the location.

And

All right, still if you come here, you will notice that this like current location is not correct.

So why the current location is not correct?

I am telling you because still we need to make it.

Okay fine so let's make for the work for the current location here.

So here before this phase places we can add another use effect hook.

And this current location is very, very important because without this current location we cannot

like type where we want to go first we need to like track our current location, exact current

locations where we are right now. So let me add here as sync and let status from our location.

Okay, so let's import this location from

Actually, expo location so import everything as locations from expo location. So now location got

request

foreground permission Assings

So what does this mean? It means first it will ask the user for giving us the access

So if you use like any you know any banking application or like anything right now now

I just like Facebook also ask us for giving like permission for the location

So it's something like that this line meaning is this will just ask for like location

Approvation from the user. Okay, so the user would like that you don't need to like click okay

Accept or approve then our this application will be able to like drag the user exact location

Yeah, fine

So, if status is not granted, then what can we do?

We can give on error.

So, toast.show.list.

your location tracking. Otherwise you cannot use

wise you cannot use this app or we can write like you know any custom

message if you want to write and type will be danger placement will be bottom

Yep.

So done.

Then after this, let location equal to await.

So when the user is actually giving us permission, then we can right now check the user current

position async.

Okay.

So we can call this get current position async.

And we need the accurate location.

So that's why we can add this parameter like location.ecourage.racie.high.

So give us the accurate current location.

The accurate current location of where the user is currently.

Then we need here actually latitude and longitude.

This is our coming from a location.corpz.

Then we can right now call this set current location and we can send this latitude and

this longitude.

Yeah, here will be equal to, yeah.

Great.

Then we can call our set region state.

Now we can set this exact location.

So, the latitude and longitude, latitude, delta will be,

0.0922 and longitude delta 0.0421.

Yeah.

And that's it.

And add here something like this and it's giving error because

Here I forgot to add on first bracket.

Yep. Now fine, it's done.

Notice now it's giving us like

we want to allow or not.

So definitely to click allow.

And right now this is giving us on location.

And originally this location is not correct.

If you check this, this is killing us.

I'm right now in San Francisco,

but actually I'm not in San Francisco.

I am currently in this location, I'm showing you, even I cannot like use it how I can use it with my phone.

Like I cannot zoom it or zoom out. I cannot swipe it actually as like my phone.

So that's why I told you that we cannot test it by using on simulator.

Like the real app we cannot test by using simulator.

Summator will don't give us the correct location and also we cannot like use it as like what can we use in mobile form

Totally like that. Yeah fine, but it's working

We are happy to see this where we are right now. I don't know

You know you cannot like you know zoom out it

How they do this like zoom out?

it's really possible I don't know if you know this then please use a coin

writing in the comment section like can you zoom out it because I feel like

I cannot do this in simulator yeah we cannot do zoom in and zoom out okay

fine no problem if you if you're right you're gonna give on save okay no problem so

then right now we need to search our suppose on location so for example I

typing or ear port oops I gave you wrong spelling yeah and if I choose this one

nothing is happening because we need to work for that okay we will work for that but right now I

think I need to connect my mobile phone here so that I can show you the exact thing so I am

actually connecting my mobile phone but for connecting that I need to also download this software

this one, vizor, so let's download it.

Because I don't have this for my device right now.

So yeah, it's clicking download.

So I'm coming and after downloading and installing the software.

So the download and installation is perfectly done.

So let me right now connect my mobile with this laptop

by using on cable, okay?

So connect your phone and video laptop or computer with a cable.

and then in your phone probably will receive on notific

And then in your phone probably you will receive on notifications or like on model like

trust this computer.

So I'm just like entering trust.

By the way, I'm also using iPhone.

So that's why it might be like little bit different than you.

If you're using iPhone, then similar thing and if you're using Android, then the message

can be different.

Okay.

Fine.

So then I don't need the simulator for now.

And from the app store or from the Google Play store, in your phone also search this

visor app.

Okay.

And install it in your phone too.

So let me install it my phone.

All right.

So I give my face ID and now it's getting install.

And yep installation done.

So let me click this now open Vizor.

Very cool.

I mean, it will disconnect and reconnect your Azure

Azure Trusting connections.

Okay, so disconnect and connect again.

Okay, I mean disconnect from the where and connect again

as per this.

And yep, now notice, yeah, here you go.

This is my phone.

and actually it's coming here and to

liberate your mouse to just

liberate button to to to to to to to

okay okay okay pair your device

plug device tongue will skip okay

skip okay yeah now connecting to

the visor on iOS so we have to just

click that button as confused about

this one now notice what they're

killing us so got it.

Yep.

Now here we go.

So this is actually working and this is my phone when I am like using my phone.

This is showing here.

So let me take it a little bit like this.

Yep.

And let me go to Expo Go app.

We have to control this from our form.

Otherwise it will just not work right now.

Okay fine, but let's restart.

Okay, this will just not work.

So stop the server by pressing Ctrl C and right now type in PM runs start.

Okay.

And then go to our phone camera and scan this QR code.

And here you go.

So right now it's actually opening the app inside my phone.

I don't know why it's taking time.

I think for the first time that's why it's taking a little bit time.

Now notice it's here.

And you might be thinking why it's outside,

I mean why it's not logged in because previously

we were using simulator and right now it's my phone.

So definitely this will be like outside.

But right now let me type the number.

You know this one thing,

a keyboard avoid view we need to add here too.

Okay, so let me add this keyboard avoid view

inside the authentication screen too.

So come here in this RootsLogin here.

OutContinuer we can say instead of View, we can add this keyboard

avoiding view. Copy this. Import from React Native. Now save it. Okay still

nothing is happening. I know. And import this plug from yep it's working.

great. So now we can type here the phone number like 0.60163516154.

Yep, now get OTP. Now if we click this get OTP nothing will happen because

guys at last I found the solution and the solution is this server

you or I must need to be our this laptop or computer locally world. Okay. I'm

showing you how many ways we have for finding out this first of all you can just open

your SICKINGS, then your network SICKINGS and then this is the IP address.

settings and then this is the IP address.

Okay.

Here it is.

And for testing this more better, you can again come back here in your any browser,

you can type the URL.

Okay.

Like HTTP.

Something like this and the URL and then our testing.

Notice it's working in the browser.

Then it means right now it will work here too.

So then when I'm clicking this get otp button

Notice it's going to this screen and right now if I go here

Yep, this is the otp. This is 4032

So 4032 and I'm hitting this verify button

And here you go this is right now taking us to the

like our main screen. So yeah something like this. Now we can click here and we

need to click this yellow for this and right now this will definitely take

some time for like tracking our current location we must need to add on

loaded here for this thing.

Alright still that current location actually not coming. It means we need to

I think do some modification but find let me go to the current location by like

I mean, yeah, no, it's working.

Then why it's not taking us to the current location?

Notice it's working.

This is my current location, the red one.

Yep, I am actually zooming it or moving it.

This is my current location, giving the exact location.

So, suppose right now I'm typing,

I want to go our airport.

I mean, my city airport.

I'm choosing it, I cannot choose it,

but let's make this feature too.

Okay.

So now we can start working again very fastly

as it's working perfectly.

So right now we need to make our next feature

and that is like selecting location.

Okay.

So for this,

if we come back here,

from here,

yeah, from this praiseable,

When we will click somewhere, one place, we need to call this handle place select and we

need to save the place and dot place.

We need to make this handle place select function.

Okay, don't worry. Let's make it

so

We can make it after this function after this handling put change. Yeah, so constant handle plays select

on asynchronous function

We will receive here place ID which will be any for now. I really don't know the type

I think this is a string but don't worry, let's add any no problem.

And here let's create a variable, erh.exeos.get that API URL again but it's time that API will

be a little bit different like maps.googleapp.com slash maps.app.plz. We need right now details

of the location. Okay. And the params we need to send, we need to send the place ID like

which place details we want. So yeah, we are sending place ID and we need to send the key

to this keys our developer key. Okay, this one. So we can actually copy this full thing

yep so something like this my laptop church is going down very fast and it

should flag it to church but all black is booked right now okay fine no problem

then after this constant something take it from response dot data dot

result.geometry.location. Yep and constant select date destination

create unvariable and yeah we need to take let let it you and long it you

okay headmining actually short form then here let's set our latitude

Then here let's set our latitude which will be this let and longitude.

This will be this longitude.

Yep. Now we can call our set region.

We can spread our region.

Then we can call the latitude and the longitude like this grid.

set marker, same thing we need to set here the latitude and the longitude.

Great! Then we need to make the set places API to empty right now. I mean

state not API and set location selected and it to make it true then our keyboard avoid height

we can make it false if our current location is available then only call our fridge travel times

what we need to make another function which will actually kill us our travel time okay for

going to that location how much time we need. Okay so yeah otherwise like

console like there are so travel times and in this travel times we need to

send that current location and selected destinations. Yeah face travel times so

make it before this function we can make it. So on a sync function we will

the receiver or a warrigin and destination.

Yep, something like this.

Then we need like some modes here, which like usually we have inside our Google

Maps API, like driving mode, walking mode, bicycling mode and transit mode.

Driving and bicycling, it's almost similar.

Okay, sometimes it's give us like similar type of result.

Actually, this full control is coming from Google Map API.

We're not doing anything in here.

We're using the Google Maps for the web.

Okay, so then let travel times.

We're making on simple object here.

Then,

walking by default, we can make it null.

This bicycling will be null too.

and transit. Yeah. And add here any type otherwise this will give an error for some time. I know this.

Okay. For constant of modes. So right now, run a loop for this modes. So for loop mode of modes.

and let params, origins.

So, origins origin dot latitude,

then origin dot longitude,

destinations destination start latitude and destination dot longitude yeah yeah here some

small mistake I think yep now it's correct great then again we need to define

that key okay this is very important otherwise Google will don't give us any

data it's like normal thing yeah and then mode we can like around this loop here

and fine then here if our mode equal to driving then

Then perms.our Deepercher and this code time which will be now.

The params again and

RMS again and now response hxjo.get. Let's use this API right now which is

distance matrix API okay we're going to use right now and then send our

barms, no problem. Yeah. Then here oops my laptop charges can per cent. It's

really sad to see now. Okay so I have to disconnect my phone right now for a while.

Otherwise my laptop would like shut down. Okay. No problem. Let's plug into charts

for some time and we can work here and then constant elements and response dot data dot

rows and elements and first object here if elements dot status first index not objects

that's called fine. Okay, so duration.text then if catch error at last then console log

the error for now. Yeah. And totally at last set travel times call that travel times which

one, this one. Yeah. So this is an

late variable so that we can say value

from inside this loop. Okay, great. So now

this will actually kill us our travel

times and our handle plus leg if we

like select any location right now then

this will really select the location.

Okay, so you will come back after some

time when I will have like some church in my laptop. Okay, so see you after some time.

All right, I do have some church in my laptop right now, so I am just continuing it again.

And I did some small changes in offline and you have to be make sure that you are also updating

this same thing, okay. So the thing is that be make sure that you're writing latitude,

spelling totally like this, okay? latitude, latitude, and longitude. Spilling will be like this.

Totally. Why? Because here if you notice, in our state we're writing latitude, longitude.

So that's why it must need to be similar, okay? Otherwise it will do some problem. Yeah.

Let's do it longer, yeah, something like this.

Great.

So then right now we can save and this is my current location.

Great.

But now we have to work for others' screens.

So that is inside here, okay?

Here, in here, in this container.

So let's like call up this everything one by one and just cut this everything.

Wait wait, don't cut it just first call up everything one by one.

So this one, this one, this one and this one.

Now this is the container so we can cut these few things.

Now we can write a logic like if location selected is true then on view otherwise this

one but we don't fragment.

Yeah great.

Then right now inside this view this will be actually on scroll view.

import from React Native and scroll view style will be padding bottom will be window height

20 height will be window height 2800 and let's add another view inside here

where style will be something like this yep now inside this view let's add

ousse your fiasco hit on anni

Yep. Now inside this view, let's add on praiseable.

Like we don't on praise like set locations selected. This need to be false and left arrow. Great.

And then on takes we can add something like this like gathering options. Okay. I actually

copy these things from over app. I mean that UI like idea. Yeah. And then after this view,

let's add another view with style,

padding, window width,

10. Yeah. Then inside here, let's add another traceable,

something like this inside this

traceable let's add on view where style like

merging auto yeah and for now just for now we

can add some dummy images like card

images so image import image from React

native yeah and then after this view let's add another view and some with some CSS like

this one and inside here we can write

And this is like the drop of time. So for now we can say because we don't we didn't actually make this function yet.

Yeah. So we can say 20 minutes in drop of time. Okay. Yeah. We can save it right now.

Still nothing will happen. But let me show you what actually I'm doing.

This is my current location and right now I am choosing my airport.

So this is my airport.

I am just praising it and notice it's coming here.

And this is my current location and this is the airport.

So right now, oh by the way, why it's very slow in my mobile.

I already here like almost one minute echo one minute ago and it's showing here right now

So don't worry if I am telling you like hey see this because I am watching my mobile

I'm not watching this one okay, and my mobile is first step than this review

Yeah

All right, but still some issue. Let me check what stop problem

Blame, border, okay, minus 40.

All right.

Now it's looking actually perfect.

Yeah.

Wait, let me see one thing from here.

If I add here window width and like 500,

I'll reset it will look.

Okay, it's going too much.

420, I think this is correct one.

Yeah. So yeah, just add here window width and 420.

Yep. And this is actually our, like you know, this is the map where I am

selecting from this, this from this location to this location.

location I want to go now we need this let me tell you like how this time and

price is actually calculating so let's first make our estimate travel time okay

so for making this we have to make some other functions first of all we need to

calculate the distance very important so how can we calculate distance so

this is the calculate distance function. So here we will say latitude one, longitude one,

latitude two and longitude two. Why? Because the from latitude and longitude and two latitude and

longitude. Okay. And then here just on a math dot pi divided by 180, then this is the value,

then math dot cos. Okay, this is some like some mathematical terms for like calculating the

distance. Okay. And if you understand math then you will understand it easily. If you

don't understand it and don't worry, this is like explained about the math. I also don't

understand math a lot. I'm not expert in math really. But don't worry because I also

didn't write this calculator. It's logic by myself. I also copied it from one documentation.

Yeah, so right now this is done.

documentation. Yeah, so right now this is done and the explanation is here also like met

dot by like the value of 80 and if it's come to then we are like multiplying with with

this r then r equal to like 6,300, 7,200 kilometer this is the distance. Yeah, so then right

now we need to find out the arrival time which is another function. Okay, so something like

this but we need to import moment this is on library so import moment from moment

yeah something like this and birds duration which is actually yep so

birds duration is actually on helper function so we can do one thing we can in

this utils folder can create a new folder by giving name time.

Yeah.

And we can create a new file like purse duration.

.tsex.

So what is this is doing?

I'm writing an arrow function purse duration.

We don't need this to react.

Yeah.

So this is just using on RISX pattern and giving us our exact value like what we need actually.

So it's totally something like this.

And here we need to receive the duration text which will be like any.

Yeah.

Then now we can import it and we can send this travel time then we'll get our total minutes.

Like in the correct format.

Great.

Now at last we need a lust use effect for now that is if our marker and our current locations

is available then constant gist means destinations then calculate the destinations I mean distance

So we need to send the current location dot latitude.

Current location dot longitude.

Mercker dot latitude.

And marker dot.

So, this is marker not market.

Fanny.

Okay.

Then set distance and we need to send this list.

in this dependency array, add the marker and the current location.

So yeah, now we can save it.

So then where we need this greatest estimate,

arrival time, okay, let me show you where we need this.

We need this actually in here.

Yep, here line number 301.

So what we need to add here is simply delete it and all here are what that get estimated

every time function and send here are travel times dot driving what is coming from actually

Google.

Then if we save it will be the exact data.

Yeah fine.

So right now let's type where we want to go.

So I want to go my airport.

I am like testing it.

So yep I am choosing it right now.

And notice this is actually giving me time when I will reach to the destination.

So this is 9.58 pm.

My right now current time is 9.41.

So this will take actually 10 and 17 minutes.

I need 17 minutes for going to from this location to this location.

So this is giving me an exact time and not responding.

Right now is 941.

Even the time is also getting updated instantly.

Not the my phone time.

I'm talking about this time.

Notice 959.

It was 958.

Right now it's 959.

Great.

So then after this text, after this view, we need another text.

So let's add here style and font size.

So let's add here style and font size window width

20 and font width which will be

600

Great now we need actually the currency

So here for now I'm adding my currency. This is my currency

my country currency so it distains dot to fixed then multiply with 45 this is

like a driver rate like how much the driver want to charts per kilometers so I

am writing here like the driver want to charts 45 BDT per kilometers so this is

like 8 kilometers I think so notice this is giving 242 85.30 this will

choose from me a driver will so I know this is still not like you know fully

perfect because this is static this card is right now static but we will load

it dynamically like we will fetch the 5 kilometers drive all drivers in

this list okay like in our current location these are current location

we will make a circle to the side 5 kilometers and we'll search for the all active drivers

and we will make on list of them and we will fetch that inside here in this gathering

options with their price.

Then as like over how it works but right now it's not possible we have to work for that

with a parameter driver app so we will do that no problem but now let's fix it one by

one.

Then after this, we need to actually make on another view after this

praiseable. Yeah. So something like this, then we can call this button

component and we can save it. Now notice confirm booking. So after

actually choosing the like your vehicle, which one you want to take, then

you have to click this confirm booking. Then you can like go to which

location you want to go. Okay, so right now, this is giving me fully perfect like on perfect marker,

like from this location to this location, I am to go and if I click on free booking, nothing will

happen because we like you make an action here. But right now, we have to make our driver app

of why? Because when we are coming here, just think about it, we need to fetch the all drivers.

and we will actually like use here web socket. We will connect this user and the driver in a socket.

Then we will like communicate with the driver and user we using the web socket. So this is going to be a very interesting part.

So let's start it right now. We have to start the driver part. So let's start it. But first let me close the files one by one.

and also we can then close this app for now because we have to start a driver

that's why so we can close this everything now and let me disconnect the

phone now we don't need it for now great so now we have to start a driver

So let's come back inside this driver and open our this server.

Stop this user one for now and clear it.

Go back to the driver.

So CD driver and then we can run this.

So yeah, we will do it, but first let me make on plan.

okay and my simulator is ready too so let me just run the app right now I

was and it's running the app inside the simulator let's go to our this driver app

layout.gsl6 this is the entry point and this is the main one or the

like in the x1. This is the entry point. This layout is not the entry point.

The layout is for like defining the layout.

So wait a little bit for like building this Java script bundle and for loading this mobile app.

Alright, so yeah, here you go. Right-weight driver.

So here we can right now delete this everything and here we can

like add on redirect what we did in a previous

like add on redirect

What we did in a previous one to so redirect href and by the way we don't need this second bracket then yeah

href which will be for now

route slash

login, okay, which one we will create right now

So yeah, we need then react I got it fine save it right now. This will give us error

we know this. So in this road, let's create it by giving name log in. So log in and log in dot

tsx. So Rnf log in not log in dot tsx. It should be index dot tsx. Yeah. And delete this index

then. So just login and index yep, cold. Now from here, let's save it and give on a reload.

By pressing R and here you go. So we can right now close this file now and then in here we can

add our login screen. So import login screen from screens we have to create

this folder tool. So in this driver folder let's create a new folder by giving

name screens and login and on file login.screen.jsx and rnf then login screen we can save it we can come back here

go to screens login and login screens yeah something like this login screen login screen

And what is this is telling us?

Okay, so something for the react, okay, no problem.

We will say about it later.

Okay, fine, but it's breaking.

This is the login screen right now.

And here still we need our art container.

It's the similar thing.

So, art container.

Oh my goodness, it's missing here.

So we can do one quick thing and that is we can copy

are odd container from these utils so let's copy this container come back here and paste it here

let me make sure that everything is okay yep so now we can import this odd container where top

space will be window white and 150 image show will be true container let's add one view for now save it

and here we go. Now inside this view let's add another view, let's add another view then on image,

import image from react netifs. Style will be styles.transform line. So styles

actually we need to create it. So import styles from dot slash styles dot GSX. So let's delete

this gslx now come back here done the CSS I didn't done and then here we can

save it and here source source will be images, import images from it will start

images dot line yeah then we need the sign in text again similar thing we can

add here to like join to take right but I think here it's different a little bit.

No, still here also same. Oh yeah because for like grabber also it's

similar thing like you can join to take your right. So similar thing yeah that's

So, the sentence have double meanings.

take your right. So similar thing, yeah, that's why like this sentence have like double

meanings. That's why I added this one. Yeah. Then view and style will be external.mt and

score 25 then external dot pb underscore 15 yeah now let's add on button then on

title which will be like gate otp height will be window height

and 30. Let's import window height. Oops window height it's not coming very

weird to see. Okay this height is actually doing some weird okay here it's

missing weird to see so we can add it right actually. So let's add it like this

in this button props we can add the height as optional and type will be

similar like dimension value we don't need to import anything here we can save

it now we can come back here and hide

yep yep so then we can save it right now then on one place so something like

this and router.push to over phone number verification screen. By the way this gate OTP is not

correct. I think yeah and I want thing I did mistake here. We can do one thing just

just cut this again at another view then paste it and here let's add some

style for example external empty underscore 25 and external dot pv and

underscore 10 next writing bottom 10 here then here actually we need to call

our phone number input component. Yep, so we can save it right now and here we go. Great.

But the phone number input component will be not like this here. What if this is stilling us?

Yep, now find done. But still one problem is happening here and that is this text input. So we can

do one thing. We can come back our user component and this phone number select

wait. That was inside login. Yeah. So we can copy this one for now no problem

and we can paste it totally like this. Yeah I know we have to do here something

So, come on, okay, select input first of all.

So, select input, let's import it.

Weird. Let's see one thing.

Okay, so this was on like, common component.

So, we can do one thing.

We can copy this component.

We need this same thing inside here.

So, paste it.

select input, fonts, okay everything is okay here except this color.Second

and color.rate. Okay let me see we can do one thing we can copy our these

colors so go to themes and app colors or k6 and copy that from the user come

back to our this driver one right now and like update it with the user one.

Wait, I hit anything mistake, yep.

From here copy and here paste it.

So select input is done now here.

We can import the select input.

Then view is giving error because make input the react.

And just one more thing and that is here and that is this actually this country items.

Okay fine.

Come see our games

is this actually this country items.

Okay, fine.

So country items, we everyone know that we need to create it.

And phone number input is here

and we need to send here some parameters

like phone number,

say phone number, country code and say country code.

Okay, fine, we will do that.

But first, let's go to all these constants,

folder inside user.

So, configs here.

This is the country list.

So we can copy this file too.

So here it is, paste it.

Down.

And it's also done then.

So configs and country list.

Great.

We can save this file now.

Now come back here because we need to send here state as per I mean as like this one.

Let me show you.

Yeah, as like this state.

So phone number and country code.

We need this few state.

So come here and paste it.

We don't need this loading or we can keep it here because we need it later.

right now but we need it later and here we need to send this phone number,

set phone number, country code and set country code.

Yeah something like this, I know this CSS is not correct but

But let's fix this.

Did you remember we saw this similar problem in last time?

And that was, as I remember, that was inside this phone number

in both stylings, actually.

Yeah.

And that was here as I remember.

Sorry, not this phone number input.

This country code container, we don't need this.

We can remove it.

Now notice it's looking perfect.

Yeah.

and we can choose any country code for example something like this great. So then

yeah this is done and then we can come back again to our this screen login

screen and you can continue to work here and let me make it like this yeah great

now one more thing this is not looking perfect as per me now it's looking good

great and yeah so after this get otp after this button and this view let's create

another view with like some style our flex direction

row, justify content center, gap window width 8 and padding bottom window height 15.

Yeah, now inside here we have on takes so something like this

Like don't have any any writer account then create new one

Okay, so something like this because right now this is writers. So writer want to create account

So that's where we need unsign up button something like this

So let's import possible opposite you from react native and save it and

And here you go.

So don't have any writer account.

And if you click sign up, this will take you to the sign up screen.

So yeah, let's make this one by one.

First of all, I want to check this one.

This was verification for numbers screen.

Hmm.

God.

Yeah.

Okay.

Great.

So in this roots right now, create our sign up in this roots folder.

So sign up and on index.tsx.rnf.

Sign up.

So if you right now press sign up, here you go sign up.

then we also need like verification from number

form number and on index.tsxrnf verification form number. Yep so if it's getting

this gate or tp yeah it's coming here great and now go back and again sign up.

So, let's start working for the sign up screen and let's make it great.

So, import sign up screen from screens sign up and sign up dot screen dot gsx.

So come back here.

Let's create a new folder by giving them sign up and sign up dot screen dot tsl.

So we can save it now. We can come back here. We can remove this to a six. Great. And we can close this file to and here first.

We need on scroll view because this is going to be very big screen. Okay. Yeah. And let's create a new view.

view. First we need here logo something like this. Yep, so right with, I'm feeling

it's too much bigger. Yeah, now it's looking perfect. Now let's add another view with style,

something like this window width 20 and on progress bar okay so progress

bar is actually on component what we need to create right now so let's do

one thing comment it right now and let's come back here inside driver

components common prograce.ber.tsx. So prograce.ber. Yeah. And here we will just

receive fill which type will be actually on number. Yep. Then constant burst array dot

I mean, array then fill it with zero.

Then extract colors from use theme.

And then come back here in this view.

First let's add on view like this.

Then inside here we need styles.

So let's do one thing.

Let's add styling here.

Something like this.

So style sheet.

Window width, import, window height.

Import it and color.

So yeah, something like this.

Colour.primary is not available.

So primary and subprimary is not available.

So let me see actually what is that primary and subprimary color.

and let me add it in.

These are the two colors.

So primary, what you have to do, just check the source code or you can pause the video

and you can copy these two colored codes and like this, yeah, string something like

this.

So then we can save it.

Now save it and nothing will happen because we need to use this CSS now.

Yeah.

Then inside here let's create another view with styles container and that birds.map

on underscore and index then return it add one view which will be self-closing view

where key will be index and style will be index if index is more than feel.

In that time, styles.

Feelber otherwise styles.emptyber.

Yes.

fill burr, otherwise style.img burr.

Yeah, so you can save it right now.

If we right now come back here and import this progress burr component

and if we send this fill to one, then here we go. Great.

So after this progress burr, let's add another view

with styling something like this styles.subview.

So styles let's create a new styles file here too.

So creation done and dot gsl remove it then inside here.

CSS will be like this then now.

So colors actually we need to import it from use team.

I mean, we need to distract it from use team.

Yeah.

Now, perfect.

After this view, let's add another view where style will be style start space.

Let's add our title view right now.

Our title view component something like this.

Oops, where's the title v component?

Why all of this missing? It was inside our previous one, right?

Here in the user, if you check, we have this component inside here. We can copy this

and paste it. Yep. And on small warning, actually it's not an error. Yeah. Then here we go.

So now if we try to import it, yep done.

So create your account, explore your life by joining right wave.

And then after this, we need our input.

So import input from, oh my goodness, everything is missing here.

Where's the input?

Oh my goodness, it's totally completely empty, right?

So the problem copy this input.exe file totally and in this come on paste it.

Yeah, but still just this input to react then find done.

Now we can then import this input component and form data.

Okay, we have to create it.

Okay, so let's create one by one now.

to fall the form data something like this import a state so we need name for number email

and country code yeah and we need to feel more state tool like email format warning and

set like show warnings at show warning yeah then we need on another function which will

very important for us that is handle change.

Yeah, now if we come back here notice,

no error here because when we are like changing the text,

it's calling this one.

So yeah, it was like totally similar as like our previous user app,

it's completely similar.

Yeah, then after this, we need on select import.

So something like this, we can import it

and import the country items to.

Hmm, something is missing here.

Wait, let me see one thing.

What did we do in the here?

All right, all right, I got it, I got it,

because country items is not similar here.

Yep.

We can do one thing guys.

We need the driver country name, not the phone number one.

This is why it's doing a little bit not similar.

So if you like uncomment it, then notice this will come here.

So we can do one thing.

You can write logic inside this lake input component.

If title is available, then only.

So this takes great.

Then country items.

Okay, let's create another file inside this.

For the configs, yeah, we can say,

name list dot

name list.tsx.

Yep. And add something like this.

The all countries list.

You'll find out inside the GitHub source code.

Okay. This country items. Great.

And then.

Oh, sorry.

One mistake. This is not country items.

This will be country.

Name items. We can say.

So now come here and update it to country name items.

Great.

Now here you go.

So by default, then

country code, this will be actually bungalow dash

for now like by default.

I mean my country.

So yeah,

By default this one and you can choose like your country.

Then after this select import we need our phone number import.

Yeah so something like this we can save it right now.

So enter your phone number that drive when you print the phone number.

Then email at grace which is also similar as like our previous one so that's why I'm

just copying it.

like this and then at last we need our next button. So here we can add it. Now import

button, import color and this go to document. Yeah it's important why important let me explain

you because in this function we will like do some like seeker you to check. So first of all we need to

check that the email is empty or not empty or it's not invalid. If empty or invalid then show some error.

Yep, otherwise redirect this user to the document verification screen but still one issue.

What is this?

Okay, I am here mistakenly on another second bracket.

That's why I now save it.

And here you go.

Now we can enter the name drive on name, driver country, phone number and email address and

then driver will go to this next screen which is document verification.

where there is a driver need to enter the car,

like number which type of car the driver has,

and then like other documents,

like card license, number, and everything, other stops.

So now we have to make these screens.

Also first I'm finishing that UI because like,

you know, it always takes a lot of time.

So that's why at first I'm to finish that UI,

then we will like look for the functionalities more,

like the backend and everything.

So document verification, let's start to work for this.

This is missing here. Let's create a new folder document verification.

And one index.tsx, rnf. Oh, something is wrong here. Wait.

phone number login screen because in this text input,

phone number input, what did I say that if phone number,

okay so it wasn't title so let's remove this title the app,

and title is not mandatory, yeah, we can make it optional.

Now save it and notice perfect.

Great.

So then sign up screen and this document verification.

Let's start working here.

So document verification screen.

Let's create it, so it screens and document a verification and document.Veffication.Screen.jsx.

Let's create this file now.

And here you go.

and here you go

so come here and remove this 2sx now

so one thing guys, I think I mistakenly created here

like two folder, what is this?

again document verification how?

Why two folder here?

No, it's one folder.

Then why this is telling us this funny thing that we created two folder?

Save it now.

What the hell wait your legal driver?

Screens document verification?

Oh my goodness.

This was on VS code issue I think.

So yeah now I think the path is correct.

Yep save it now.

It's correct now.

Great.

I created like on folder. I do not know why it's created like two folder. Okay. Now let's start to work for this

document verification screen

fine, so

first here

We need again on scroll view

Something like this we can do actually one thing and that is

we can copy our design up screen for now and we can paste it in here because

this will be also like here will be a lot of similarities with the sign up

screen actually here and here actually these styles will be also then come from

our sign up and this sign up styles okay we don't need to create any one

then yeah if we save it right now nothing will happen because here like after

entering the information suppose this one and for example this one and something

and the regiment.com next yeah so here now this will be tool then here title view

and title and subtitle will be something like this vicar registration explore

your life like the same tagline and then first we need on select input okay

Here first we need select input something like this and

Form data we need to update our form data little bit

Here form data will be something like this, okay, so vichel type

And we don't need then this one select input we can delete it

We can comment this input and we can delete this email for now.

We don't need any email here.

Yup, any error from where it's coming.

Okay, farmrater.email.creme.

We don't have anything like this.

So for now, just keep it empty.

Yeah.

So, vehicle type, you can choose on vehicle type, but by default I think we should add here

car.

Yeah, so car motorcycle and CNC.

Okay, so suppose we have cars, so we are choosing car here.

Great. Then here we can then uncomment this input now and here this will

be actual right now registration number and placeholder will be enter your

vehicle registration number. Keyboard type will be number path not phone pad

right now and form data dot registration number. On-chain sticks here will be

registration number and instead of phone number make it registration number.

The warning will be please enter your vehicle registration number. Yeah something

like this. Then right now we need our vehicle registration gate okay something

like this. So, very

registration date, okay, something like this. So vehicle registration date, enter your vehicle

registration date. Then right now we need our driver driving license number. So we can

again add something similar like the previous one. So driving license number. Then we need

our vehicle color. It's also important for some for few cases like for the user is important.

So, interior vehicle color. Then most important that is how much the driver want to

church from the passengers per kilometer. So something like this. So how much you want to

charts from your passenger per kilometer. So rate per kilometer. Like if I

I get 10 then the distance is like 8 kilometers. Suppose I am choosing my

airport from my home and it is like 8 kilometers or 6 kilometers. So then it

will charge like you know if we multiply like 6 kilometers with 20

suppose BGT per kilometers or 50 BGT or any currency then it will

multiply that and it will make on a rate. Okay? Like how overcalculate their

price, it's like something like that. Okay, fine. Definitely they use like more

like other way for getting the exact like good price overuse like more advanced

way. But this is like normally how higher booking app actually work, how they

like kill us the exact price, how much we need to pay for going to our current

location to another location.

Yep.

Okay, so now here it's also done.

And then after this, this will be actually not totally like this.

Let me update it a little bit.

Yeah, so this is right now.

This will send us to our email verification email screen where we need to like

enter the OTP, okay, we will do that later, but yeah, that's it. So what is happening?

Simply after like, you know, when you are entering the all information, then you are going to

like give us on submit, then you are verifying your information and for like real-time business,

I would recommend that you can like hold this account and you can check it manually,

like the registration number, the vehicle registration date, driving license number,

then you can approve the application if the driver is a real driver then.

But for our cases we don't want to do that because then we need to make another one like

admin dashboard for that. Okay so for now it's perfect and we can start the backend right now

slowly slowly and oh yeah one thing I forgot that is our verification screen so

let me go back actually we can go back like this and so here I need to make

this OTP verification screen yeah we need to make this OTP verification screen

So this one verification phone number, yeah, let's add here our phone number

verification screen which path will be something like this.

Come here, create a new folder by giving name verification and inside here

Let's create our this phone number dot screen dot usx

So phone number verification screen

We can right now

Save it from here to great now here

This is completely similar as like our previous spot previous one means which one we used in the our user app

So this is simply totally like that phone number verification screen not phone number screen. I did mistake here guys

Okay, no problem. We can keep it like this because we have just one this yeah and style

we have to create another file actually that is style.js6 so let's do it

something like this and we can then save it we can paste and save it yeah then

here we go phone number verification so get otp and yep phone number

verification after everything the phone

phone number verification. After verifying the phone number, we don't need

like verification email. This we actually call on function like handle submit.

submit something like this and create here the function.

So handle submit and yep for now we can save it.

Great.

For the email it will be similar thing.

Okay, so right now we can start to the work, we can start work for the back-chain.

So just close these files, close these all front-end files for now, come back our server,

this controller, create another file by giving them driver, controller dot ts.

Let's see you can use some shortcut from here. Yeah, we can copy this everything.

Yeah, from our user controller. Then now we will go into a mistake. Like first one will be verify

and drive our phone number. So export, constant or we can say drive a login.

hmm that's not similar thing actually wait let me see here what did we do first

we're like verifying I mean just this is just sending on otp nothing else okay so

we can then give this name to another name like sending otp to driver phone

number of the comment and this name will be sending OTP to form okay that's it and our type

and the props will be something like this on try catch if catch any error then something

like this. Yeah. Otherwise we can copy from here. Yeah. For now it's perfect. Wait, wait, one

Okay. Okay. So add here on S sync keyword here and client.

Hmm. Client. Client. Copy these three things too.

Now we can save it.

Great.

So this will simply send an OTP to the driver phone number.

Then what we need?

We need to verify the driver OTP.

So verifying the OTP.

This step is very important because we are going to do these same things for like for login

and for registration for both screen yeah so verifying OTP so verify OTP

verify phone OTP we can say all right so for verifying the OTP this will be a

little bit different here so we don't need like this easier exist or something

like this, this will just jlust wtp is verified or not. Okay. For now, this is fine. So we

can say this is very fine. OTP for login. Okay, we can say this one name verify form

OTP. Yeah. For login, we can give this name. Yeah, because you cannot like keep same name.

So then sending OTP to phone, this was also perfect.

So very fine OTP for login.

So when it's like true that time, we will call our send token and send the driver and

response but for the same driver, I request Prisma.Driver.FindUnique where phone number

unique where phone number is the phone number yeah so yeah now it's perfect

actually then we don't need this response so if the OTP is verified then this

one otherwise this will give an error something went wrong okay perfect for now

So verifying OTP for login, this is perfect.

Now we need to actually create.

Now this time we need another function,

which one will be verifying OTP for registration.

So verifying for OTP actually for registration.

And this time we can copy our previous function tool,

with some few modifications. So verifying phone OTP for registration this time.

Yeah, first we will verify it, then we will actually don't search for it and we'll

don't send like a token. We will just send on response that the verification is successful.

So, success true and yeah, that's it.

That's enough for us.

So, verifying phone, OTP for registration.

And this time, last one,

Sanging OTP to email.

So, this is different.

As like this one, our Sending OTP to email,

as like out this user one so we can paste it and import the NILUS and from here

verify your email address write your verification code is this one yeah

something like this and then we will send and

talk to the driver.

All right.

So we don't have actually any user ID.

We don't have anything for any

representing what you mean.

That's the last time.

Users and everything,

everything, everything, everything.

And then we're taking the

informations and we're creating that

This is just saying what you put in the email.

We said when the driver is entering everything,

then driver the driver is sending everything.

Like email name is already, it should be right now, driver already.

Okay, but this time the driver is,

we are receiving a lot of data from the rigorous word body.

For example, we can say we are receiving,

wait, let me see from here.

Let's open it right-side, so it's plate right.

then come here we are receiving name then country name phone number email the

vikel type the registration number then on registration date and driving

license number like all informations we are getting these times then vehicle number, rate,

rating, total earnings, this is like default. So we are just getting this all informations,

but we're not getting this ID because ID will be just come when the user will like the driver

will create account that time. Yeah. So yeah, we are getting this all information and we want to

sign this all information. So right now this is driver. So driver and OTP.

So name email. Yeah.

So, we are signing on token and sending OTP to email.

And this is the last function right now for authentication.

This will be verifying email OTP and creating driver account.

So export, constant, verifying, email, OTP.

We can say, then I think, and something similar like this.

We don't need actually the next function here.

Yeah.

But we need in here actually, because we will then let the driver to

driver to login when the driver will create that account here so

the driver to login when the driver will create that account here.

So then actually for the verifying email OTP,

we will do something like this.

We can copy this for now, then we will update it as per our requirements.

So we just copy it from the user.

Now let's come back here.

here so we will receive the OTP and token from body and one thing guys. Okay,

where's another token? Great. I just told that in the

Async storage. Okay, fine. So first of all, OTP and token and this will be

new driver. So the new driver dot OTP if it's matching, then OTP is correct,

otherwise not correct. Then we need to distract this all information.

from this new driver.river.river actually because from here we are

setting it as driver notice that's why.

And here we need to search the driver with,

no, we don't need to do anything right now because this time,

if the OTP verification is done then this time,

time we will just create the user but one thing I want to check again here that is what

the hell is this one and for fixing this error just add here on tribe lock and yeah finish

like this. So then here constant driver, edit, prisma.river.create, data will be this everything.

yeah then send token send this driver and the response

very good all right so yeah for now our all API is done in the backend like

verifying email or TP and creating driver account everything is done here

this one is done tool now let's add it everything inside our roots so server

roots let's create driver.root.yes we can copy our user for like saving time and

delete this everything make it driver router something like this we don't need

anything from user controller or even is authenticated yeah this is

unprotected route which is fine but okay we will check about it later that is

good enough for us or not okay so first one will be driver route got post

this singing OTP to form so we can say send OTP okay and we can call this

function then for the next one this is our verify form OTP for login so first

import it and we can say that verifying OTP or we can say log in actually.

Yeah and then but for login, yeah this will also post request fine no problem.

Next one is verifying phone OTP for registration.

So this is verifying OTP we can say then verify OTP because this is just verifying OTP.

Next one is sending OTP to email. So we can add it here.

So, sending OTP, email we can save it now.

sending OTP, email, we can save it now.

So yeah, sending OTP to email, this is also perfect.

Then now last one is verifying OTP to email.

This will be also not post request because everything

we're not updating anything here, that's why so this time this is

actually registration route.

So very file email OTP this one.

Yeah.

And we don't need this middle one now.

So singing, sorry, verifying OTP.

Verifying OTP.

sorry sorry not like this this will be registration

the driver so done but one thing I want to check again okay so here verify OTP here also verify OTP

come back here and check it. Okay, let me do one thing. In this app.ts, first add our

driver router, add here slash driver. Okay, then we are safe because some, I mean, some

routes we also have in a driver user route too. So for example, this is verified

wtp nizera out, verify wtp n driver out, so this can like do problem. So we can like add

on this slash driver no problem. Okay, so our this API is ready for now, we can just do

by using our driver app. Inside these screens folder and login folder come back here. Then

first, first we need to make actually our login, not login, we need to make the registration

one then we can like work for the login. Yeah, so sign up screen. First here we're writing

the name, we're choosing the country, phone number and email address. All right, and then

here we need to do something. First console lock our this form data. And type our name

here actually so drive one name, suppose I am also a driver, country I'm choosing my

country, phone number, then like 178583014, yeah email address something like this

Now hit next, now let's see.

So country code is Bangladesh, BD, flag and email is this one.

Name is this one for number is this one.

Alright, so this is country code but we need actually country, not country code, we can

say country.

Yeah.

copy this and come back here this will be country, country and warning will be

like we don't need any warning because this is unselect option, yeah so fine

for now the value is this one the bi-ge 401 one changes this one with one we

are choosing from here got it okay fine then actually let's make our driver data let's make

an object okay driver data by giving name and here we will give the driver name which will be our

farmdata.name then our driver country which will be also farmdata.country then

the driver phone number so phone number which will be the farmdata.phone number

yeah and then email address so we can say email driver email which will also form data. email

Then let's send this.

So first here, but name will be this one.

here

path name will be this one and

Params we can say params like this and then we can send this driver data

We don't need to write anything. Yeah driver data, but this is on string. Sorry object

So we can do one thing we can make it JSON

dot stringify as

This is an object. That's why okay, so just do one thing that is

add on object sign something like this then driver and then this one yeah or we

can do one thing guys we can simply send this driver data I think we can get

access of these let's send it yeah because this is object and we need to send

object yeah fine then right now if we like click this next this will give us a

or very normal team. So write name, then phone number, email address, and next, and here

So right now, come back to our this actually document verification screen.

Yeah. And from here, constant driver data equal to use local search params.

Now, console log this driver data.

We will get our driver data.

No, it's undefined because let me see why it's undefined.

We are sending this driver data, which is an object.

So driver data, driver data.

All right, because we don't need actually this object sign, okay?

That's second bracket. We can remove that curly brackets.

Now notice we have data here.

Great.

So right now we have our driver data which is very important for us and from here we have to

set everything again.

So constant we can say driver data and spread our previous driver data.

Wait wait we can give your driver name yeah and driver data.

Yep.

So then otherwise the vehicle type and everything, okay, let me copy this everything and vehicle

type this will be actually our form data dot vehicle type registration number will be

form data dot registration number.

This one next one will be registration date.

So registration date.

This one will be driving license number, so driving license number, color, so form data.color

and last one form data.curerate, so rate, grade.

Now for now we can console log the driver to check that we are getting everything perfectly

or not.

So let me copy this and go to document and here this submit lets call here our go to document

function.

Actually not go to document this is something like handle submit but I don't know why did

I give this name to go to document.

So copy this handle submit function name and change it to handle submit.

Now we can save and come here choose car fine registration number for now we can

type like a numby number something like this a vehicle registration number

again something like this demilicence number something like this fake

color we can say a white color car right a per kilometer so as I'm

in Bangladesh so I want to charge 50 BGT per kilometer. Okay now I'm hitting this submit button.

Here we go. I think we have everything here. So color, country license number, email, name, phone number,

then rate, registration, data, registration number, and vehicle type. Everything is available here.

here. Great. So yep, I was looking for this one. So right now we can do one thing that

is router dot push and slash routes. Wait, wait, one thing. And that is we need to add here

the path name because we need to send columns.

and that is we need to add here the path name because we need to send

columns. So path name will be this one routes and what was that?

Like first we need to verify the OTP. I mean phone number OTP. Yeah. So for this the

path name will be routes and this one. Okay. I think this one. Yeah.

verification phone number right. So just add it in here and

barms will be our driver. So you can save it right now then let's come back to

our verification phone number screen. Here you go and this is the phone number

verification screen first constant our driver equal to use local search

params then we have our driver data here but not only these because this time

we need to send an OTP to the mobile number so for this we need to actually

come back to the sign up screen and from here when we have like everything oh

sorry not sign up screen this is actually document verification screen

So from here make it async function call here await exgeos so import exgeos

from exgeos.

Oops.

Okay.

Yeah.

It's available here.

Great.

So exgeos.

Post.

Our process.

dot.

ENV.

Dot.

I think I forgot to add that.

at that dot in v. Yeah inside driver dot in ways missing. So let's create a new file like

giving them dot in v and go back to our user dot in v and copy this everything. Come back here,

paste it, save it, come back here. And first copy the server you are. Yeah.

then slash driver slash what was the route we have to check it right now so slash

send otp yeah so send otp and we have to send here few things what we have to

we have to send here phone number yeah so yep phone number which will be our

driver no no this farm data dot phone number wait wait one thing so then we need

actually the phone number with the country code right yeah otherwise it doesn't

work so we just have the country name we don't have the country code no problem

I have one way for getting the country code to let me see again this

This is the name.

Alright, fully perfect.

Great.

So then phone number will be actually first let me do one thing here.

This driver data.

Let's do one thing from this sign up screen.

from where we are setting up this phone number actually.

Yep, yep. So this is the driver data and notice the phone number is here. So first of all,

constant phone number create on variable like this, then our country list.

Okay country name items yeah dot find we can say I and we can say string and we can say I dot not

string actually because this was an object okay fine then we can write here any i.level

i.level

which is matching with our this form data.country

we need that one okay so this is right on object so phone number dot value

notice it's working right now because this can rename items has on value yeah so

then after this we can say plus our weight weight phone number data okay and

then phone number

So here right now we need to like organize it.

So first this will be the phone number data means the country code.

Then our form data dot phone number.

Yeah.

So right now then we can add it here.

Great.

So right now phone number will be our driver data dot phone number.

But still let me check it again.

So comment this comment this line to.

to log the driver data or the driver we can also console log here fine. Right now it's

not correct because notice the phone number is like 017 which is not correct but just

go back again. So from here let's type the correct one like this then next and from

here registration number something like this and yeah right so 50 now when I'm

making this submit button now notice this time the phone number is object object

and oh no on stake we said let's go back again why does it's not working object

object for number data for number data is oh sorry dot value sorry sorry it was my mistake

pardon yeah now if we go back again and if we click next right now and now if we hit submit

then notice this time the phone number is correct 880 so this is right now with country code

what we actually need. Yeah, so fine, now we have the full data so we can

uncomment this, we can cut that actually and uncomment this line and then when

we're getting the response, then do this, if catch any error then please

shows that error we need to host. So toast.show that error.message placement will

be bottom and type will be danger great. So yep when we're receiving the

response then just send it to the this screen then it means the phone number is

verified done.

Exgeos very sad so let's install exgeos actually NPMI exgeos.

Now if we hit then submit then this will actually start to working but let me see

want thing yeah still one thing we need to make and that is okay we don't need

this set email format running here and here we need another state which name

will be loading and set loading initially this will be false but when we will

click here at first set loading will be true after doing the work set loading

will be false but I think yeah here we can make it false and here to yeah oh no so then

and we need to again, in touch.

to yeah oh no so then we need to again interest some informations now it

submit it's giving a network error so for now let's do one thing that is just

for now as we are using simulator emulator so we can make it local host

don't worry like after deploying we will get on exact oh wait wait oh yeah

then correct.

Don't worry after deploying, we will get on website URL like our

server URL, then this will don't give any error to us.

We don't need to worry for anything.

Yeah, now if we hit submit, still giving that word

error because we need to give an reload.

Now notice it's working, but it's giving on error request failed

with 400, but why?

Invalid parameter.

okay okay okay I got it so from here let's add on plus sign before this or

let's do one thing we can say it from here to like from our this registration

screen sign up screen yeah so here we need to add on plus yeah now if we

send still this will give us error but let's do one thing okay for now just do

one thing as this is like taking from previous screen so here when you are

sending yeah so now check here submit perfect and wait a little bit yeah here you go so right now

we have OTP in my phone and this is 6684 the OTP is great very good so then we are getting data

I mean we are getting the OTP very good. Now where we have to come we have to come inside this

verification one phone number verification yeah here. And again add here a sync

and after verifying phone number we just need to call here awegeos.post

go back to our previous screen again, here it is, I mean this one not the previous one

document verification on it and copy this few things so that we don't need to write it.

And after slash driver slash the root will be actually not logging this will be verified

OTP. Okay, this will just send us on the response that the OTP is correct or not. Yeah, phone

number and OTP we need to send this two things. So phone number and OTP. So first of all let's

do one thing so we can do it very firstly.

Come back in this components, not components,

screens, verification, OTP verification, copy this two

state come here then from here if otp is not provided then this will give us an error

on toast.error. So toast.show something like this. Otherwise OTP numbers great. So OTP will

be this OTP numbers and phone number will be our this driver dot phone number as I know

and shake loader.

First this will be

true and then when we will get response we don't need any console lock

simply this will be false if catch error then

then toast.show your OTP is incorrect or expired we can say we can write it manually

placement, bottom and variant, sorry type, danger, meaning so rate yeah. So here this

with right now, send the user to the email verification screen.

So here, email verification screen is missing yet.

So let's create it on index.tsx.

Email verification screen.

So import email verification screen from go to screens.

And for now we can go to this user folder, screens folder, we can copy this email notification

folder, totally copy that folder, okay.

Don't worry, we will update that, modify that as per our requirement, yeah.

Style is coming from verification style.

So verifications and style.

Assing storage is missing.

We don't need a sync storage here.

Okay, yeah, we need a sync storage here.

So let's install it then.

In this driver folder, NPMI.

Yep.

So done.

And still on error.

Like me see.

disabbelt in this button component disabbelt is missing. So let me send here. This is on

Boolean, Save it and disabbelt.

Disabbelt, Save it now. Yep. Great. So in this email verification screen we can save

it from now we can come back here we can say screens email verification and

email verification screen save it now here this will take us to this email

verification screen and this will send the data so which data the driver data

Set OTP white is not available here.

So OTP takes input and there will be text change.

This will be set OTP and set the code.

loader will be here disabled loader fully done for now I am realizing few things

right now and that is we get some small mistakes just think about it when we are

verifying our phone number here when we are verifying our phone number we are

sending this to email verification winnings the verification is clean but we're

not sending ultimately any OTP to the email right. So we can do one thing we have two options.

Here when we are getting on response we can send on OTP to the email too and then we can call

this one but that will take a long time. We can also do that from backend so then we don't need

to make this function so we can delete this one which one this one sending OTP to email why?

because when we are calling it for the phone

email why? Because when we're calling it for the phone

OTP registration after calling this one, like after

verifying the phone number this time, we will actually call

this send ding OTP to email. Yep. So we can do one thing, we

can call here error sending OTP to email. And here it

expect a request response and next parameter I think no just request and

response parameter so send it then what will happen this time it will actually

send on OTP to the email 2 and then email verification screen here we're

getting the email OTP, then this is the email OTP. By the way, this is not correct, you

are all. This was like we copied it from the previous one, that's why. You might be thinking

like a lot of complexity here. Don't worry, it's not like very complex or something like

that. Okay. We are just like doing shortcut because this is a very large application,

so we're completing it within seven hours. So yeah, that's probably like doing some shortcut.

So registration driver verifying that's for verify and verify OTP is for phone OTP.

Yeah, we have to call this one.

No, no, no, this one actually registration driver when we are verifying our email that time.

And this time not only token and OTP numbers.

Yeah, token and OTP numbers is enough because previously sending OTP to email.

We don't need to just like get this from.

Oh yeah, for sending we need but this time like very fine.

We don't need just need OTP and token.

OTP and token.

weight. This will be driver. And this will be driver dot token. So now again come back

in this 35 phone number from here when you're sending this driver this notification screen

is driver object, we need to pass more thing, one more thing.

Okay, so then we need actually that token. Yeah, when we are

sending this. So let's go to server again driver controller.

This is our the sending activity email. Yeah, this time this is the token.

Yeah, we are sending this token great. So raise then raise dot data dot token we will get access. Yep.

We can do one thing so constant

Driver data

First spread the driver secondly

token will be raised dot data dot token and

and let's copy this name and paste it in here.

So raise.datare.token and we're getting that token here.

Then we can save it now.

And let me think, yeah.

Then driver.token, we have this here, we're getting this

response here. For the testing purpose,

Let me console this tool.

Alright, so I think right now we are good to go because everything is done and

yup. And then this will send us on like access token, this will give us.

and let me see again how this is sending the access token.

Just think about it guys, I'm just watching the all codes and like thinking the logic also in my mind.

So this is like the programming thing.

And we do mistake, it's true that we everyone do mistakes, then we again come back and we fix that problem.

So still in this applications we have lot of mistakes.

And we need to like again check that everything slowly slowly.

this is like programming even when we made a big code and

So this is like programming even when we made a big

code in the website from which website you get the source code that's a very big website

and we also added a lot of like advanced features like a lot of SQL features.

We implemented encryption decryptions and a lot of complex features.

So we worked for that website more than like six months.

So it was a very long time. It was a very long time.

It's like programming. We are writing code.

we need to again like revise this code for finding the security issue.

Okay fine so I'm coming here because

send token and to check user.id. Okay it's parameter fine then the problem

because we have right now driver.id we are sending the driver okay no problem

then this is actually driver.id and this is the parameter name so the parameter

them can be anything if I write here my name also no problem okay like Shahriya.id

okay so no problem this is actually this driver.id because we are sending this one okay fine

great so right now we can then try it because as per me everything is fine here and then this

is sending to the home taps. Let me see the home taps is ready or not. Okay, it's really

great. Very good. So now let's try again for the last time because right now I believe

it should work everything. So 1, 6, 0, 1, 6, 3, 6, 1, 5, 4, and email address. Here you

go next car and registration number vehicle color white and 50 and now I'm

hitting submit. So the OTP is 0974, 0974 then you can hit verify.

Move it.

Cannot say it has hit us after they are saying to client.

Let me see.

Okay, okay.

I think because of like two response.

I got it.

I show.

Alright, so for fixing this problem, we can come back here again.

verifying phone for registration, phone here. So we can just do one thing for fixing this problem

and that is we can simple remove this response from here. So this was killing us because this response

was worse than your response for twice that's why the error was coming. Yep. But still one thing we

We need to update a little bit from the front end.

Let me show you from here from the phone number screen company.

We make sure that you're sending this, you're spreading this driver and you're sending

this all information of drivers.

But why let me show you in this controller because from here we are calling this sending

OTP to email function.

And if you notice here, we're taking this all information from regress.body.

It means we need to send it to from here.

So that's why we are sending all the information of drivers.

Great.

So right now if we try, then I believe it should work.

So let's do it again.

So I'm just hitting this submit button.

And yep, let me check the OTP.

It's 2558.

So 2558.

And I'm hitting verify right now.

And it's loading state and right now here you go email verification and yep.

So let me show you one thing.

Notice this is the new email.

Yep, geometry is echo.

So the email is also done.

So right now we can use the email verification OTP and we can verify it.

But I am noticing that this button height is actually missing.

So we need to add here height, window height and 30.

Yeah.

And the OTP is 8784.

So let's use it in here, 8784 and hit verify.

So now it's getting, giving us some error.

Okay.

Let's see why 8784 find email verification.

we are sending this to registration driver.

Oh sorry, it should be post-request.

Now, again heat verify.

Now again, hit verify.

Because failed with code 400, okay, let's take it from here, what's wrong here.

So vikered type is missing, they are telling us.

Who okay?

Vikered type is missing.

We are to see, let me see why this is coming here.

type. I think I added wrongs,

failing. Let me check again. From the

verification phone number,

verifications.

Not from here from actually

or registration. Yes, sign up.

So driver data. Not here.

In this document verification. Yep.

And here it goes.

The vikil type is spelling is wrong here.

So what can we do now then?

Simply we can fix it by doing just on small update.

Just come back here.

And here actually we have nothing to do right now.

Let's send like this.

Let's open it right side.

let's see the other spellings because if you do any mistake it will do problem.

So registration number notice not only one thing we did stupid mistake lot of places.

Then driving license not driving license number actually.

And vicar color not just color.

So, yup.

Now again go to our Prisma schema and check the spelling.

Now it's correct.

I got it.

Okay, so right now if we retry it, I believe it should work right now.

Okay, I mean we have to again send OTP because the right now this driver object is not

correct.

So that's why we need to actually go back again.

And we had nothing to do.

We have to send this again.

Now hit Submit.

And let me check the phone OTP.

This is 1683.

So 1683.

And now verify.

So it's taking some time for the verify

because it's also sending OTP to email.

That's why.

So now notice this is our new OTP 517 on 8.

So 571 8 and I hope right now you don't give any error.

Disgusting that error again.

Let's see what's the problem now.

Registration number.

Expected flood.

No.

it should be string. Okay, no problem. Let's check our this Prisma model. Don't worry, we don't need to change

like anything from front and down. This will be string driving license number.

registration number two, rate will be string tool for now.

Yeah.

And now just push the updated one tool.

Reismation PX Prisma DB push.

And save it right now.

Right now if we hit verify, this will work without an issue.

Still long issue.

let's see. Restoration date. Input continuous new light

characters. Expected date time. Oh shit. Okay. Alright. So still on small issue in the server.

Restoration date. No, this will be string tool. Disgusting. So Restoration date. Yeah.

Now again push it, or first save it and then in this PrismaDB push.

Now let's hit this verify button again and I believe it will don't give any error.

Yeah, now at last successfully we are here.

If you go to database then let's give on the reload driver.

Here you go.

So country, phone number, then email, vikery type registration number date.

phone number, then email, vikily type, registration number, date, then everything is here, like

driving license, vehicle color. By the way, this is not a correct format of date, but you

have to like enter the date by watching your like registration card or something like

that. Then yeah, everything is perfect. It's status is inactive, great. So yeah, it's

really done. Even right now we have our dead token also let me show you. So

this everything is done. The authentication system is done here. We can come

back here. We can delete that console log from our we can call this files.

email verification screens I think no not from here that was inside phone

number verification screens let's delete that console log now so yeah phone

number verification screens and here you go delete it great now we need to do

one thing and that is inside this index.tsx. If we check our user index.tsx, we have to do

totally similar like that. So user app index.tsx copies this few things like this. Then go back here

again our driverindex.jsx and paste it like this. First import use state import use effect import

our Assync ScoreRage and here we need to go right, like if is logged in is false then

go to our roots login, otherwise I mean login roots, otherwise caps and home so

this will take to actually lay out so let me save it now. Now notice it's

coming to the home I mean the caps but why because it's logged in that's why.

the driver is right now logged in very good but right now we need to make

another middleware so just come here you notice is authenticated this one

as only for user because we are like searching here users we need to make

another middleware in the backend we can make it inside this file tool is

authenticated driver okay everything will be similar like this except one

thing here will be driver data now and driver dot find here will be driver

data request dot driver done that's it so then we can come back in this

controllers driver controller we can copy our user controller this function to just few lines

like this one just paste it here get logged in driver data yeah so driver

equal to request dot driver and saying this driver so simply come here in

this roots driver roots at last we will send on gate request to slash me which will be gate

logged in driver data and also is authenticated driver. Something like this. Great. So then simply

come back to our this index.tsx. I mean in the front end driver. And here in this utils folder,

sorry not itils in this driver folder like scroll to new folder by giving them

hooks and we can copy over these hooks actually just copy this one and paste it

here and change this name right now.

this one and paste it here and change this name right now. Make it use get driver data

and here this will be use get driver data. So this is one type like user type. So let me do one

thing in this type this will be actually driver type

we can save it but here we need to like write a lot of things first name like

which I will be string. Let me do one thing. Let me come back here and let me copy

this everything. Let me paste it in here. Then I do this one will be. So just come back here

and access token here will be driver slash me then we can say driver and

sit driver here will be sit driver and here we will send the driver data okay

This name will be get logged in driver data

updated here will be driver to

fully perfect

Yep, we can save it right now.

So yeah, our work is done for now.

We can close the backend files.

We can start working for our this driver tabs.

So tabs and come back in this layout.gsl.

Actually for saving time a little bit, I am simply just copying these tabs layout.gsl.

can also do this copy by going to the simply this source code file. Yeah, something like this.

But this is giving me on small TypeScript warning because of input react. Now it's done. So

So, history, colors, let me see why it's giving me error.

Okay, so colors.

Yup, now save it.

We can save this file tool and where does it go?

So, home is here and writes and profile.

We need three screens here.

I mean two caps, dot screens.

Let's create a new folder by giving them rights and another one by giving them.

Profile in rights, we can create on index.tsx and we can write here rights.

And profile index.tsx and Rn if

profile. So here you go. All tabs are done. Simply right now call up everything and close

the sidebar, give on reload and close this profile and writes. And this history I only

don't need it anymore. And in this home right now let's start to working. So let's add

here home screen. So this is going to be our driver home screen. Import home screen from

screens home and home dot screen. Yeah. In this screens folder let's create a new folder by

giving name home and inside this let's create our home.screen.tsx file and our

and F, home screen.

file and R&F home screen save it now and here you go our home screen is ready

so let's start working in the home screen so first of all in here let's create

on styles file from dot slash styles dot gsx create file and here you go for

now it's done so we can close that file now we can remove this gsx to yeah save

it now and let's add here style.style.start container. Let's add another view with style.space

below. Now we need here uncomponent which name will actually header which one we will create.

And this is actually on common component. So let me open this components folder,

common folder and let me create this. So header.gsex and let me paste it just for like saving

time. Yep, something like this. You can also copy it by going to the source code and then

just import here header component and here we need to send few things. For example, we

to send here is on and we need to make on state for this is on and set is on so

import use state and also another one which is toggle switch function we

need to send here so is one and toggle switch where we will send this toggle switch

Alright, so now it's looking fully perfect. So when we are pressing here notice this is

telling us you're available for right now and when you're pressing here this is telling

us you are not available for right now. So this is actually a toggle button when you want

to check right you are driver when you are accepting when you are accepting new right

then you have to like make this button one. So then this will actually turn one the

right mode. Okay. Then when user will search for right, your nearest all user will like find out

you when you are like turning on this button. Yep. So something like that. Now after this header,

let's make import here flat list from react native. And here, let me send some data.

some actually dummy data. So let me add it inside here. Something like this, write data.

Totally dummy data. For like just now, okay, we will definitely make it dynamic after some time.

number of columns here in the tool. Render item. Here will be oops. Let me call here

Render right item component. What we will create no problem. When we will

You'll send this item and the colors.

Yep, colors is actually coming from our use theme.

Yeah.

So now let's create this render write item component.

So import render write item from

I did it slash components then write and we can say render write item yep

something like this so let's go to our components folder create a new folder

by giving them a write. Inside this, let's create our render.write.jsx or item.jsx.

So you can say yeah, or saving time, we can paste the code here. Here you go. After saving the code,

this will how it will look like. So right now we can move to the next one. So after this

this flat list we can create another view with style, style.arribe container and we can

Add your background color.

right container and we can add here background color something like colors.Card.

Yep. And then we can add here on text where style will be something like this.

styles dot write title and color will be colors dot takes great. Then here we can call our recent

rights. I mean the element will be recent rights. Yeah, something like this. Great. Then after

this takes we can add on flat list again on flat list. Yep, here the flat list data will

be actually our recent writes data. Okay, here will be the all recent writes of the driver.

Okay, and after this data, a ranger item here will be item. And here we can call the

write card component. You might be thinking from where it's coming. Let me show you.

Here we need to say in this I came yeah. So this is an component coming from this write folder.

Okay. Components and write. I did it in offline. Just go to the source code and copy paste this.

Then you'll be also good to go. This is an static component for now. No, no, not static. This is

is also dynamic, yeah fine. So yeah, for now it's done and we can save it and here we go.

It's a very simple thing. For example, something like this, a dummy picture, then my name,

then like reaching, then this is a leg on currency and this is like how much the lust

writes the driver earned from the passenger. This is like how much distance it was the

last right and then that time and then that date and time and like from whose location

to whose location it was so just don't like you know as like over something like that.

Great so it's also done then right now after this view after this view we need to make

import model. We need a model here. So model here transparent will be true and

visible will be is model visible. So we need to make this state. This is on U

state. So just add something like this. We also need few more things. So I am

quickly copying these few states. So something like this. So we need to

resian and set region because we also need here map feature. So this is

similar like as like our user app and then on marker like from where to where

you want to go and then current location then set current location. Okay fine

that's it. So then we can come back here again in this model and then here we

can add our on request close which we'll call this handle close function. So

Let's make this handle close function.

So this will simply call the set.

It is model visible and it will make it false.

Fine.

So we can save it right now.

Now let's add here on patchable upper city.

Something like this.

So import patchable upper city from react net is.

And it's tied with something like this on praise.

It will close it will call handle close and active upper city will be

one. Great. Then another touchable upper city, something like this. Then here we need on view.

Inside this view, we need on text where styling will be styles.model title. Yeah. And here,

This will be like new right request received.

Yep, something like this.

We're not watching anything because we need to actually like make it visible.

So we can do a short thing for now just for now.

We will like, control it dynamically, but for now let's add on on pressing.

using the right text and make the set is model visible.

True.

Yep.

Then when we click here, here you go.

New right request received.

Great.

After this text, we need on map view,

which is actually

actually.

on map view which is actually coming from our

re-ignitive maps something like this.

We also need our map view direction so I'm just adding that inside here.

Then now we can scroll down again in this map view.

We need to add few things.

First of all the origin sorry sorry this is not map view this will be map view or

directions. Yeah, origin will be our current location. destination will be the marker. API key will be process.

the nz.copy this name our expo public cloud google apik so we can paste it and then

stroke with which a before stroke color will be blue. So this is telling something wrong

try to restart with two views with the same name here map what is this.

Okay, I did some mistake.

Let's do one thing. Just cut this for now.

Add on map view.

Here, let's add style.

And height will be window height.

And one, H e.

Rezion will be actually our region.

On Rizian, change, complete, this will be something like this.

So say Rizian and say this Rizian.

Yeah.

Now when it writes logic like if marker is available, then show on marker with coordinate

the marker.

for current location if current location is available then show on marker with coordinate

the current location.

At last again if current location and marker both are available that time add this map view

directions.

last one. Great. So now notice here you go. It's looking beautiful right now. Yeah. And after

this map view, we can add another view with style, flex direction, row, great. Then inside

here, we can add another view with style, start, left view. Yeah. We need here on location

icon. So location imported from it goes icon and send here on color which will be colors.txt.

Save it now. Great. After this location let's add another view, something like this.

So here let's import color from Teams colors and GPS icon import from reveal slash icon.

And I added on view extra here.

Yeah, now it's perfect.

So yeah, something like this.

So styles.

Vertical dot and same here on border color.

And that's it. Great.

Then after this view,

let's add our another view.

With styles.

Right view and here for now.

Add on dummy takes like any locations for here.

I'm just like breaking something like this.

like on bassist end. So yeah. And then we need on border. So that's why I'm adding on view with

styles.border and self-closing view. Yeah. After this, we can add another text with like another

location. Great. And then after this view and this view, let me add another text with style

something like this. And view will be, I mean, element will be like this one, 9.4 kilometer

distains yeah then right now we need to like add another text with like something like this

amount like 138 bgk yeah and right now we just need to add our buttons the last view so after

This takes to lead.

need to add our buttons the last view. So after this takes let's add it. So input button

from components and button and window width. Yeah. So very simple view. This is the view style

is this one and button. So if you save it right now, decline and accept. Great. So yeah, this was

the like new right request received. So when on user will request for on right if the driver is

In the range of the user, then driver will get notification and when the driver will click the

notification, it will show model like this. Okay? Like new request to receive and from where

from here to here. Distance is this much. This much you will get from this right. Do you want

to accept it or you want to decline it? So you have to click this accept then you will get this

right and if you click decline then you're declining this right actually you are not like taking this

right from the user yeah but one thing I'm noticing and that is this one yeah now it's looking

perfect yep so yeah for now it's done our designing part is done right now almost yeah not

almost it's done. We can write and implement the main features like the right now we need to work

with a web socket to communicate with the user and the driver. So we need to connect the user

and driver with a web socket and when the user will request for on right we need to search the

like nearest all drivers. So how can we do that for this we still need to like two few things and

that is here. We need to make it dynamic this one. Okay, available for right on

not I think yeah, it's important right now. So come back here, it's very easy actually.

Actually, we need to make another function here. That is handle status change. We can

make it an async function because here we will call on API. Yeah. So handle status change. We can

call this and this will be actually something like this.

Yeah, okay, then here we can call this sake is one and opposite of

is one. Yeah, now if you save it and let's see, okay, it's still working, great. I was looking for

this one. Yeah. Fine. Then we have to do one thing and that is on stand change status.

8.exeos.gizuzbacilandputrequest.procase.env.expo public server.uri.slash driver.slash update status.

Yeah, here we will sing just status. So how can we sing this status? If E is one is true,

it means status will be active. Otherwise, status will be, let me check the database,

it's inactive. Okay, fine. So if active is on is true, then active otherwise inactive.

and we can then minimize this one or

yep make that full screen

you understand then we don't need

then any then because we are making

it a variable the up so for now it's

perfect and important think yeah

very important things let me show you

this hooks we were singing on

headers and we have to sing the same

thing here to but why because this is

protect it. Everyone cannot send request here. So let me see hitters. Yeah yeah it

was correct. And we need just access token. So access token. Something like this.

import Assing Storage and yep.

So we are sending the access token to

and when we are coming here,

if changed to the data available, then

the set is one will be

different than the previous one.

Okay, for now it's perfect.

We will take about it later because

we right now want to continue our work.

So, update status and let's make a new function in the drive.

and let's make a new function in the driver controller.

That is updating driver status.

So export, constant, update, driver status.

I think function, untry, catch.

If it's receiving error, then raise dot status, 500.

.json success falls error error.message here you actually message yep error

type will be any and request response great. Constant something from request.body we will take

here status then constant status equal to sorry driver equal to a rit

Risma dot driver dot update.

Where ID will be

request dot driver dot ID and data

will be okay, this is giving an error because here,

let's type it any yeah.

data we need to update the status.

So just save it like this.

Then raise.status201.json

access to rule and the driver.

Yep, means new data of the driver.

Great.

So, yeah, now let's add it inside the roots.

Make it put request.

Result indicated and update driver status.

Yeah, again, check from here request driver dot ID.

perfect. Great. So right now when we will press here just to delete it, access

token then we are doing this one and one thing make another use state by

giving them loading and site loading initially. False but this time true until we are

getting any response or

Yep, make it false great and come back in this header again here

Here disabult

Okay, it will actually don't work because that time we can do one thing we can like

Cut this everything and we can write it if loading is false then only do this and

wait by default it's false when you're clicking it's going to true okay so

Let's add it here. Great.

Now when I will click here or press here, it's not upaking.

Now it's got updated because in the very end violations,

try to register two views with same name.

What is this? Wait, let me see one thing. Just.

Now.

Okay, it's working actually, sorry, but I did here wrong.

This will be opposite.

Yeah.

Now give on the reload again.

And

Now give on reload again and make it 1.

Now notice it's active.

Great.

And then when we're actually making it 1 that time,

we need to also add something in the Assing storage.

That is status.

So set itame, this will be status.

So we can do one thing.

So is one is actually by default false.

We can say two is string.

No, no, no.

I think we cannot add any Boolean, right?

Yeah, because that must need to be string.

So two is string.

It doesn't work.

OK, it's work.

So, is one, we don't need this status actually, yeah.

This is just for one thing, yeah.

Got it.

Now let me check this here by doing on console lock, like what we are getting here.

So it's gate item right now.

and we don't need anything like this.

We can give a name like race.

So now hit again here.

Check it's right now on active.

I mean inactive.

Check or status. This is now.

Press here again.

Okay now it's true again false true false yeah I wanted this great so here

actually right now I will do one thing that is cut it and this initial

value will be we can do one thing we can call here on use if fake then here we can create

an async function something like this and await async storage dot gate item okay here

Let's give this name to status and send it to our set is one.

This status, but we need to make it actually Boolean this time.

So how can we do this?

What is this is telling us?

Stogl.

So we don't need the stogl switch right now.

Then yeah, so status is right now string, but we need to make it Boolean.

Okay, so we can do one thing if status equals to

true

Then we can say true otherwise we can say false so very simple logic

All right, we can fix it by just adding one thing here

By adding

Boolean yep

Great. Then is one is Boolean probably undefined. Okay, because by default it's undefined that's

why. Okay, let's make it anything no problem for now. But it will work. I'm showing it

just give on reload. It will be activate. Okay, it's not no problem. Let me check. What is

the status right now? It is inactive. Oh, it's active. Then why it's not showing active

here? Let me check the status. What is the value here? Okay, it's not calling the function.

me to one thing, constant fetch status and fetch status. Give on reload now. So why it's false

because interesting. Okay, let me add here now. Now this is active. Okay, it's still active.

Now let me press here.

Very weird to see that this is not

Updating. Okay, let me see one thing from here.

Okay, because this is one we are updating.

one we're updating. Let's do one thing guys here we can add change status dot data dot status

then we don't need to add anything like this so yeah status yep then I think everything will

work right now. So give them reload again. I know it will doesn't work but now press here.

Here it's active. I believe now it should be active now.

Okay interesting thing. Let me see. Okay it's giving me undefined. Ah I got it. So this will be

something like this, I think, yeah.

Paste it now.

We reload.

Now it's active, it's working.

I think right now it should be, it should work.

So give on reload now.

It's active.

So log is right now, active.

So sorry, it's status if active then true.

Yeah.

Now notice it's currently true.

After giving even reload, it's still true.

Why it's true?

Because the driver status is right now, one, that's why.

But if the driver press here right now,

this will be inactive.

Even if I give reload,

still this will be inactive.

When I'm pressing here, then it's getting one.

Even here also active.

So great, our work is for now done.

Right now we need to implement the web socket feature.

So let's start to do this.

All right, so before starting to making the web socket server,

this is my Android phone here.

So I am right now running two phone.

One is Android, another one is iOS.

So why?

Because if you think about it,

like when a passenger is giving one like a ride request,

then we need to accept that by using our driver app.

So that's why we must need two device.

Otherwise we cannot like make it fully functional.

We cannot check it perfectly.

We cannot use simulator because simulator

don't give us the real location.

So that's why we are using two device.

Okay, this is an Android device and I have other iPhone.

So that's my primary one.

The iPhone I will use the driver app and in this Android I will use that.

user or passenger. Okay, so right now let's start our socket server. We can create

a folder by giving them socket and inside this socket folder first let's create

a new file by giving them server.js. We can give you a JS find no problem and then

Just go to our socket folder and npm init package and inversion description entry point

get repository keywords we can like skip everything and we can write yes.

Then here you go our package.json is ready here and here we need to install few packages.

a full express, then web socket. And another one very important, this is geolip for Google maps APIs

because we need to actually like we need to make on circle nearby the users like when on user

is giving on ride request we need to make on like circle and we need to search the site five kilometers

all drivers. Okay, so nearby all drivers we need to search the drivers. Okay fine. So let's start

it first. Constant express equal to require express. Then constant something from require our

.luis and import web socket server from here. Great. And then Geolib imported from Geolib

library. Now constan app. You can call here express server. We can give you an port. For example,

we can say 4000 this is our socket server port now we need to actually score

our drivers or locations in this objects we can say late drivers something

drivers something like this.

Yeah.

And now we need to create on

WebSocket server.

So something like this.

So new WebSocket server and give your port 8080.

This is our port.

So double the SS means WebSocket server.

then one create a new connection and

W is dot one in the request message.

So when we are like getting any message,

let's add your Trigash statement first.

Then constant data equal to JSON dot purse.

message then console log we can like add here console log like a received message

and we can add the data. So this is actually one debugging line yeah now if our data.type is

actually location update and if data.roll is driver if driver is like

updating the location then that time we need to update this driver's store

Okay, so drivers data dot driver and here we need to add latitude the location latitude of the driver's latitude is feeling will be like this.

then data. again data. latitude and longitude

yep something like this data.data.longitude yep and then we can add and console

look like updated a driver location this time and the driver location is

drivers data dot driver. Yep. So this is also kind of like on debugging line. Like

debugging it when we're connecting a new driver. Yep. When the driver is updating

the location that time. Now very important, the most important that is when on

And user is requesting for on the right, like request right and the data.roll that time

must need to be user that time.

We can call on function.

So like find near by drivers.

So let's create it right now.

Just copy this name.

Come here.

Constant find nearby drivers.

we need to receive the user latitude and user longitude.

More space, yeah. Then this will simply return on object dot n trace driver dot is here filter method

and ID location then right now we need to actually make a variable like

distance and here we need to use the Geolip.getDistance method where we will

You will send the latitude of the driver, sorry user latitude not driver latitude and long

itude.

So longitude will be user longitude.

Yeah.

And the location which one we are receiving here.

Which one actually this is a parameter not receiving.

Okay.

Here splitting will be drivers.

Yeah.

Then, after this we need to return this tens, which will be

We need to return this change, which will be equals to a list of 5000 innings, 5 kilometers.

So if you want to take more or less, you can take that.

But I want to take the all drivers in the 5 kilometers of the user current location.

So that's why I'm adding here 5000.

Yep, then again dot map

The id and location

The id and

Spray to our location object. Yeah

Great. Then at last we can create our server. So I've got listen dot then port and here

on console log that server is running on port our this port done. So for now our work

is done. And just coming this package.json and yeah, it's fully perfect. So right now

we can then run this. So npm run card actually. And here you go. Server is running on port

4000. It's working perfectly. So our socket server is ready. This is a very small file,

but it's very like it's doing a lot of thing in our applications. Like it's the, we can

say the backbone in our application, this socket server. Because it's like connecting our

user and driver in the same network. So this is like the most important thing in our application.

Great. So it's done. Now we need to connect it. So this is actually our user. First we need

to work for the driver one. So let's do one thing. First go to this our screens folder,

driver screens and home screen and here start working so first make here

unvariable like constant WS where we will call new web socket and then we need to

add here our web socket URL so this is right now on port as we're using mobile

so we must need to add our like wifi port so something like this one okay which

one where we are writing running our wifi yeah so like this and then 8080

okay 8080 this is our port yeah now this time first we need to like update

the sockets. So we can see socket updates. Let's add an user effect hook here and

ws.onOpen method.

run callback here and const log that connected to web socket server and set

web socket connected we need to make it true so this is actually an estate

here it is, website connected and say website connected on state.

Yeah. And after this we need to send one message, something like this so

constant message json.perse our e.data and console log that received

message when we receive any message that time yep so ws.on error if we receive

any error that time console lock the error so wepsocket error and e.message

grade at last we have to close our the websocket server like this on close then

Then we can return the WS close something like this.

So this is also okay, it all updates for the first time.

Great.

Now we need to make on function here something like this.

the same location update.

something like this. So, same location update. So, when our web socket is ready,

state is like when the web socket is connected that time, we're like making

on just on object like we're making it stringify because we have to send it to

web socket and web socket just accept JSON data. So, that's why we're making

JSON string and here we're like we're adding a type. This is a name. Data we are

the driver location, current location, role is driver and this is a driver ID. So we are sending the driver ID.

When the driver is like changing the location a little bit, we are sending this to the driver. Sorry to the user. Yeah. Great.

Then after this, actually we forget one thing and that is still we didn't make any request for the driver that you have to give us access to your location.

location. So we have to make it right now. So let's do it as

singlet status.

I read geo location dot request background permission. Sorry,

not background foreground permission. I think yeah.

If the status is not granted, if the driver is like not

accepting it then we have to give an error to the driver like please give us access to your location

to use this app great. Then return done yeah. After this, I will get geolocation.orge.async

and accuracy. This will be geolocation.accuracy.high. Okay, you might be thinking

geolocation coming from where? So this is the geolocation, import everything as

geolocations from explo location. Yeah. So watch position I think. Okay, yeah. So

Because here we need to sync the time interval which will be 1000 and

Distance interval which will be 1. Yeah, then here let's say

position

I mean let's receive here position not send it. This is in parameter here latitude and longitude

then position.coats. Yeah, we have the data inside here. Then we can call our

set current location and we can set this latitude and the longitude. Yeah. And

if our driver and web socket is connected, if we have the driver data,

Devoted is coming from our hooks very normal like here.

Then simply call this send location object and send this latitude and longitude.

Yup, and in this dependency array we cannot describe it then.

For now it's done, as per me, yeah for now it's done.

So let me do one thing, let me actually run this driver app right now in my iPhone and

I will show you this also no problem.

So just come back in here in the driver.

So npmrun start and the app the project is here.

scan the QR code and here you go the app is ready here great if we give reload

then here you go now let's check our socket server we will get here data like

the driver connected okay now it's showing connected to web socket server

notice it's showing here that connected to web socket server great very good

Then let's do one thing, let's run our Android one right now because our driver

work is for now done. We are sending everything again, let me check for once more.

We are sending the location update here with the location driver and driver

wherever I do. Yup. Okay. Fine. So now let's go to our user app then and go to user this.

Let's go to our user app then and go to user this screen right plan screen.

And here we have to do a lot of work because this is the main screen.

That's why very normal thing. Yeah. So first of all, make this use rave and this state,

WS connect it and say WS connect it and user import from our hoops user use get user data

like normal thing yeah and then yeah for now it's perfect now here also first let's make

on new function like initialize our web socket then here the will start current

then new web socket and connect our web socket like 192.168.1.2 and 8080.

Then WS.current.on.open and one console look like connected to web socket server.

Great. And then we can call our site web socket connected to true it.

Meaning the web socket is right now connected. Yeah. Then after this WS.current.on.open.

one

message and let's add on try catch statement

Constant message equal to

JSON dot purse e dot data

If our message type if it's nearby drivers

that time console lock our message dot drivers. Yep something like this and I

think we don't need this one yeah yeah we don't need it here we can we can

delete it okay for now finally can delete it we don't need it now we will create

another function for like this one.

Yep.

Then, otherwise this is like, we are calling it initializing

web socket.

Okay, I did here is spelling mistake.

Yep, this is a sketchy spelling.

So, yeah, what we're doing, we are then like for the

error, we are like, uh, constantly logging the message.

Otherwise, we're closing the web socket.

Then we are like making it false.

And then again, we're trying to reconnect if it's possible then.

When the app is giving error, that time,

we're closing the WebSocket connection.

Yeah.

This is how it's working.

Yeah, fine.

Now we can save it.

And let's connect our Android phone right now.

Let's run the app inside our Android phone.

So we can say in Bemran Start, we can press Y

because this is running another port right now.

And we can then open our app.

And here you go.

The app is here.

We can press this where to right now.

And this is showing my current location right now.

This is my exact location where I am right now.

And notice connected to WebSogged Server.

And here this is also like giving us a lot of things.

Okay fine, no problem, but here also here,

it's like nothing, no problem.

But it's working and now make another function actually

after this handle place select.

Yep, so here we can actually make some other functions.

For example, constant how we get nearby drivers.

So when we need this, when on user is passenger

is giving on request for right here, for new right.

So one message, I think, as you're

try catch statement and in that try we need to like press our this e.data and if

our this message dot type equal to our nearby drivers then we can call another

function which name will be good.

another function which name will be get drivers data where we will send requests for getting

our drivers yeah otherwise we can cancel the error we can say error first in web socket

message or something like this. Yeah, this will right now give a error because we

have to make this gate drivers function, gate drivers data function. Yep, this

will be on a sync function with drivers. Now first we need to extract the drivers

IDs from the drivers array. We can do it by like something like this. For now we

can stay here. Yeah, for now we can stay here, no problem. Now after this, we need to actually

make another function. This will be the last function. This is for requesting our nearby

drivers. Okay, this is request and this is gate. Like we're when you're requesting, then

we're like calling this function, then we will call this function.

So first we need to request like normal thing.

And here then we can write if our current location and our

WebSocket is connected, then only we can like send

on request door WebSocket server,

with which type will be actually request right.

So we're sending a new request request right,

which rule user, let me show you again,

it might be confused here because socket,

web socket is not little bit like,

web socket is not like normal things,

it's little bit different, yeah.

So notice here, we're calling request right,

so where this is here.

Data data rule is user,

so this will actually,

this request is actually coming here, then it's searching the find the nearby drivers with

the data.letitute and data.longitude. How we are getting the data.letitute and longitude,

let me show you. We are sending it from here. Sorry, like the latitude, like the current location

of the user and that latitude. So current location latitude, user current location

latitude and user current location longitude. Then what's happening here? Here we

are sending this everything like role is user and user current user latitude and

longitude. Then this is getting passed here. And this function is basically searching

this latitude, longitude, this is making a circle with this latitude and longitude address,

okay, and then giving the all drivers, so how by doing this filter, okay, because in this driver's

object we are storing the all drivers locations, so it's very easy for us right now to searching

like the nearby drivers by using this library.

Okay? Yeah. So that's it.

Now after this, we need to call the gate nearby drivers function.

Yeah. So this one.

This is where getting the drivers.

And then after this, if we save it, still nothing will happen.

We need to make another function. This is the last function and this is like our handle border.

When everything will be done, we like make a ready.

So we can select it and driver or driver lists first object.

We need to make this to a state and user and the current location.

Yeah, so let's make the states right now one by one.

So go to pub and add fuel your state hooks.

So

and add few new state hooks. So driver list and selected driver and driver loader

we need these three states. Okay, something like this. Yeah done. Then scroll down,

scroll down. Yep. Right now we have to like call this all functions one by one.

So let me show you where you have to do this first. Think about it. We're just

typing on location name, right? So the first logic will be very normally in the

selecting one this praiseable yeah here it is. So we're not here let me show you

In here, in this map, this is possible.

So we are calling this handle place select function.

From here, after this set places, we can call actually the request nearby drivers.

Alright, so right now let's try this. So I am typing my CT-YAR port and I'm choosing

this wrong spelling. So, yep, now I am selecting the first one. Now notice here.

We're getting still nothing, right? All right, so after a long game research,

I found the problem why it was not working and it was just for a small thing and

and this is starting.

We forgot to run this initialize this web socket

inside on use effect hook.

So this was the problem.

That's why it was not getting connected

and it was not working.

But right now, when I am adding this line,

then definitely we will get data inside this function.

Let me show you inside this driver's ID is function.

Okay, in here we'll get the drivers ID right now.

like the all like nearest drivers list. Yep. So right now when in here, I am typing my like on

location, suppose the previous one, my city airport and when I'm choosing this one. And here you go.

Notice this is the driver list. So this is driver ID, which driver is currently available. And we

know that currently just on driver is available. So that's why it was showing one driver. Why one

driver because we are the driver right that's it okay fine now what we need to do we need to

send request to our server I already made on API for this a very very simple API here good drivers

data with ID just we are getting like this IDs from rikos.query no driver is provided if not

available then split like with the comma then we're

reaching it from the database and we're sending it to the

like front end yeah and in these groups just like this

get drivers data very simple thing yeah now let's call this API then

so call it like this exuse gate and this one

and send this in params this driver IDs then we'll get here the list of

driver data and then we're sending it in here and then we're making it false. Okay, great. So far now our

like almost 80% break is done. So just a little bit modification. Let's make it dynamic right now. Okay, very good. So first here

We need to

Okay, this is already capital later.

So this C must need to be capital.

Okay, and spare our database.

Yeah, I mean, as per our data structure.

So then now here, location selected, this scroll view, we can cart this.

We can add here on fragment and we can write on logic.

If our driver is loading, the revelator is true.

That time we will add here on the view.

With style, like flex direction 1, sorry, flex 1, not flex direction 1,

allowing items center and justify content will be center.

height will be like 400

center height will be like 400 and inside here we will add on activity

indicator so activity indicator import from reactiv which size will be large

yeah otherwise we can run this scroll view so inside this scroll view still

it's not fully correct. Why? Let me explain you. This is the

praiseable. So just cart this praiseable and run here on loop with our driver list.

So driverlist.map driver driver type will be our driver type like it's coming from this global

d.ts. Yeah. Then from here return this and we can paste it again. Then press

enable here. Selected vehicle. So when it's matching with our driver.vikal type,

then do this yeah and here this will be right now driver dot vehicle type yep now

here in this we need to actually do one thing we need to go back let me do

one thing. Just click here. Now, again, search the location. This time, when I am

hitting notice, this is giving me the correct data. Now, here instead of x, we will add

the driver dot the card type.

Okay, so vehicle type, we can say not card type.

So this is right now card, great.

And the prize will be here, instead of 35,

we'll multiply this width.

Let's make it first integer,

then our driver dot rate, yeah.

So now, what is this will be?

Dynamic rate, as per the kilometers, yup.

As per the driver rate and the kilometers, that distance.

Okay, great.

So then, here we need on, like logic,

if our driver dot, like the vehicle type,

if it's car, then this one.

otherwise suppose bike yeah otherwise not bike otherwise here we need to write

like if driver.vackel type equal to bike no not bike it was motorcycle that time

this one otherwise this one okay for now we can like make it something like this

yep so as this is current that's what's showing this one great but this right

now this confirm booking will call the handle order function so right now here

actually if I show you this console log you will understand why I was like organizing

this all data in here. So when I'm pressing this confirm booking in here I have the user

current location, the user full data and the driver full data. Why? Because we need to

send this all information to the driver right now. How with notification? Yeah. Right now

we're going to implementing push notification feature in our mobile app.

Driver will get on push notifications right now when the passenger will

click this on frame booking.

And how will be the push notification that will be in our like driver app,

how the push notifications look like something like that.

Yeah.

So that's it.

Let's start to work for this, but my laptop charge is just 9% so I need to

like like it to charts and I will start to work again when it will have some

charge. Okay so bye bye see you after some time. So for start working with

Expo push notification first we have to install a new library and we have to

install it in this both in driver and in user everywhere and we have to

install these three libraries. First one is expo notification.

Notification.

Yep, Expo Notifications, then Expo Device, and Expo Constance.

So yep, these are the three libraries we need for working with push notifications.

And I think I did a spelling mistake.

Let me see again.

Okay, yep.

So in PMI, expose notifications, this is correct.

Export devices, also correct.

Expose constants.

Okay, constants.

Yep.

There is another key.

Right next, correct.

So now we can actually clear it and we can close this one.

We can open new terminal for user and we can type the same one again here.

And here we go.

It's done.

Great.

Now what we can do first we have to come back to this top or let's do one thing.

So in this right-planned screen in this user one we can work later.

First start the driver one because driver one is most important here.

Yep.

Because driver will get notification.

Yeah.

So first we can do one thing in the driver one driver home screen.

Let's come back to this top and here we can add the notification.

Notifications is actually coming from expose notifications here.

And import everything as device from expose device.

import our constants from expo constants. Yeah done. So then here notifications dot set

notification handler and we can like define some settings for the notifications. So we can run

here on S-Incronus callback function.

Yep.

And here we can say shoot show alert.

True. So this will show on alert.

And should play sound.

Yeah. We want the notification.

We'll do on sound and should set batch.

So we can also make it true for now.

Yeah.

And then here we can add on use effect hook.

So let's create an use effect tool again.

And here we can write notifications, listeners, notifications,

listener is on use rave.

So let's add it here.

Yep, import user from react.

So we can send notifications, listener dot current.

Here we can add the notifications dot add event.

So when we will receive notification, then this will actually call, yeah, we can say notifications, yep, and

notification actually, yep, then inside here, we can like handle our notification data, yep, so we will get here our

we can say write data and this will be on JSON data so we need to

proceed JSON string so we need to proceed to original form it and

notification dot request dot content dot data dot order data so this is like how

we will send from our this write plan screen yeah so we can save it right

right now and after this the set is model visible will be true. When the notification will

appear, we will automatically turn one the model. Then right now set current location

where we need to pass the latitude, which will be our the right data dot print location

dot latitude.

Yeah.

And longitude will be something similar like this, but instead of current location,

it will be, this will be marker, great.

marker. Great. And, uh, no, no, no, sorry, sorry. Here will be current location, because

this is in current location state. Yeah. And here will be longitude, longitude. Yeah.

Then we can call our set marker state and we can say in this latitude, longitude again.

But instead of current location, right now, this will be marker. Yep. So we can copy

paste like this. Then we need to set our set region, which is a bit bigger, something

like this. And it will be something like this, something like this, okay. Instead of water

data, this will write data. Yeah, fine. Then turn. After this set region, now we need

to set the distance. So set distance. We need to create this state few

state. So let's go back again here. After this one, let's create a new one, new

distance and set distance state. And another one is last location, set last

location. And another very important one that is current location name and

destinations location name yep we need this few more state again great now

again come back here here set this change we need to send the right data dot

This can't.

Yep.

Then sit, current, location name will be our right data dot,

current location name.

Yep.

Sit destination location name will be right data dot destination location name.

yeah great and for now we can keep it something like this then at last return the

notifications dot remove notifications subscription and we need to call this

notification listener dot correct yeah so we are doing like making the state

we're making this set off right now. So yeah, that's it. Right now we can scroll

down and then right now the most important thing I forgot that is we need to

actually make on function. So we can simply clear it and I think function to no

problem by giving name a register push notification I think. Yeah and in here

We need to actually write some quotes, which is I am copying from documentation. This is like for getting our

Notification permission. Yeah, still it's giving an error

But from where it's giving error. Let me check. I forget to give you another second bracket. Yeah, so what is this?

Let me show you again if device so device is coming from the export device then

In for testing these notifications, we cannot test it by using simulator or emulator.

You must not use on physical device something like this one.

Then you will be able to check the notification feature.

Then here we are like requesting permission for getting the notification.

So then the most important thing here is this project ID.

If you do mistake here, notification will doesn't work for you.

So what you have to do.

So let me show you the most important thing.

This project ID actually is coming from this app.json.

This is the project ID.

So right now don't copy my project ID because you have to create on project by going to

the expo website.

So let me show you.

So go to Google Chrome and search this expo login and then do the login part.

And after doing the logging, just click this project and create a new project.

I already created the Riders project.

That's why you are watching this project ID here.

And creating project is very simple.

Just keep some information and that's it.

And then you will find out this ID inside your project.

You have to just copy this ID.

Don't copy my project ID.

This will doesn't work for you.

So then in here, add this Extras,

EAS and this one okay this from 45 to 49 number line which file driver and

and app.json file. So you have to add this project.

which file driver and app.json file.

So you have to add this project ID.

And then this project ID will actually work.

And this will give us, this will return as

an push token string.

Okay.

So for example, right now if I show you the driver,

I have the driver app is running on my iPhone.

So if I save it, nothing will happen

because I'm going to call this actually.

And one more thing, I think the network

here is not correct let me see yep it's the older one so let me update it a bit

same in here I did mistake here so again don't copy my network address because

your one will be different how to find out it go to your like a Wi-Fi

FI is stating or which network you are using, then check that IP address.

Yeah, so how again, let me show you go to settings, Wi-Fi and then details.

And here you go. So this is the network, IP address. Fine.

Just copy that and paste that in here and then this support. Okay, great.

So now we can save it.

Now I believe we'll go and get a new error if we give a reload in our user app and

let me show you the driver app right now. So I think right now you're watching my

iOS device. Yeah but wait. So the driver one is also getting it's also connected

great. So right now for the first time the driver app will ask you for on

permission. You have to accept the permission. Okay and then after that right now

if you notice one problem is happening that is the location is updating. The

location is updating very frequently even the driver is not moving but still

it's getting update. So we have to fix this problem and for fixing this problem we can like

implement some feature and that is we need to create here a new function. Here we can create it

by the way let me call this register for portion notification service tool in on use effect

talk. Yeah, something like this. Then now it will actually sorry sorry I it was on

mistake of myself right now it will ask you for on permission okay and you have to accept that

yep. And then right now let's make that function let's fix the socket issue. So the function is

actually doing some calculation this is the function.

Have a sign distance.

So course one and course two and this is like some mathematical terms we are adding here

radius of the art in meters.

This is the radius of art in meters.

Then here we are making a little round latitude two and delta latitude and then the long

longitude. Then like we are doing here some mathematical terms and we are making

on distance in meters. So what we are doing here, we will check that is the driver is

still the same location and when the driver is moving the driver last location and

the current location must need to be more than 200 meters. If the last location and

current location is more than 200 meters then only we will update our driver location

from the socket network or from the socket server. So this is the logic. So right now what

we have to do if you notice our the same location update function here not here this one this

use effect on the app. So in this position, we were working

yeah, so here we have to right now start our next logic. So

right now we need to make here a variable like new location

with this new latitude and longitude what we're getting from

like the driver location here and we have to write on logic, like

if our last location is if this is more than our like the last

location is more than 200 meters then only sit current location will be the

new location and sit last location will be the new location and if our driver

and web socket is connected that

If our driver and web socket is connected that time, then we will call our set last location

and send the new location.

Great.

Otherwise, if it's not happening, it means the last location, the current location is

very like near to the last location. So that time we will don't actually send any new

request to our WebSocket server. So then sit current location will be new location and

sit last location will be the new location and if our driver and WebSocket is connected,

Then we will send this new location again.

Yep.

So now when we're saving it, then notice it's not updating frequently.

It's stopped updating the driver location because right now I am like driver is not moving or let's do one thing.

Just give on reload to the driver.

Then it will start to work perfectly.

So right now notice this will actually don't move.

Okay, it's still not working.

So I think I did some mistake.

Let me see.

Yeah, I got it.

I got it. Where did I mistake?

So here after actually making the new location,

here is the mistake.

So let's do one thing.

Card is that's why I was feeling like,

yeah, it's like getting something like similar logic.

So here then we can say if last location is available,

then we need to make on distance actually here. And for the making the distance we need to call

our that helper function right now and we need to send this last location and the new location.

The both location we need to send here. If the distance is less than 200 wait wait let me paste

the code right now here. Here will get to the distance, not last location.

Yep, now we can save it. Right now it should work. Let's check. Give on reload. Notice it's not

moving. It's not updating anymore. It means it's right now polished because the driver is not

moving. That's why. Great. So we have our this problem solving is done and now let's

Let's come back again to the notification one.

So here our work is almost done in this driver one.

We just need to copy this push token string.

So this is the string.

So just copy this string and like paste it somewhere.

We will actually save it to database but not right now after some time.

So we can paste it here and run comment.

Yep.

Now come back to write plan screen and let's start to work in here.

So in write plan screen, just come back to this bottom and from here, when someone is

pressing like the get handle water that time we will call on function. So let's

create that function that will sing on notification. So we can say post notification

send push notification on a synchronous function it will receive expo push

token which will be string and data which will be any for now now let's make

ready our message so to here will be our this expo push token okay sound will be

like the bide fault sound the notification sound as per our phone yeah

notification title will be new right request yeah notification body will be you

have a new right request yeah then we need to send some data so we can say that

this order data we are sending this data which is coming from the like

parameter here. Now, array itgeos.post and post it to our expose. So, exp.host.

post it to our expo so exp.host---------v2---push-send.

So this is the expo endpoint for creating notification.

By the way this will only work for development mode.

This will doesn't work for the production mode.

For production mode we need to make little bit modification.

I'll show you later. Yeah, so restart data done and if it's catch any error, then simply

console log the error phone now. Yeah, great. Then right now, we need actually a few things.

So let me just copy this like kind of location name and destination location name. We need

need this two thing. And we can send on request to this Google APIs by something like this

and we'll get the current and destinations, current location and destinations location

both. Here we don't need to send the driver. We need to send user current location, marker,

the distance which will be distance and let's make it in correct value then current location

name, this will be something like this. So current location name and data results,

the first index then formatted address, yep what we have here. All right, then the last one

will be the destinations location, something like this. Great. Then right now we can say constant driver

push token and here actually we need to add this token okay how to do this

just paste it like this yep and I wait send push notification call this

driver push token and JSON.stringify.senda.data. Now we can save it. So after saving, let me show you the

user app right now. So this is the user app. And when I will right now come back here,

Let me do on search. For example, I can search for my capital city so we can say

taka and this one Bangladesh. So when I am searching and choosing this one

and notice this is the this stains. So it's a long

destinations. Yep, we need like four hours for going to this location and the

charge will be 7400 BGT. Okay, so now let's see the magic. When I will praise this

confirm booking button, this will send a notification to the iOS app to our

driver. So let's see this. So we can't see anything, right? True. But why? Okay,

let's check this why so handle water is here but let me see the notification is working or not.

So let's press confirm booking again. Yeah here you go. Check the iOS app right now.

New ride request you have a new ride request and new ride request received but the details

is not correct, we will make it correct, no problem, but notice the notification is coming

and it's also showing us the correct in the map, notice it's showing us in the map and

this is fully correct, like what this is showing, this is like my city tool, that city, yep,

fully perfect, but still one more thing we need to do, so let me decline it right now

And here we need to like make it dynamic right now.

As we have right now dynamic data.

So first of all, here will be

current location name.

Here will be the destination location name.

Yep.

and then here distance will be our distance like how much distance it is.

and then the amount

tens it is and then the amount this will be on little bit math so this gains

multiply this with our driver part kilometer rate so driver and rate and it can

be a very long in-cissor so that's why we can make it too fixed with too so this

will give us like two value after like dot after point yep great so right now

when I will praise

notification again here and this time okay so something is not working that is

the destinations, location name is not working, let me see why.

First check it from here.

So destination location, I think problem is from driver one so let's go back.

So write data or destination location name.

Okay, so I did here a spelling mistake, that's why this was from this site.

But again decline and let me clear the notifications and again hit country

booking from the Android one and I was on his here. Great, now notice it's

giving us the correct location and everything so that this chance is on 40

kilometer the amount will charge the driver is 7400 the first one is my current

location and which location is selected that's the full detail address of that

location yep sorry guys I went to offline because I had some internet issue but

right now I'm again back but right now this Android phone is connected with the

driver app. So I did like opposite right now. The Android one is running the driver app and the

I will just want the iPhone is running the user app. Okay, but no problem still it's same thing.

Okay, that's not the problem any. So right now what we have to do we have to send like when the

driver will accept the order we need to send on notification to the user. Okay, we can send on

notification to the user. So how it's possible? Let me show you. So here is the driver one.

When the driver is actually accepting the right handler, I mean the right request,

then we will send on notification to the user. Okay, very good. So first of all,

what we have to do, we have to add that project ID. If you remember this extra

extra and this project ID same thing we have to also add inside our this user.

I have got JSON okay something like this. So go to your expert project and again

you don't need to like again make sure it because this is similar project ID

what we added in the river one that same one yeah and then after that we have

to do some modifications for receiving notification in this user app to so

So what is that? First of all, it will be like similar as like our driver app, but a little

bit different.

So first, totally top. I mean, after this new state hook, here we can add notifications.

So notifications, we have to import it from expose notifications. Yeah. And then everything

as device from export device. Yep. Everything as constants. I mean constants from

export constants. We don't need anything or anything like that. Yeah. Then notifications

start, say notification handler, I think more handler, I think just handler. Yeah. And

handle modification right now call and call back function here where we need to add

shoot show alert so yeah it will show an alert should play sound so we want

that it will play on sound and should say badge for now make it false we will

talk about it later.

should set batch for now. Make it false. We will talk about it later. Yeah. Then after this,

we have to create on use effect hook again for like getting access to the notifications permission.

Yeah. First we have to get access. Take access of the notification. Yeah. So notification, listen,

that we need to create on use rave again.

So here we can create it.

And now that notification listener dot current,

this value will be right now notifications dot add notifications, receive

listener. Okay. So this is actually for receiving notification. I'm sorry. Yeah.

We will receive your notification and something like this,

other's data, what we have to say, and actually for now,

let's make it empty. We work here later.

Yeah, for now, make it like little bit like this,

we will work here later. We have to do here a lot of things.

That's why. And then after this,

we have to request user for giving access for the notification.

And so here we can make a Newsefeb tool book.

And here this will call register for push notification.

I think what we have to create right now.

Yep.

Something like this, but let's create it right now.

So here, dependency will be empty.

And async function that register for push notification async.

So first if the device dot is device so it's totally similar as like the driver one.

So we can like copy it then we don't need to like write it just we're taking the like

permission from the user and yep something like that and then the project ID.

This is also very important.

Yep done. So this is the, so right now we need the project ID. Okay. As we know this. So this is the user and if we right now come back here and let's go to your user app again.

So the user app and when I am pressing this where to

then notice the project ID should come here. Okay, still not coming.

Let me see why it's not coming. Okay, because I remove the console of that's why so project ID now save it.

Now notice here. Here you go. So this is our user project ID.

So we have to actually copy this and we have to keep it somewhere.

For example, here we can keep it.

Yeah, done.

Then we can remove this console log tool.

We don't need this console log anymore now.

Yep.

So our project is ready and push token string.

We don't need any string.

We have to actually save this push token string but no problem.

All right, then after this, our permission

taking is also done.

And right now, let me think.

Yep, for now it's done and in here,

in this function, this same push notification function,

we can delete that, then catch,

we don't need that anymore right now.

Yeah, so from right now it should work.

So let me show you.

And yep, let's do one thing right now.

Let's go back again to our driver homescreen.

And here we have to make ready our right data,

we can say.

First we need user.

So user and user data.

We need the current location, the marker location,

the driver, the distance, then the right data, which will be raised. Okay, so we have

to create a date, no problem, we will do that. And the right data, okay, fine. So, actually,

we have to write now when the driver will press the accept write button.

This time we have to accept write for the driver.

Okay, so when the driver will accept the ride that time we have to create on rides actually.

So when the driver will accept the ride that time,

we have to create on rides actually.

Okay, so let me show you the backend.

I did something in the offline in the backend part

and that is in this driver controller.

We have a lot of thing here,

not a lot of like some towards creating extra functions

routes added here.

So first one is creating new right,

updating rights status and getting driver rights.

The all list of rights, yep.

And in this driver route, this is the routes.

So get rights, update right status and new right.

Yep.

So right now we have to create new right.

So for this, we can do one thing.

First, we can like add our that access token.

Here, this will work on a sync function.

Let's call here agios.post.

And you are a little bit something like this.

driver slash new write and here we have to send user ID which will be the user data.ID.

We need to send charge which will be the distance multiply first integer, first integer

in case there is a driver.rate.

And then if it's like the point where there's too much,

then we can make it like the integer.

We can update it to tool length here.

And set us very important.

This will be processing and current location name.

destination location name and last one is distance.

fake after this we can add haters then authorization

and bearer access token yeah so simple and similar thing yeah and then when

Then we will get the response that time.

Do this everything that time.

Just create a notification for the user that the rider accept your request, okay, your

ride request.

Yep.

So then here we have to make actually another variable here by giving name data and give

this right data variable tool because we need that tool but not right now so just keep it no problem

and here we can spray our driver the current location the marker the this change yeah

and then we need this one this is our driver push token so uncomment it and cut it

and paste it in here great then call our that send push notification function

what we have to create, send this token and the data. Great. And I read this giving error.

So let's add here an async modifier. So copy this same push notification name, create it here.

This will be also a sync. This will receive expo push token.

Fible the string. Data. We can say any.

Now constant message.

H2 expo push token sound will be we can say default yeah title will be right

request accept date. Body will be your driver is one his way or one the way we

can say. Ben data. This will give the water data and data. Yep. So something like this

And still right now that same thing again.

So something like this didn't right now that same thing again we have to send it to

egeos that post and the expo host notification yep then message so very good it's done

right now when I will place this accept 3dOS 1 nothing correct nothing is

happening so this is a normal thing because come back to our user right plan

screen again go to top as I told you here we need to work here yeah this one

this notification at notificationless and yeah notification receive listener

great so let's start work here now and then here current location will be the

Notification.request.contain.data and dot current location. Yep. On marker, so the marker will be

notification dot request dot content dot data dot marker. This change will be

the notification dot request dot content dot data dot marker. Yep. Sorry, not marker.

I get mistake here. This will be distanced. And the last one is the driver one. So we

also getting the driver information that will be something like this. Yeah. Then router.

dot push.

Bot name will be like slash routes.

Slash right details.

Params will be ordered data.

JSON.stringify.

So that's an object and we can make that screen right now.

Yeah done.

and this is a simple thing.

Okay, fine.

So for now it's done.

Our server is giving error.

Argument user is missing.

What user is missing?

Okay, so the problem is here.

Okay, let me see one thing again here that is,

this is actually giving error, the user ID.

Let me go back to the server controller.

So creating new right user ID.

User data.

Set user data.

Okay, got it.

So I did a little bit mistake.

Yep.

So here let's add the set user data,

which will be the order data dot user.

And then we can like remove this alcomon comments.

Yeah.

Then here you go.

Perfect.

So right now we have user data.

So right now when I will

place the X shape,

you will see that it should work.

So let's press accept.

Okay, still the problem.

User is missing.

Okay, fine.

No problem.

Let's do one thing go back our controller and save the code so that it will like even reload as we're using

TypeScript compiler. Yeah, and give reload to our both app

Let's try again from scratch

Here so then and a one thing on important thing and that is

Here we are sending right decals screen which is totally not available

So this will definitely give us an error.

So let's do one thing.

Come here and create a new roots like write details.

I'm going index.tsx, Rnf, for now, make it something like this.

It's good enough for us right now.

Yep. Then let's go to user app again.

So then hit confirm booking and Android one.

new notification received. It accept and here you go but it's telling us no

unmatched route in the iris one. So what can we do then?

So what can we do then?

This is telling us right details.

No, how possible right details, right details,

roads.

Okay, it's an fun error, no problem.

Save it, but notification is coming in the user app too.

And notice here it's the like rights information.

information. See I find. So let's start to work right now.

First of all, here, this is our driver app. This is the user app.

So is there up just got crazy? That's why that they forgot that

right details is available here. Okay. So let's start to working

what is right details first. We need these right details in the

driver app tool. So let's do one thing. Let's create our driver

right details too because then driver will also go to the right details

screen. So driver will go this I mean in app folder roots folder and new folder

write details on index.tsx, rn, f. Yeah, for now it's done. Fine. But this write details.

So let's call here our right details screen.

Let's create it.

So import right details screen from screens come back here.

So write details, write details dot screen dot gsl.

Yep.

And then write details screen.

Very good.

Done.

Now inside write details screen.

what we have to do here we have to do also a lot of work not a lot but yeah it's a bit.

So order data we will receive here let me change this name to order data object here

because this is an object then use local search programs give you type any otherwise this

will give some error after sometime type issue yeah order data JSON dot first that order

data object, constant region and set a region, import use state, give you any type.

And we can copy or previous that simple by default latitude and latitude like address.

I think this is Google address.

I'm not sure about it, but the very reason.

Yeah.

And then we need to run here on use effect talk something

like this.

It's a very big.

That's why I'm copying it.

So this is actually seeking our that may value again, OK?

With our original like from where to where we want to go,

that current location and destination location,

it will sit in the map and the map will go like,

the map will do on zoom and go to the exact location.

Yeah, fine.

So now then after this view,

let's add a new view with style, something like this,

import this window height.

Then we need our previous map view again and import map view from React Native Maps.

Inside here, order data.driver.merker.

If it's available, then marker import from right-knockup maps where coordinate will be

order data dot driver dot marker. Yeah great. Then after this, what we always do that

similar type of things like we can also copy it from this right-flan screen. So let me just

it quickly. The similar thing again here but this value will be

it.

that similar thing again here, but this value will be autotated.river.current location.

driver.merk. So we make sure that you're checking it correctly. Yeah, because if you do any

typing mistake here, then this will doesn't work. After this view, let's add another view

with some style like this one. And then here we can add on takes something like this.

The driver name here we will show the driver name to the user that your driver name is this.

and then after this let me add and view something like this phone number

so and one linking so what is this actually this is the driver phone number

and this is on linking so when any user will click the phone number it will open

the number in the phone pad.

Yep.

And then after this, let's add another takes to similar thing.

And here we need the driver,

like car or motorcycle or like that vehicle color,

like so that the user can easily identify the driver.

Yeah.

And then after this, how much the user need to pay the driver?

or again that playable amount.

Yep.

And at last, like on, we can see on a recommendation

to the user that pay to your driver

after a recent to your destination.

So pay to a driver after reaching to your destination.

Something like this, you can add anything here.

This is like a custom UI.

You can definitely laptop the details for your wish.

Yeah.

So that's it.

This is the right details screen.

So this is our user write details screen.

find done but still we have to make this driver write details screen right so

come back here in the driver screens and the write details so let's create a new

folder by giving them write details and write details dot screen dot usx and here

This will be right details screen.

Yep, so let me do one thing

Come back here inside this Roops

Let's call the right details screen now. Yeah

So then in this right details screen now we can like copy it without this

user right details screen so something similar like that

first let's import or use local search

perms then on extracting that is

our orders status and set orders

status this is important,

initial value will be processing.

What is this I'll explain after

some time yeah and order data and

that same region again like by default

one and that use effect also.

But here data will be a little bit

update because this is the driver

that's why the data type is not similar so here this is ordered and current

location okay it's normal it's not like longer like the previous one okay it's

just ordered at a current location yeah and then after this user fake we need

on simple we can for now we can make it like on simple callback function and

And it will submit.

Yeah.

So for now it's fine.

This will be all definitely on a sync function.

Yep.

Then inside this view, let's add our map view again.

You can totally copy this from the user one.

Okay.

It's totally similar.

So window height and map view imported.

Okay, so this card in it, white directions.

Card in it is, wait, wait, wait.

From where, oh, sorry, marker, React Native is busy.

No input marker from React Native maps.

Yep.

And here, this will be written order data.marker and order data.

location okay it's updated a bit and then after this view let's add another view

view with sky like this.

with style like this. Here we need to add on text like the passenger name right now

this will show passenger name previously it was string. Drive on them but right now

this will show the passenger name to the driver. Yeah. And one view with style like this.

Then on takes once tile.

Inside this takes we can add phone number.

And the phone number will be something like this, as like that previous one.

So linking.

Yeah, we can save it right now.

And then after this view, let me add another text where style will be totally like the previous

one.

Yeah.

And value will be that variable amount again.

Yeah.

So it's like totally similar.

But one thing is different here.

That is this last view.

Because here will be right now on button.

is missing. I mean, which is missing? Wait, Expo Go is not responding. Okay. Some small

issue. Okay, no problem. My Android phone, I mean, this one does not have a very good configuration.

So that's why it's really be having like weird sometime. Yeah. That's why I think when we are

running this app in iPhone, we are not noticing like anything like that. App is crashing or something

like that. But if sometimes sometimes happening in this Android one because this ram is, I think,

just forward zero, 80, I do not know if I'm going to teach. Okay. So here, yeah, what I was explaining.

So this button is different. So this is actually accepting this is for driver. Okay. This is missing

in the user on the passenger one. So when the driver is like taking the passenger in the car,

then the driver need to choose the button, pick up passenger and then after

going to destination the driver need to make it drop of passenger. Then the driver

will get money from the user. So then we can save it right now. All right

details work is done. So now let's come back again this here. Yeah our this

home screen driver one yep and this right data will be right now raise dot data

dot new right actually yep. Then we can send our driver to the new screen that

is our right details screen. Great. So right now let's try again and I hope right now everything

will work perfectly. So let me type Confirmbooking. Now hit Accept, check the IS one. Okay it's breaking,

But notice the user one is right now in perfect one, perfect, I mean screen,

the passenger name is char here, the phone number, the payable amount and pick up

passenger. But the iOS one is giving some error. So let me see what's the error is

actually. So this is telling us Jason Percero that

order data object. Alright, so I found the issue. I think this is order data, not

orders data. So this was on typing mistake. Right now I think this will work, but notice

in our database, this is the right. So we have to delete it right now. Now go back again.

and let me go to the iOS one again.

And here we go. So we can simply right now praise this accept.

Then here we go. So the both app is working perfectly right now.

the passenger name, the passenger phone number, passenger, then how much?

showing the passenger name, the passenger phone number, passenger, then how much the passenger

need to pay. So this is the driver app, the Android one, and this one is iOS 1. So notice,

both are looking very perfect. So right now, suppose here I am like the user, so I can

right now call the driver or the driver can right now call the user right clicking the

number also. Yeah. And then when the driver will reach to the user, the driver will simply

press this one, pick up passenger. After pressing this one, still nothing is happening.

Pick up passenger. Okay. Yeah. Because this handle sub make is empty here for

get it. Yeah. So here we need to start to work now. This is a very simple function. Here we need to

like update this status right now. So first that our access token we need this

because this is on protected route and then we need to write some logic like

this yeah so a lot of things but let me import exgos first then this roast

yeah and this router at last. Yeah so what is this? We are sending the updated

request and we are telling here if the order status is ongoing then make it

complete otherwise make it ongoing so when it's ongoing it means the driver

already picked up the user so that time like change test address to complete

Like then this button will be changed to like drop of users.

So that time we need to make that complete.

So something totally like that.

Then write ID and that same logic again here.

And when the author is done, then we will show on message like

will done the drive on name and we will send the driver to this apps.

Great.

Now when I am pressing this pick up passenger notice.

So let's have a safe journey.

This is trailing to the driver because the driver right now

take off the user and the driver and user right now in the same curve.

So then after like reaching the destination,

the driver have to again, praise this one that drop of passenger.

So I'm pressing it again.

And here you go.

Well done, Shaharir.

And notice right now, if we come here,

the driver write this one, total writes and this is a total earning.

And here it's the status, it's completed right now.

So, yep, our work is done, right?

So right now what we can do, we can then update this data

as per our data. Like we can make it dynamic right now.

So for this, we have to go to the home screen of the driver, not the user.

Yeah, this is the driver home screen. Great.

So first, what we have to do, we have to send request for getting our all

a recent writes. So first make on skate here something like this and then we can

actually make on function here like here we can make it that get recent writes

something like this very simple and then we can call it inside on use if it

took so that right now we have data so very good now we can make it dynamic this

flat list so this will be right now right data okay fine but yeah this one this

recent right one will be right now recent right if we save it everything will

began objects are valid as a react child.

Okay, yeah, because if we come back here, then let's go to this right-cut

component and let's update it right now. So here we have to work. We have to make

it dynamic. So first change this type to any right now.

and the first one will be this one, iKam.user.name actually the correct one, the dynamic one, and here we can write 5 no problem for

one and here we can write five no problem for now we can make it static but

this one will be item dot charge then next one will be item dot created at I did

I did here is preling mistakes so we have to write not type the wrong

I'm spilling nothing to go notice created it so I did spilling mistake in the Prisma model. Yeah

So then slice 0 to 10 yeah

So then after this this will be just 10 yeah perfect and

then

I came dot current location name and

Item dot destination location name so right now we can save it and

And here you go.

This is giving us dynamic data.

Fully perfect.

And one thing we can do then, we can make this right view.

So the left view.

Yeah, this one like a more.

Yep, it's looking better.

Great.

So that's it.

Right now it's dynamic fine, but this one is not dynamic.

So let's make that dynamic tool.

So for making that dynamic, it's very easy.

Let's go to write card.

Sorry, not write card.

I mean, this render write item here.

First, import something from use get driver data.

And that driver again here, yeah.

And first of all, this total earning,

this is correct and everything is correct.

We have to just change here.

If that total earning is, if I comment it,

okay, okay, okay, perfect.

Let me do one thing.

We can say if the item.title is.totalearning, then this will be driver.totalearning.

Yeah.

Otherwise, again, if the item.title is a complete write, then this will be.

the driver dot total writes yeah. Then again if the item dot title equal to

hanging right then driver dot pending writes and for the last time if our item

title again meanings if that if item title is cancel right then we can say driver dot cancel

rights otherwise zero yeah so save it right now everything will be dynamic notice it's right

Now, totally dynamic.

But here, we need to add our currency.

So, yep.

Right now, it's fully dynamic.

So, our work is almost done except few things.

Right now, actually, guys, we are perfectly like creating

order and we're doing everything.

But in the user one, in the user app,

we have to just like fetch the recent writes,

then almost very good to go.

And then I will do like the other parts in the offline

and I will push the codes, okay?

I other parts, meetings, just this like fetching is everything

and just adding few things.

Then I will add on button so that you can like do a logout also.

So that's it.

And then what will be then your task right now?

So your assignment will be right now,

adding more features in this app.

Okay, for example, review features.

Okay, rating features, not to review,

rating features.

When the driver is like executing,

then we need to send another notification.

To the user that you can give on the review,

sorry, on the rating to this driver right now.

And then you have to like make on simple API,

update that rating of the driver.

Very simple, okay.

And then after this,

we can also like add here a lot of features.

This is actually just,

we can say just 20% or 30% done.

this app.

of features, this is actually just we can say just 20% or 30% done. This app we can do a lot of

modifications but the most complex features are done like the real time tracking and like communicating

with the driver and user that's done. So right now the easiest like easy easy features is it's your

assignment just like adding this everything like or updating the UI, it's your task, okay.

So I will very quickly make this recent writes in the user app too and then I will finish this tutorial again one team.

You might be telling me right now like how can then we like make an APK for this app or like for iOS how can we do this.

So I will try to my best for create another video for that because already it's a very long video.

I'll try to show that in another video.

Okay.

And this app is not fully ready for production yet

because we're making production when we make this app

or APK, then notification will doesn't work

because we need to use like Firebase

and like other services for iOS.

And I'll try to my best for show you that

in the next tutorial, next upcoming mobile app tutorial,

that how can we also make,

like how can we build our app and how can we upload that

Google Play Store, Apple Apps Store, and everything.

Okay.

And one news that on mobile app courses also coming

in the next month, and that is going to be super interesting.

Course, I believe no one dropped this type of mobile app

course on the planet.

It.

So, yep, I am really trying to make this for doing something

spatial for you guys.

So just pray for me and support me.

But right now, let's finish the user one.

So what can we do?

we can copy these few things, just copy.

Then go to our user,

then the home screen.

So home screen is not root steps,

home and go to home screen, yeah.

So here we can paste it.

So styles dot write container.

It's missing. I know.

So for now, let me see one thing here.

We use styles dot container.

Okay. So let's do one thing here.

Let's add this.

Right container. Yeah.

So right container done.

here let's import the window width and then write title for the right title at CSS like

this and then colors.

No, this is color in this app.

I think yeah, this is color here.

Color.txt.

Okay, here it's regular text and color.

this primary gray, I think. Yeah. And then let's import this flat list from React Native.

Then our recent writes what we have to actually. And just write that. Okay. So let me just

comment it for now. Let's go to our user app. And that's the UI. I know that's not looking good. Okay.

We can make it nothing because first let me add here another view.

Been some style like we can say padding 30.

make it 20, yeah, perfect. And this one we can make wide actually. And then update the

padding to 15. Now it's actually perfect. Except wanting and that is this font width. I am

feeling it's not good enough like 600 should be correct here it's a bit better

yeah then the recent writes so let's make on state here something like this use

date and we have to make an API for this I forgot about it so let me make this

it getting user rights.

So, rights, okay fine, but yeah, everything is fine except this one, this will be user ID

and request.user.id.

Then, yeah, otherwise everything is perfect.

So you can save it.

Yeah, otherwise everything is perfect.

So you can save it right now.

Then let's come back in these roots,

user roots and get.

Slash this one will be get writes.

So get all writes.

Yeah done.

So, be sure that you're reporting it from the user one, okay, user controller.

Done.

So, we can come back again and get recent writes.

Here we go.

Copy this and paste it in here.

I think storage,

XGOS,

and EOS effect.

So access token,

this will be gate write simple.

Right, I think I made gate writes.

Let me check again,

Alice for gate API writes.

API roots,

yeah gate writes, great.

Then, write everything is fine.

So let me console log this recent writes.

Here you go, we're getting the data.

Very good.

So now then we can uncomment this flat list.

So recent writes is available, just write card is missing.

Let's create it.

You can copy this totally from these components, come on right card.

Here it is just copy this.

Yeah.

Come back inside user.

Screens, sorry, components.

Right and paste this file, right card.

Colored primary.

Primary text.

yeah then this one is location is giving an error color let me add here color this will be

optional screen here if color available then color otherwise this one same go

here done so this is like how can we make it work yeah now come here and

import the right card, save it.

Check, here you go. So recent writes. This is showing our name, but I think it should show us the drive on name. Yeah.

But the driver name is actually my name is true because I am also the driver. I'm also the passenger here. So

I came dot drive or dot name

What is same?

Okay, so but it's done and yeah everything is right now for the done

Great so right now for the last time let me again take another rights

So this time I'm gonna go long like Tucker University

How this one and

Here you go. This is the location very long

not so long I think 200 kilometers size for around 150 kilometers here then

country booking and here you go then this is on 35 kilometers actually but

right now we can press accept here you go so this is the location everything is

here so I am right now near to the passenger so let's pick up the passenger from the app

to okay let's have a safe journey now right now I am in the darker university so let me drop

of the passenger and done well done shout here so right now notice the magic this is showing us

two rights okay all right guys my laptop charge is just 9% so I cannot like

Exchange this video to more big but don't worry this is a very silly error. We can easily fix it like within next five minutes

But I'll fix it and push the code for you. Okay, don't worry for this. This will definitely work

So that's it. This was the video. I hope you enjoyed it and you learned a lot of things.

So that's it. This was the video. I hope you enjoyed it and you learned a lot of things about

especially about Google Maps API like how can you play with the Google Maps API?

So thank you for watching this video and I'm coming very soon with another beautiful tutorial

So till then take care and bye bye see you.